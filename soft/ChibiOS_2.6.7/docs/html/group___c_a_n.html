<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>CAN Driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 92px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ChibiOS/RT<br><span id="projectnumber">2.6.7</span></div>
  </td>
  <td style="padding-left: 3em;">
<script type="text/javascript"><!--
google_ad_client = "pub-3840594581853944";
/* Documentation, bottom, 728x90, created 9/19/10 */
google_ad_slot = "1902290615";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___c_a_n.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">CAN Driver<div class="ingroups"><a class="el" href="group___i_o.html">HAL</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for CAN Driver:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group___c_a_n.png" border="0" alt="" usemap="#group______c__a__n"/>
<map name="group______c__a__n" id="group______c__a__n">
<area shape="rect" id="node2" href="group___i_o.html" title="Hardware Abstraction Layer. " alt="" coords="5,5,48,29"/></map>
</td></tr></table></center>
</div>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Generic CAN Driver. </p>
<p>This module implements a generic CAN (Controller Area Network) driver allowing the exchange of information at frame level. </p><dl class="section pre"><dt>Precondition</dt><dd>In order to use the CAN driver the <code>HAL_USE_CAN</code> option must be enabled in <code><a class="el" href="halconf_8h.html" title="HAL configuration header. ">halconf.h</a></code>.</dd></dl>
<h1><a class="anchor" id="can_1"></a>
Driver State Machine</h1>
<p>The driver implements a state machine internally, not all the driver functionalities can be used in any moment, any transition not explicitly shown in the following diagram has to be considered an error and shall be captured by an assertion (if enabled). </p><div align="center">
<img src="dot_inline_dotgraph_7.png" alt="dot_inline_dotgraph_7.png" border="0" usemap="#dot_inline_dotgraph_7.map"/>
<map name="dot_inline_dotgraph_7.map" id="dot_inline_dotgraph_7.map"></map>
</div>
 <table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c_a_n_tx_frame.html">CANTxFrame</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">CAN transmission frame.  <a href="struct_c_a_n_tx_frame.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c_a_n_rx_frame.html">CANRxFrame</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">CAN received frame.  <a href="struct_c_a_n_rx_frame.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c_a_n_filter.html">CANFilter</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">CAN filter.  <a href="struct_c_a_n_filter.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c_a_n_config.html">CANConfig</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver configuration structure.  <a href="struct_c_a_n_config.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c_a_n_driver.html">CANDriver</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure representing an CAN driver.  <a href="struct_c_a_n_driver.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga2d3efc34f7704ab23c293aac2be47764"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#ga2d3efc34f7704ab23c293aac2be47764">canInit</a> (void)</td></tr>
<tr class="memdesc:ga2d3efc34f7704ab23c293aac2be47764"><td class="mdescLeft">&#160;</td><td class="mdescRight">CAN Driver initialization.  <a href="#ga2d3efc34f7704ab23c293aac2be47764">More...</a><br /></td></tr>
<tr class="separator:ga2d3efc34f7704ab23c293aac2be47764"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadf8c892ca4bd2544d03be8a690885aef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#gadf8c892ca4bd2544d03be8a690885aef">canObjectInit</a> (<a class="el" href="struct_c_a_n_driver.html">CANDriver</a> *canp)</td></tr>
<tr class="memdesc:gadf8c892ca4bd2544d03be8a690885aef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the standard part of a <code><a class="el" href="struct_c_a_n_driver.html" title="Structure representing an CAN driver. ">CANDriver</a></code> structure.  <a href="#gadf8c892ca4bd2544d03be8a690885aef">More...</a><br /></td></tr>
<tr class="separator:gadf8c892ca4bd2544d03be8a690885aef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga05d2448864b2cae4674ed7e6f3c576b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#ga05d2448864b2cae4674ed7e6f3c576b8">canStart</a> (<a class="el" href="struct_c_a_n_driver.html">CANDriver</a> *canp, const <a class="el" href="struct_c_a_n_config.html">CANConfig</a> *config)</td></tr>
<tr class="memdesc:ga05d2448864b2cae4674ed7e6f3c576b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures and activates the CAN peripheral.  <a href="#ga05d2448864b2cae4674ed7e6f3c576b8">More...</a><br /></td></tr>
<tr class="separator:ga05d2448864b2cae4674ed7e6f3c576b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4e89a7d246119e077d27431a02586133"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#ga4e89a7d246119e077d27431a02586133">canStop</a> (<a class="el" href="struct_c_a_n_driver.html">CANDriver</a> *canp)</td></tr>
<tr class="memdesc:ga4e89a7d246119e077d27431a02586133"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deactivates the CAN peripheral.  <a href="#ga4e89a7d246119e077d27431a02586133">More...</a><br /></td></tr>
<tr class="separator:ga4e89a7d246119e077d27431a02586133"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5232071ac81ca92aab60b61af4c0260c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#ga5232071ac81ca92aab60b61af4c0260c">canTransmit</a> (<a class="el" href="struct_c_a_n_driver.html">CANDriver</a> *canp, <a class="el" href="group___c_a_n.html#ga2b2f773e32e94a41d40d5a0b07be4d27">canmbx_t</a> mailbox, const <a class="el" href="struct_c_a_n_tx_frame.html">CANTxFrame</a> *ctfp, <a class="el" href="group__types.html#gae3e32a98d431a02106616da3071832dd">systime_t</a> timeout)</td></tr>
<tr class="memdesc:ga5232071ac81ca92aab60b61af4c0260c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Can frame transmission.  <a href="#ga5232071ac81ca92aab60b61af4c0260c">More...</a><br /></td></tr>
<tr class="separator:ga5232071ac81ca92aab60b61af4c0260c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad49a3b3f0d332b13621d7f6066cc8892"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#gad49a3b3f0d332b13621d7f6066cc8892">canReceive</a> (<a class="el" href="struct_c_a_n_driver.html">CANDriver</a> *canp, <a class="el" href="group___c_a_n.html#ga2b2f773e32e94a41d40d5a0b07be4d27">canmbx_t</a> mailbox, <a class="el" href="struct_c_a_n_rx_frame.html">CANRxFrame</a> *crfp, <a class="el" href="group__types.html#gae3e32a98d431a02106616da3071832dd">systime_t</a> timeout)</td></tr>
<tr class="memdesc:gad49a3b3f0d332b13621d7f6066cc8892"><td class="mdescLeft">&#160;</td><td class="mdescRight">Can frame receive.  <a href="#gad49a3b3f0d332b13621d7f6066cc8892">More...</a><br /></td></tr>
<tr class="separator:gad49a3b3f0d332b13621d7f6066cc8892"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga97caf4f277c09588c225ea2328a74cba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#ga97caf4f277c09588c225ea2328a74cba">canSleep</a> (<a class="el" href="struct_c_a_n_driver.html">CANDriver</a> *canp)</td></tr>
<tr class="memdesc:ga97caf4f277c09588c225ea2328a74cba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enters the sleep mode.  <a href="#ga97caf4f277c09588c225ea2328a74cba">More...</a><br /></td></tr>
<tr class="separator:ga97caf4f277c09588c225ea2328a74cba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga09737d4ae5be724bf791a309e8a28dff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#ga09737d4ae5be724bf791a309e8a28dff">canWakeup</a> (<a class="el" href="struct_c_a_n_driver.html">CANDriver</a> *canp)</td></tr>
<tr class="memdesc:ga09737d4ae5be724bf791a309e8a28dff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enforces leaving the sleep mode.  <a href="#ga09737d4ae5be724bf791a309e8a28dff">More...</a><br /></td></tr>
<tr class="separator:ga09737d4ae5be724bf791a309e8a28dff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa215539c505ce7099f30c0aace00bf25"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#gaa215539c505ce7099f30c0aace00bf25">can_lld_init</a> (void)</td></tr>
<tr class="memdesc:gaa215539c505ce7099f30c0aace00bf25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Low level CAN driver initialization.  <a href="#gaa215539c505ce7099f30c0aace00bf25">More...</a><br /></td></tr>
<tr class="separator:gaa215539c505ce7099f30c0aace00bf25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafae65e8b034b2c1cda8d46790eb2c3fb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#gafae65e8b034b2c1cda8d46790eb2c3fb">can_lld_start</a> (<a class="el" href="struct_c_a_n_driver.html">CANDriver</a> *canp)</td></tr>
<tr class="memdesc:gafae65e8b034b2c1cda8d46790eb2c3fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures and activates the CAN peripheral.  <a href="#gafae65e8b034b2c1cda8d46790eb2c3fb">More...</a><br /></td></tr>
<tr class="separator:gafae65e8b034b2c1cda8d46790eb2c3fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad6fff809711eb161f9c53acf4f3f8470"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#gad6fff809711eb161f9c53acf4f3f8470">can_lld_stop</a> (<a class="el" href="struct_c_a_n_driver.html">CANDriver</a> *canp)</td></tr>
<tr class="memdesc:gad6fff809711eb161f9c53acf4f3f8470"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deactivates the CAN peripheral.  <a href="#gad6fff809711eb161f9c53acf4f3f8470">More...</a><br /></td></tr>
<tr class="separator:gad6fff809711eb161f9c53acf4f3f8470"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga207e2a35bfe879c6632645be647d0eea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#ga7556af1cb61728b53228fa3af1c851de">bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#ga207e2a35bfe879c6632645be647d0eea">can_lld_is_tx_empty</a> (<a class="el" href="struct_c_a_n_driver.html">CANDriver</a> *canp, <a class="el" href="group___c_a_n.html#ga2b2f773e32e94a41d40d5a0b07be4d27">canmbx_t</a> mailbox)</td></tr>
<tr class="memdesc:ga207e2a35bfe879c6632645be647d0eea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether a frame can be transmitted.  <a href="#ga207e2a35bfe879c6632645be647d0eea">More...</a><br /></td></tr>
<tr class="separator:ga207e2a35bfe879c6632645be647d0eea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3be8997b874202eff8cca6da7c320605"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#ga3be8997b874202eff8cca6da7c320605">can_lld_transmit</a> (<a class="el" href="struct_c_a_n_driver.html">CANDriver</a> *canp, <a class="el" href="group___c_a_n.html#ga2b2f773e32e94a41d40d5a0b07be4d27">canmbx_t</a> mailbox, const <a class="el" href="struct_c_a_n_tx_frame.html">CANTxFrame</a> *ctfp)</td></tr>
<tr class="memdesc:ga3be8997b874202eff8cca6da7c320605"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inserts a frame into the transmit queue.  <a href="#ga3be8997b874202eff8cca6da7c320605">More...</a><br /></td></tr>
<tr class="separator:ga3be8997b874202eff8cca6da7c320605"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga40c3ab00ca235e92fce8a3ced0a85b3f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#ga7556af1cb61728b53228fa3af1c851de">bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#ga40c3ab00ca235e92fce8a3ced0a85b3f">can_lld_is_rx_nonempty</a> (<a class="el" href="struct_c_a_n_driver.html">CANDriver</a> *canp, <a class="el" href="group___c_a_n.html#ga2b2f773e32e94a41d40d5a0b07be4d27">canmbx_t</a> mailbox)</td></tr>
<tr class="memdesc:ga40c3ab00ca235e92fce8a3ced0a85b3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether a frame has been received.  <a href="#ga40c3ab00ca235e92fce8a3ced0a85b3f">More...</a><br /></td></tr>
<tr class="separator:ga40c3ab00ca235e92fce8a3ced0a85b3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga14aa484f836fddaa233ad278c9a67910"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#ga14aa484f836fddaa233ad278c9a67910">can_lld_receive</a> (<a class="el" href="struct_c_a_n_driver.html">CANDriver</a> *canp, <a class="el" href="group___c_a_n.html#ga2b2f773e32e94a41d40d5a0b07be4d27">canmbx_t</a> mailbox, <a class="el" href="struct_c_a_n_rx_frame.html">CANRxFrame</a> *crfp)</td></tr>
<tr class="memdesc:ga14aa484f836fddaa233ad278c9a67910"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receives a frame from the input queue.  <a href="#ga14aa484f836fddaa233ad278c9a67910">More...</a><br /></td></tr>
<tr class="separator:ga14aa484f836fddaa233ad278c9a67910"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga90f2254324f338714bfe1663eb73a2ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#ga90f2254324f338714bfe1663eb73a2ba">can_lld_sleep</a> (<a class="el" href="struct_c_a_n_driver.html">CANDriver</a> *canp)</td></tr>
<tr class="memdesc:ga90f2254324f338714bfe1663eb73a2ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enters the sleep mode.  <a href="#ga90f2254324f338714bfe1663eb73a2ba">More...</a><br /></td></tr>
<tr class="separator:ga90f2254324f338714bfe1663eb73a2ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7a5e18d180ae064548783e6ac18903ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#ga7a5e18d180ae064548783e6ac18903ba">can_lld_wakeup</a> (<a class="el" href="struct_c_a_n_driver.html">CANDriver</a> *canp)</td></tr>
<tr class="memdesc:ga7a5e18d180ae064548783e6ac18903ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enforces leaving the sleep mode.  <a href="#ga7a5e18d180ae064548783e6ac18903ba">More...</a><br /></td></tr>
<tr class="separator:ga7a5e18d180ae064548783e6ac18903ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga34367fb2dabd57819b8f068c424d082d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_c_a_n_driver.html">CANDriver</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#ga34367fb2dabd57819b8f068c424d082d">CAND1</a></td></tr>
<tr class="memdesc:ga34367fb2dabd57819b8f068c424d082d"><td class="mdescLeft">&#160;</td><td class="mdescRight">CAN1 driver identifier.  <a href="#ga34367fb2dabd57819b8f068c424d082d">More...</a><br /></td></tr>
<tr class="separator:ga34367fb2dabd57819b8f068c424d082d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
CAN status flags</h2></td></tr>
<tr class="memitem:ga9e84b4cbbb9eb88519aa922ae9c33f09"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#ga9e84b4cbbb9eb88519aa922ae9c33f09">CAN_LIMIT_WARNING</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:ga9e84b4cbbb9eb88519aa922ae9c33f09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Errors rate warning.  <a href="#ga9e84b4cbbb9eb88519aa922ae9c33f09">More...</a><br /></td></tr>
<tr class="separator:ga9e84b4cbbb9eb88519aa922ae9c33f09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga50706597b6872fbf90222fede47d1f54"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#ga50706597b6872fbf90222fede47d1f54">CAN_LIMIT_ERROR</a>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:ga50706597b6872fbf90222fede47d1f54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Errors rate error.  <a href="#ga50706597b6872fbf90222fede47d1f54">More...</a><br /></td></tr>
<tr class="separator:ga50706597b6872fbf90222fede47d1f54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa317e7894d81461722dfeb4aa2c14dd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#gaaa317e7894d81461722dfeb4aa2c14dd">CAN_BUS_OFF_ERROR</a>&#160;&#160;&#160;4</td></tr>
<tr class="memdesc:gaaa317e7894d81461722dfeb4aa2c14dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bus off condition reached.  <a href="#gaaa317e7894d81461722dfeb4aa2c14dd">More...</a><br /></td></tr>
<tr class="separator:gaaa317e7894d81461722dfeb4aa2c14dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga76f084f2cf0c2088ed0d8948e6075709"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#ga76f084f2cf0c2088ed0d8948e6075709">CAN_FRAMING_ERROR</a>&#160;&#160;&#160;8</td></tr>
<tr class="memdesc:ga76f084f2cf0c2088ed0d8948e6075709"><td class="mdescLeft">&#160;</td><td class="mdescRight">Framing error of some kind on the CAN bus.  <a href="#ga76f084f2cf0c2088ed0d8948e6075709">More...</a><br /></td></tr>
<tr class="separator:ga76f084f2cf0c2088ed0d8948e6075709"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8da95bff65bea0790d564841895c42d0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#ga8da95bff65bea0790d564841895c42d0">CAN_OVERFLOW_ERROR</a>&#160;&#160;&#160;16</td></tr>
<tr class="memdesc:ga8da95bff65bea0790d564841895c42d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overflow in receive queue.  <a href="#ga8da95bff65bea0790d564841895c42d0">More...</a><br /></td></tr>
<tr class="separator:ga8da95bff65bea0790d564841895c42d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
CAN configuration options</h2></td></tr>
<tr class="memitem:ga5294d9d12e4186c781df3b2f1d8bd80b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#ga5294d9d12e4186c781df3b2f1d8bd80b">CAN_USE_SLEEP_MODE</a>&#160;&#160;&#160;<a class="el" href="group__kernel__info.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></td></tr>
<tr class="memdesc:ga5294d9d12e4186c781df3b2f1d8bd80b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sleep mode related APIs inclusion switch.  <a href="#ga5294d9d12e4186c781df3b2f1d8bd80b">More...</a><br /></td></tr>
<tr class="separator:ga5294d9d12e4186c781df3b2f1d8bd80b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Macro Functions</h2></td></tr>
<tr class="memitem:ga7262855e7e544cc806694b68443fc176"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#ga7262855e7e544cc806694b68443fc176">CAN_MAILBOX_TO_MASK</a>(mbx)&#160;&#160;&#160;(1 &lt;&lt; ((mbx) - 1))</td></tr>
<tr class="memdesc:ga7262855e7e544cc806694b68443fc176"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a mailbox index to a bit mask.  <a href="#ga7262855e7e544cc806694b68443fc176">More...</a><br /></td></tr>
<tr class="separator:ga7262855e7e544cc806694b68443fc176"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Configuration options</h2></td></tr>
<tr class="memitem:ga2d7c705223f644c7de17f325f1fe0747"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#ga2d7c705223f644c7de17f325f1fe0747">PLATFORM_CAN_USE_CAN1</a>&#160;&#160;&#160;<a class="el" href="group__kernel__info.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td></tr>
<tr class="memdesc:ga2d7c705223f644c7de17f325f1fe0747"><td class="mdescLeft">&#160;</td><td class="mdescRight">CAN1 driver enable switch.  <a href="#ga2d7c705223f644c7de17f325f1fe0747">More...</a><br /></td></tr>
<tr class="separator:ga2d7c705223f644c7de17f325f1fe0747"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga2cfb0a673cc41742fc633a39437c853b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#ga2cfb0a673cc41742fc633a39437c853b">CAN_ANY_MAILBOX</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:ga2cfb0a673cc41742fc633a39437c853b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Special mailbox identifier.  <a href="#ga2cfb0a673cc41742fc633a39437c853b">More...</a><br /></td></tr>
<tr class="separator:ga2cfb0a673cc41742fc633a39437c853b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa9218b87c481680e99f7ffe90b7bad82"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#gaa9218b87c481680e99f7ffe90b7bad82">CAN_SUPPORTS_SLEEP</a>&#160;&#160;&#160;<a class="el" href="group__kernel__info.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></td></tr>
<tr class="memdesc:gaa9218b87c481680e99f7ffe90b7bad82"><td class="mdescLeft">&#160;</td><td class="mdescRight">This switch defines whether the driver implementation supports a low power switch mode with automatic an wakeup feature.  <a href="#gaa9218b87c481680e99f7ffe90b7bad82">More...</a><br /></td></tr>
<tr class="separator:gaa9218b87c481680e99f7ffe90b7bad82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabd84f1436e0080eb93e4fc491a27d3a4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#gabd84f1436e0080eb93e4fc491a27d3a4">CAN_TX_MAILBOXES</a>&#160;&#160;&#160;3</td></tr>
<tr class="memdesc:gabd84f1436e0080eb93e4fc491a27d3a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">This implementation supports three transmit mailboxes.  <a href="#gabd84f1436e0080eb93e4fc491a27d3a4">More...</a><br /></td></tr>
<tr class="separator:gabd84f1436e0080eb93e4fc491a27d3a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab18d1bb021622d3c5463769416d24d08"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#gab18d1bb021622d3c5463769416d24d08">CAN_RX_MAILBOXES</a>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:gab18d1bb021622d3c5463769416d24d08"><td class="mdescLeft">&#160;</td><td class="mdescRight">This implementation supports two receive mailboxes.  <a href="#gab18d1bb021622d3c5463769416d24d08">More...</a><br /></td></tr>
<tr class="separator:gab18d1bb021622d3c5463769416d24d08"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga2b2f773e32e94a41d40d5a0b07be4d27"><td class="memItemLeft" align="right" valign="top">typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#ga2b2f773e32e94a41d40d5a0b07be4d27">canmbx_t</a></td></tr>
<tr class="memdesc:ga2b2f773e32e94a41d40d5a0b07be4d27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of a transmission mailbox index.  <a href="#ga2b2f773e32e94a41d40d5a0b07be4d27">More...</a><br /></td></tr>
<tr class="separator:ga2b2f773e32e94a41d40d5a0b07be4d27"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gaca62464ffdcedae03d49adf3f6ce870e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___c_a_n.html#gaca62464ffdcedae03d49adf3f6ce870e">canstate_t</a> { <br />
&#160;&#160;<a class="el" href="group___c_a_n.html#ggaca62464ffdcedae03d49adf3f6ce870ea91fe9adee6b7f27be97e8b59439774cc">CAN_UNINIT</a> = 0, 
<a class="el" href="group___c_a_n.html#ggaca62464ffdcedae03d49adf3f6ce870ea6ed84a3a97073b3e04918a90d90dd11e">CAN_STOP</a> = 1, 
<a class="el" href="group___c_a_n.html#ggaca62464ffdcedae03d49adf3f6ce870eaf10eb7d86ea8728c90d931f34a432394">CAN_STARTING</a> = 2, 
<a class="el" href="group___c_a_n.html#ggaca62464ffdcedae03d49adf3f6ce870eaf6cc9dbdefe635c9db9dca135cc94610">CAN_READY</a> = 3, 
<br />
&#160;&#160;<a class="el" href="group___c_a_n.html#ggaca62464ffdcedae03d49adf3f6ce870ea7b6ee207a3d1bfec35374f0d3964e6aa">CAN_SLEEP</a> = 4
<br />
 }</td></tr>
<tr class="memdesc:gaca62464ffdcedae03d49adf3f6ce870e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver state machine possible states.  <a href="group___c_a_n.html#gaca62464ffdcedae03d49adf3f6ce870e">More...</a><br /></td></tr>
<tr class="separator:gaca62464ffdcedae03d49adf3f6ce870e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga2d3efc34f7704ab23c293aac2be47764"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void canInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CAN Driver initialization. </p>
<dl class="section note"><dt>Note</dt><dd>This function is implicitly invoked by <code><a class="el" href="group___h_a_l.html#gafd89c1650df524d95aef39b8bc38170d" title="HAL initialization. ">halInit()</a></code>, there is no need to explicitly initialize the driver.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Initializer, this function just initializes an object and can be invoked before the kernel is initialized. </dd></dl>

<p>Definition at line <a class="el" href="can_8c_source.html#l00068">68</a> of file <a class="el" href="can_8c_source.html">can.c</a>.</p>

<p>References <a class="el" href="group___c_a_n.html#gaa215539c505ce7099f30c0aace00bf25">can_lld_init()</a>.</p>

<p>Referenced by <a class="el" href="group___h_a_l.html#gafd89c1650df524d95aef39b8bc38170d">halInit()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___c_a_n_ga2d3efc34f7704ab23c293aac2be47764_cgraph.png" border="0" usemap="#group___c_a_n_ga2d3efc34f7704ab23c293aac2be47764_cgraph" alt=""/></div>
<map name="group___c_a_n_ga2d3efc34f7704ab23c293aac2be47764_cgraph" id="group___c_a_n_ga2d3efc34f7704ab23c293aac2be47764_cgraph">
<area shape="rect" id="node2" href="group___c_a_n.html#gaa215539c505ce7099f30c0aace00bf25" title="Low level CAN driver initialization. " alt="" coords="112,5,196,29"/><area shape="rect" id="node3" href="group___c_a_n.html#gadf8c892ca4bd2544d03be8a690885aef" title="Initializes the standard part of a CANDriver structure. " alt="" coords="244,5,339,29"/><area shape="rect" id="node4" href="group__semaphores.html#gafe8fc6155a871074e8017efd908b2c58" title="Initializes a semaphore with the specified counter value. " alt="" coords="387,5,465,29"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gadf8c892ca4bd2544d03be8a690885aef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void canObjectInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_a_n_driver.html">CANDriver</a> *&#160;</td>
          <td class="paramname"><em>canp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the standard part of a <code><a class="el" href="struct_c_a_n_driver.html" title="Structure representing an CAN driver. ">CANDriver</a></code> structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">canp</td><td>pointer to the <code><a class="el" href="struct_c_a_n_driver.html" title="Structure representing an CAN driver. ">CANDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Initializer, this function just initializes an object and can be invoked before the kernel is initialized. </dd></dl>

<p>Definition at line <a class="el" href="can_8c_source.html#l00080">80</a> of file <a class="el" href="can_8c_source.html">can.c</a>.</p>

<p>References <a class="el" href="group___c_a_n.html#ggaca62464ffdcedae03d49adf3f6ce870ea6ed84a3a97073b3e04918a90d90dd11e">CAN_STOP</a>, <a class="el" href="group__events.html#gab8d0fdc09be629dfb438c32a0523db42">chEvtInit</a>, <a class="el" href="group__semaphores.html#gafe8fc6155a871074e8017efd908b2c58">chSemInit()</a>, <a class="el" href="struct_c_a_n_driver.html#aa4df59a46b65bbc167f4a2d21d12a7f4">CANDriver::config</a>, <a class="el" href="struct_c_a_n_driver.html#ad6b377d9e26b7d14960c242011e425ec">CANDriver::error_event</a>, <a class="el" href="struct_c_a_n_driver.html#a3619ab01c24d6b64d6bec0aa2d72cb84">CANDriver::rxfull_event</a>, <a class="el" href="struct_c_a_n_driver.html#ae810b52a9fb0cf834f98291b77f837bb">CANDriver::rxsem</a>, <a class="el" href="struct_c_a_n_driver.html#a0968a6a74e0cc92c99fd6f9436f3c664">CANDriver::sleep_event</a>, <a class="el" href="struct_c_a_n_driver.html#a63b0a2939ba7b0ec0d2ae37c6969ec0f">CANDriver::state</a>, <a class="el" href="struct_c_a_n_driver.html#aa333be6a555cef0e349aaa147195693f">CANDriver::txempty_event</a>, <a class="el" href="struct_c_a_n_driver.html#ae6ec80aaacde63c96088d7860d96e853">CANDriver::txsem</a>, and <a class="el" href="struct_c_a_n_driver.html#a420e6105818a823c051aada5b2c68ad6">CANDriver::wakeup_event</a>.</p>

<p>Referenced by <a class="el" href="group___c_a_n.html#gaa215539c505ce7099f30c0aace00bf25">can_lld_init()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___c_a_n_gadf8c892ca4bd2544d03be8a690885aef_cgraph.png" border="0" usemap="#group___c_a_n_gadf8c892ca4bd2544d03be8a690885aef_cgraph" alt=""/></div>
<map name="group___c_a_n_gadf8c892ca4bd2544d03be8a690885aef_cgraph" id="group___c_a_n_gadf8c892ca4bd2544d03be8a690885aef_cgraph">
<area shape="rect" id="node2" href="group__semaphores.html#gafe8fc6155a871074e8017efd908b2c58" title="Initializes a semaphore with the specified counter value. " alt="" coords="148,5,227,29"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga05d2448864b2cae4674ed7e6f3c576b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void canStart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_a_n_driver.html">CANDriver</a> *&#160;</td>
          <td class="paramname"><em>canp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_c_a_n_config.html">CANConfig</a> *&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures and activates the CAN peripheral. </p>
<dl class="section note"><dt>Note</dt><dd>Activating the CAN bus can be a slow operation this this function is not atomic, it waits internally for the initialization to complete.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">canp</td><td>pointer to the <code><a class="el" href="struct_c_a_n_driver.html" title="Structure representing an CAN driver. ">CANDriver</a></code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>pointer to the <code><a class="el" href="struct_c_a_n_config.html" title="Driver configuration structure. ">CANConfig</a></code> object. Depending on the implementation the value can be <code>NULL</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="can_8c_source.html#l00107">107</a> of file <a class="el" href="can_8c_source.html">can.c</a>.</p>

<p>References <a class="el" href="group___c_a_n.html#gafae65e8b034b2c1cda8d46790eb2c3fb">can_lld_start()</a>, <a class="el" href="group___c_a_n.html#ggaca62464ffdcedae03d49adf3f6ce870eaf6cc9dbdefe635c9db9dca135cc94610">CAN_READY</a>, <a class="el" href="group___c_a_n.html#ggaca62464ffdcedae03d49adf3f6ce870eaf10eb7d86ea8728c90d931f34a432394">CAN_STARTING</a>, <a class="el" href="group___c_a_n.html#ggaca62464ffdcedae03d49adf3f6ce870ea6ed84a3a97073b3e04918a90d90dd11e">CAN_STOP</a>, <a class="el" href="group__debug.html#ga43d50c69eb730d0f024eb832d61f30c9">chDbgAssert</a>, <a class="el" href="group__debug.html#ga6bb6c0f97caab3a66332c8bfbf7a3844">chDbgCheck</a>, <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>, <a class="el" href="group__threads.html#ga851dc0c4ac72885bf09feebdef4673ac">chThdSleepS</a>, <a class="el" href="struct_c_a_n_driver.html#aa4df59a46b65bbc167f4a2d21d12a7f4">CANDriver::config</a>, and <a class="el" href="struct_c_a_n_driver.html#a63b0a2939ba7b0ec0d2ae37c6969ec0f">CANDriver::state</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___c_a_n_ga05d2448864b2cae4674ed7e6f3c576b8_cgraph.png" border="0" usemap="#group___c_a_n_ga05d2448864b2cae4674ed7e6f3c576b8_cgraph" alt=""/></div>
<map name="group___c_a_n_ga05d2448864b2cae4674ed7e6f3c576b8_cgraph" id="group___c_a_n_ga05d2448864b2cae4674ed7e6f3c576b8_cgraph">
<area shape="rect" id="node2" href="group___c_a_n.html#gafae65e8b034b2c1cda8d46790eb2c3fb" title="Configures and activates the CAN peripheral. " alt="" coords="124,5,219,29"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga4e89a7d246119e077d27431a02586133"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void canStop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_a_n_driver.html">CANDriver</a> *&#160;</td>
          <td class="paramname"><em>canp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deactivates the CAN peripheral. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">canp</td><td>pointer to the <code><a class="el" href="struct_c_a_n_driver.html" title="Structure representing an CAN driver. ">CANDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="can_8c_source.html#l00133">133</a> of file <a class="el" href="can_8c_source.html">can.c</a>.</p>

<p>References <a class="el" href="group___c_a_n.html#gad6fff809711eb161f9c53acf4f3f8470">can_lld_stop()</a>, <a class="el" href="group___c_a_n.html#ggaca62464ffdcedae03d49adf3f6ce870eaf6cc9dbdefe635c9db9dca135cc94610">CAN_READY</a>, <a class="el" href="group___c_a_n.html#ggaca62464ffdcedae03d49adf3f6ce870ea6ed84a3a97073b3e04918a90d90dd11e">CAN_STOP</a>, <a class="el" href="group__debug.html#ga43d50c69eb730d0f024eb832d61f30c9">chDbgAssert</a>, <a class="el" href="group__debug.html#ga6bb6c0f97caab3a66332c8bfbf7a3844">chDbgCheck</a>, <a class="el" href="group__scheduler.html#ga4e38b4bee3d2330f6a0f1cdb7660af20">chSchRescheduleS()</a>, <a class="el" href="group__semaphores.html#gae7972b6b22b80ac09bac5a186277ab81">chSemResetI()</a>, <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>, <a class="el" href="struct_c_a_n_driver.html#ae810b52a9fb0cf834f98291b77f837bb">CANDriver::rxsem</a>, <a class="el" href="struct_c_a_n_driver.html#a63b0a2939ba7b0ec0d2ae37c6969ec0f">CANDriver::state</a>, and <a class="el" href="struct_c_a_n_driver.html#ae6ec80aaacde63c96088d7860d96e853">CANDriver::txsem</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___c_a_n_ga4e89a7d246119e077d27431a02586133_cgraph.png" border="0" usemap="#group___c_a_n_ga4e89a7d246119e077d27431a02586133_cgraph" alt=""/></div>
<map name="group___c_a_n_ga4e89a7d246119e077d27431a02586133_cgraph" id="group___c_a_n_ga4e89a7d246119e077d27431a02586133_cgraph">
<area shape="rect" id="node2" href="group___c_a_n.html#gad6fff809711eb161f9c53acf4f3f8470" title="Deactivates the CAN peripheral. " alt="" coords="140,5,232,29"/><area shape="rect" id="node3" href="group__scheduler.html#ga4e38b4bee3d2330f6a0f1cdb7660af20" title="Performs a reschedule if a higher priority thread is runnable. " alt="" coords="121,53,251,77"/><area shape="rect" id="node8" href="group__semaphores.html#gae7972b6b22b80ac09bac5a186277ab81" title="Performs a reset operation on the semaphore. " alt="" coords="138,128,234,152"/><area shape="rect" id="node4" href="group__debug.html#ga14fe880e1dbd127d46077a1d300b1167" title="S&#45;class functions context check. " alt="" coords="517,5,648,29"/><area shape="rect" id="node6" href="group__scheduler.html#ga6827a67e839462e65b5765ef15709c97" title="Switches to the first thread on the runnable queue. " alt="" coords="299,53,469,77"/><area shape="rect" id="node5" href="group__debug.html#ga897718bcb144b5523b914633b0d824e1" title="Prints a panic message on the console and then halts the system. " alt="" coords="696,55,783,79"/><area shape="rect" id="node7" href="group__internals.html#ga042479f09357fc59befebf4dfe0e9f4a" title="Removes the first&#45;out Thread from a queue and returns it. " alt="" coords="538,53,627,77"/><area shape="rect" id="node9" href="group__debug.html#ga3e4782dccbb385051e1eb01ac5b05470" title="I&#45;class functions context check. " alt="" coords="519,103,646,127"/><area shape="rect" id="node10" href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298" title="Inserts a thread in the Ready List. " alt="" coords="337,152,431,176"/><area shape="rect" id="node11" href="group__internals.html#gacacfe77140cab62948e63d898bf4dfba" title="Removes the last&#45;out Thread from a queue and returns it. " alt="" coords="340,200,428,224"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga5232071ac81ca92aab60b61af4c0260c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a> canTransmit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_a_n_driver.html">CANDriver</a> *&#160;</td>
          <td class="paramname"><em>canp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___c_a_n.html#ga2b2f773e32e94a41d40d5a0b07be4d27">canmbx_t</a>&#160;</td>
          <td class="paramname"><em>mailbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_c_a_n_tx_frame.html">CANTxFrame</a> *&#160;</td>
          <td class="paramname"><em>ctfp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#gae3e32a98d431a02106616da3071832dd">systime_t</a>&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Can frame transmission. </p>
<p>The specified frame is queued for transmission, if the hardware queue is full then the invoking thread is queued. </p><dl class="section note"><dt>Note</dt><dd>Trying to transmit while in sleep mode simply enqueues the thread.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">canp</td><td>pointer to the <code><a class="el" href="struct_c_a_n_driver.html" title="Structure representing an CAN driver. ">CANDriver</a></code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mailbox</td><td>mailbox number, <code>CAN_ANY_MAILBOX</code> for any mailbox </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ctfp</td><td>pointer to the CAN frame to be transmitted </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>the number of ticks before the operation timeouts, the following special values are allowed:<ul>
<li><em>TIME_IMMEDIATE</em> immediate timeout.</li>
<li><em>TIME_INFINITE</em> no timeout.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation result. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RDY_OK</td><td>the frame has been queued for transmission. </td></tr>
    <tr><td class="paramname">RDY_TIMEOUT</td><td>The operation has timed out. </td></tr>
    <tr><td class="paramname">RDY_RESET</td><td>The driver has been stopped while waiting.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="can_8c_source.html#l00169">169</a> of file <a class="el" href="can_8c_source.html">can.c</a>.</p>

<p>References <a class="el" href="group___c_a_n.html#ga207e2a35bfe879c6632645be647d0eea">can_lld_is_tx_empty()</a>, <a class="el" href="group___c_a_n.html#ga3be8997b874202eff8cca6da7c320605">can_lld_transmit()</a>, <a class="el" href="group___c_a_n.html#ggaca62464ffdcedae03d49adf3f6ce870eaf6cc9dbdefe635c9db9dca135cc94610">CAN_READY</a>, <a class="el" href="group___c_a_n.html#ggaca62464ffdcedae03d49adf3f6ce870ea7b6ee207a3d1bfec35374f0d3964e6aa">CAN_SLEEP</a>, <a class="el" href="group___c_a_n.html#gabd84f1436e0080eb93e4fc491a27d3a4">CAN_TX_MAILBOXES</a>, <a class="el" href="group__debug.html#ga43d50c69eb730d0f024eb832d61f30c9">chDbgAssert</a>, <a class="el" href="group__debug.html#ga6bb6c0f97caab3a66332c8bfbf7a3844">chDbgCheck</a>, <a class="el" href="group__semaphores.html#ga924ec5d191bb8debe8727ae4dd5d6d03">chSemWaitTimeoutS()</a>, <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>, <a class="el" href="group__scheduler.html#gae1c86078318e11c2fa57ee3c2ec69f61">RDY_OK</a>, <a class="el" href="struct_c_a_n_driver.html#a63b0a2939ba7b0ec0d2ae37c6969ec0f">CANDriver::state</a>, and <a class="el" href="struct_c_a_n_driver.html#ae6ec80aaacde63c96088d7860d96e853">CANDriver::txsem</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___c_a_n_ga5232071ac81ca92aab60b61af4c0260c_cgraph.png" border="0" usemap="#group___c_a_n_ga5232071ac81ca92aab60b61af4c0260c_cgraph" alt=""/></div>
<map name="group___c_a_n_ga5232071ac81ca92aab60b61af4c0260c_cgraph" id="group___c_a_n_ga5232071ac81ca92aab60b61af4c0260c_cgraph">
<area shape="rect" id="node2" href="group___c_a_n.html#ga207e2a35bfe879c6632645be647d0eea" title="Determines whether a frame can be transmitted. " alt="" coords="145,5,280,29"/><area shape="rect" id="node3" href="group___c_a_n.html#ga3be8997b874202eff8cca6da7c320605" title="Inserts a frame into the transmit queue. " alt="" coords="155,53,270,77"/><area shape="rect" id="node4" href="group__semaphores.html#ga924ec5d191bb8debe8727ae4dd5d6d03" title="Performs a wait operation on a semaphore with timeout specification. " alt="" coords="144,101,281,125"/><area shape="rect" id="node5" href="group__debug.html#ga14fe880e1dbd127d46077a1d300b1167" title="S&#45;class functions context check. " alt="" coords="696,101,827,125"/><area shape="rect" id="node7" href="group__scheduler.html#ga306e564f678c1a39139639490c77e78b" title="Puts the current thread to sleep into the specified state with timeout specification. " alt="" coords="329,151,488,175"/><area shape="rect" id="node6" href="group__debug.html#ga897718bcb144b5523b914633b0d824e1" title="Prints a panic message on the console and then halts the system. " alt="" coords="875,101,961,125"/><area shape="rect" id="node8" href="group__scheduler.html#ga97c1c514b755a1e71caf2f19c1ccf986" title="Puts the current thread to sleep into the specified state. " alt="" coords="536,151,648,175"/><area shape="rect" id="node9" href="group__time.html#ga680d851a74e594cc965101e79891840f" title="Disables a Virtual Timer. " alt="" coords="550,199,634,223"/><area shape="rect" id="node10" href="group__time.html#ga1c44c3a0bc64b2954d95cd98b2e7124e" title="Enables a virtual timer. " alt="" coords="557,247,627,271"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gad49a3b3f0d332b13621d7f6066cc8892"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a> canReceive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_a_n_driver.html">CANDriver</a> *&#160;</td>
          <td class="paramname"><em>canp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___c_a_n.html#ga2b2f773e32e94a41d40d5a0b07be4d27">canmbx_t</a>&#160;</td>
          <td class="paramname"><em>mailbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_a_n_rx_frame.html">CANRxFrame</a> *&#160;</td>
          <td class="paramname"><em>crfp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#gae3e32a98d431a02106616da3071832dd">systime_t</a>&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Can frame receive. </p>
<p>The function waits until a frame is received. </p><dl class="section note"><dt>Note</dt><dd>Trying to receive while in sleep mode simply enqueues the thread.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">canp</td><td>pointer to the <code><a class="el" href="struct_c_a_n_driver.html" title="Structure representing an CAN driver. ">CANDriver</a></code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mailbox</td><td>mailbox number, <code>CAN_ANY_MAILBOX</code> for any mailbox </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">crfp</td><td>pointer to the buffer where the CAN frame is copied </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>the number of ticks before the operation timeouts, the following special values are allowed:<ul>
<li><em>TIME_IMMEDIATE</em> immediate timeout (useful in an event driven scenario where a thread never blocks for I/O).</li>
<li><em>TIME_INFINITE</em> no timeout.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation result. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RDY_OK</td><td>a frame has been received and placed in the buffer. </td></tr>
    <tr><td class="paramname">RDY_TIMEOUT</td><td>The operation has timed out. </td></tr>
    <tr><td class="paramname">RDY_RESET</td><td>The driver has been stopped while waiting.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="can_8c_source.html#l00214">214</a> of file <a class="el" href="can_8c_source.html">can.c</a>.</p>

<p>References <a class="el" href="group___c_a_n.html#ga40c3ab00ca235e92fce8a3ced0a85b3f">can_lld_is_rx_nonempty()</a>, <a class="el" href="group___c_a_n.html#ga14aa484f836fddaa233ad278c9a67910">can_lld_receive()</a>, <a class="el" href="group___c_a_n.html#ggaca62464ffdcedae03d49adf3f6ce870eaf6cc9dbdefe635c9db9dca135cc94610">CAN_READY</a>, <a class="el" href="group___c_a_n.html#gab18d1bb021622d3c5463769416d24d08">CAN_RX_MAILBOXES</a>, <a class="el" href="group___c_a_n.html#ggaca62464ffdcedae03d49adf3f6ce870ea7b6ee207a3d1bfec35374f0d3964e6aa">CAN_SLEEP</a>, <a class="el" href="group__debug.html#ga43d50c69eb730d0f024eb832d61f30c9">chDbgAssert</a>, <a class="el" href="group__debug.html#ga6bb6c0f97caab3a66332c8bfbf7a3844">chDbgCheck</a>, <a class="el" href="group__semaphores.html#ga924ec5d191bb8debe8727ae4dd5d6d03">chSemWaitTimeoutS()</a>, <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>, <a class="el" href="group__scheduler.html#gae1c86078318e11c2fa57ee3c2ec69f61">RDY_OK</a>, <a class="el" href="struct_c_a_n_driver.html#ae810b52a9fb0cf834f98291b77f837bb">CANDriver::rxsem</a>, and <a class="el" href="struct_c_a_n_driver.html#a63b0a2939ba7b0ec0d2ae37c6969ec0f">CANDriver::state</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___c_a_n_gad49a3b3f0d332b13621d7f6066cc8892_cgraph.png" border="0" usemap="#group___c_a_n_gad49a3b3f0d332b13621d7f6066cc8892_cgraph" alt=""/></div>
<map name="group___c_a_n_gad49a3b3f0d332b13621d7f6066cc8892_cgraph" id="group___c_a_n_gad49a3b3f0d332b13621d7f6066cc8892_cgraph">
<area shape="rect" id="node2" href="group___c_a_n.html#ga40c3ab00ca235e92fce8a3ced0a85b3f" title="Determines whether a frame has been received. " alt="" coords="139,5,295,29"/><area shape="rect" id="node3" href="group___c_a_n.html#ga14aa484f836fddaa233ad278c9a67910" title="Receives a frame from the input queue. " alt="" coords="163,53,271,77"/><area shape="rect" id="node4" href="group__semaphores.html#ga924ec5d191bb8debe8727ae4dd5d6d03" title="Performs a wait operation on a semaphore with timeout specification. " alt="" coords="148,101,285,125"/><area shape="rect" id="node5" href="group__debug.html#ga14fe880e1dbd127d46077a1d300b1167" title="S&#45;class functions context check. " alt="" coords="709,101,840,125"/><area shape="rect" id="node7" href="group__scheduler.html#ga306e564f678c1a39139639490c77e78b" title="Puts the current thread to sleep into the specified state with timeout specification. " alt="" coords="343,151,501,175"/><area shape="rect" id="node6" href="group__debug.html#ga897718bcb144b5523b914633b0d824e1" title="Prints a panic message on the console and then halts the system. " alt="" coords="888,101,975,125"/><area shape="rect" id="node8" href="group__scheduler.html#ga97c1c514b755a1e71caf2f19c1ccf986" title="Puts the current thread to sleep into the specified state. " alt="" coords="549,151,661,175"/><area shape="rect" id="node9" href="group__time.html#ga680d851a74e594cc965101e79891840f" title="Disables a Virtual Timer. " alt="" coords="563,199,647,223"/><area shape="rect" id="node10" href="group__time.html#ga1c44c3a0bc64b2954d95cd98b2e7124e" title="Enables a virtual timer. " alt="" coords="570,247,641,271"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga97caf4f277c09588c225ea2328a74cba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void canSleep </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_a_n_driver.html">CANDriver</a> *&#160;</td>
          <td class="paramname"><em>canp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enters the sleep mode. </p>
<p>This function puts the CAN driver in sleep mode and broadcasts the <code>sleep_event</code> event source. </p><dl class="section pre"><dt>Precondition</dt><dd>In order to use this function the option <code>CAN_USE_SLEEP_MODE</code> must be enabled and the <code>CAN_SUPPORTS_SLEEP</code> mode must be supported by the low level driver.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">canp</td><td>pointer to the <code><a class="el" href="struct_c_a_n_driver.html" title="Structure representing an CAN driver. ">CANDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="can_8c_source.html#l00250">250</a> of file <a class="el" href="can_8c_source.html">can.c</a>.</p>

<p>References <a class="el" href="group___c_a_n.html#ga90f2254324f338714bfe1663eb73a2ba">can_lld_sleep()</a>, <a class="el" href="group___c_a_n.html#ggaca62464ffdcedae03d49adf3f6ce870eaf6cc9dbdefe635c9db9dca135cc94610">CAN_READY</a>, <a class="el" href="group___c_a_n.html#ggaca62464ffdcedae03d49adf3f6ce870ea7b6ee207a3d1bfec35374f0d3964e6aa">CAN_SLEEP</a>, <a class="el" href="group__debug.html#ga43d50c69eb730d0f024eb832d61f30c9">chDbgAssert</a>, <a class="el" href="group__debug.html#ga6bb6c0f97caab3a66332c8bfbf7a3844">chDbgCheck</a>, <a class="el" href="group__events.html#ga0c3fcdef2ba14d8b6b6da5aa4113f18b">chEvtBroadcastI</a>, <a class="el" href="group__scheduler.html#ga4e38b4bee3d2330f6a0f1cdb7660af20">chSchRescheduleS()</a>, <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>, <a class="el" href="struct_c_a_n_driver.html#a0968a6a74e0cc92c99fd6f9436f3c664">CANDriver::sleep_event</a>, and <a class="el" href="struct_c_a_n_driver.html#a63b0a2939ba7b0ec0d2ae37c6969ec0f">CANDriver::state</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___c_a_n_ga97caf4f277c09588c225ea2328a74cba_cgraph.png" border="0" usemap="#group___c_a_n_ga97caf4f277c09588c225ea2328a74cba_cgraph" alt=""/></div>
<map name="group___c_a_n_ga97caf4f277c09588c225ea2328a74cba_cgraph" id="group___c_a_n_ga97caf4f277c09588c225ea2328a74cba_cgraph">
<area shape="rect" id="node2" href="group___c_a_n.html#ga90f2254324f338714bfe1663eb73a2ba" title="Enters the sleep mode. " alt="" coords="143,5,242,29"/><area shape="rect" id="node3" href="group__scheduler.html#ga4e38b4bee3d2330f6a0f1cdb7660af20" title="Performs a reschedule if a higher priority thread is runnable. " alt="" coords="128,53,257,77"/><area shape="rect" id="node4" href="group__debug.html#ga14fe880e1dbd127d46077a1d300b1167" title="S&#45;class functions context check. " alt="" coords="325,29,456,53"/><area shape="rect" id="node6" href="group__scheduler.html#ga6827a67e839462e65b5765ef15709c97" title="Switches to the first thread on the runnable queue. " alt="" coords="305,77,476,101"/><area shape="rect" id="node5" href="group__debug.html#ga897718bcb144b5523b914633b0d824e1" title="Prints a panic message on the console and then halts the system. " alt="" coords="525,29,612,53"/><area shape="rect" id="node7" href="group__internals.html#ga042479f09357fc59befebf4dfe0e9f4a" title="Removes the first&#45;out Thread from a queue and returns it. " alt="" coords="524,77,613,101"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga09737d4ae5be724bf791a309e8a28dff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void canWakeup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_a_n_driver.html">CANDriver</a> *&#160;</td>
          <td class="paramname"><em>canp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enforces leaving the sleep mode. </p>
<dl class="section note"><dt>Note</dt><dd>The sleep mode is supposed to be usually exited automatically by an hardware event.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">canp</td><td>pointer to the <code><a class="el" href="struct_c_a_n_driver.html" title="Structure representing an CAN driver. ">CANDriver</a></code> object </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="can_8c_source.html#l00273">273</a> of file <a class="el" href="can_8c_source.html">can.c</a>.</p>

<p>References <a class="el" href="group___c_a_n.html#ga7a5e18d180ae064548783e6ac18903ba">can_lld_wakeup()</a>, <a class="el" href="group___c_a_n.html#ggaca62464ffdcedae03d49adf3f6ce870eaf6cc9dbdefe635c9db9dca135cc94610">CAN_READY</a>, <a class="el" href="group___c_a_n.html#ggaca62464ffdcedae03d49adf3f6ce870ea7b6ee207a3d1bfec35374f0d3964e6aa">CAN_SLEEP</a>, <a class="el" href="group__debug.html#ga43d50c69eb730d0f024eb832d61f30c9">chDbgAssert</a>, <a class="el" href="group__debug.html#ga6bb6c0f97caab3a66332c8bfbf7a3844">chDbgCheck</a>, <a class="el" href="group__events.html#ga0c3fcdef2ba14d8b6b6da5aa4113f18b">chEvtBroadcastI</a>, <a class="el" href="group__scheduler.html#ga4e38b4bee3d2330f6a0f1cdb7660af20">chSchRescheduleS()</a>, <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>, <a class="el" href="struct_c_a_n_driver.html#a63b0a2939ba7b0ec0d2ae37c6969ec0f">CANDriver::state</a>, and <a class="el" href="struct_c_a_n_driver.html#a420e6105818a823c051aada5b2c68ad6">CANDriver::wakeup_event</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___c_a_n_ga09737d4ae5be724bf791a309e8a28dff_cgraph.png" border="0" usemap="#group___c_a_n_ga09737d4ae5be724bf791a309e8a28dff_cgraph" alt=""/></div>
<map name="group___c_a_n_ga09737d4ae5be724bf791a309e8a28dff_cgraph" id="group___c_a_n_ga09737d4ae5be724bf791a309e8a28dff_cgraph">
<area shape="rect" id="node2" href="group___c_a_n.html#ga7a5e18d180ae064548783e6ac18903ba" title="Enforces leaving the sleep mode. " alt="" coords="147,5,257,29"/><area shape="rect" id="node3" href="group__scheduler.html#ga4e38b4bee3d2330f6a0f1cdb7660af20" title="Performs a reschedule if a higher priority thread is runnable. " alt="" coords="137,53,267,77"/><area shape="rect" id="node4" href="group__debug.html#ga14fe880e1dbd127d46077a1d300b1167" title="S&#45;class functions context check. " alt="" coords="335,29,465,53"/><area shape="rect" id="node6" href="group__scheduler.html#ga6827a67e839462e65b5765ef15709c97" title="Switches to the first thread on the runnable queue. " alt="" coords="315,77,485,101"/><area shape="rect" id="node5" href="group__debug.html#ga897718bcb144b5523b914633b0d824e1" title="Prints a panic message on the console and then halts the system. " alt="" coords="535,29,621,53"/><area shape="rect" id="node7" href="group__internals.html#ga042479f09357fc59befebf4dfe0e9f4a" title="Removes the first&#45;out Thread from a queue and returns it. " alt="" coords="533,77,623,101"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaa215539c505ce7099f30c0aace00bf25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void can_lld_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Low level CAN driver initialization. </p>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="can__lld_8c_source.html#l00066">66</a> of file <a class="el" href="can__lld_8c_source.html">can_lld.c</a>.</p>

<p>References <a class="el" href="group___c_a_n.html#gadf8c892ca4bd2544d03be8a690885aef">canObjectInit()</a>.</p>

<p>Referenced by <a class="el" href="group___c_a_n.html#ga2d3efc34f7704ab23c293aac2be47764">canInit()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___c_a_n_gaa215539c505ce7099f30c0aace00bf25_cgraph.png" border="0" usemap="#group___c_a_n_gaa215539c505ce7099f30c0aace00bf25_cgraph" alt=""/></div>
<map name="group___c_a_n_gaa215539c505ce7099f30c0aace00bf25_cgraph" id="group___c_a_n_gaa215539c505ce7099f30c0aace00bf25_cgraph">
<area shape="rect" id="node2" href="group___c_a_n.html#gadf8c892ca4bd2544d03be8a690885aef" title="Initializes the standard part of a CANDriver structure. " alt="" coords="137,5,232,29"/><area shape="rect" id="node3" href="group__semaphores.html#gafe8fc6155a871074e8017efd908b2c58" title="Initializes a semaphore with the specified counter value. " alt="" coords="280,5,359,29"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gafae65e8b034b2c1cda8d46790eb2c3fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void can_lld_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_a_n_driver.html">CANDriver</a> *&#160;</td>
          <td class="paramname"><em>canp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures and activates the CAN peripheral. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">canp</td><td>pointer to the <code><a class="el" href="struct_c_a_n_driver.html" title="Structure representing an CAN driver. ">CANDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="can__lld_8c_source.html#l00081">81</a> of file <a class="el" href="can__lld_8c_source.html">can_lld.c</a>.</p>

<p>References <a class="el" href="group___c_a_n.html#ggaca62464ffdcedae03d49adf3f6ce870ea6ed84a3a97073b3e04918a90d90dd11e">CAN_STOP</a>, and <a class="el" href="struct_c_a_n_driver.html#a63b0a2939ba7b0ec0d2ae37c6969ec0f">CANDriver::state</a>.</p>

<p>Referenced by <a class="el" href="group___c_a_n.html#ga05d2448864b2cae4674ed7e6f3c576b8">canStart()</a>.</p>

</div>
</div>
<a class="anchor" id="gad6fff809711eb161f9c53acf4f3f8470"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void can_lld_stop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_a_n_driver.html">CANDriver</a> *&#160;</td>
          <td class="paramname"><em>canp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deactivates the CAN peripheral. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">canp</td><td>pointer to the <code><a class="el" href="struct_c_a_n_driver.html" title="Structure representing an CAN driver. ">CANDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="can__lld_8c_source.html#l00102">102</a> of file <a class="el" href="can__lld_8c_source.html">can_lld.c</a>.</p>

<p>References <a class="el" href="group___c_a_n.html#ggaca62464ffdcedae03d49adf3f6ce870eaf6cc9dbdefe635c9db9dca135cc94610">CAN_READY</a>, and <a class="el" href="struct_c_a_n_driver.html#a63b0a2939ba7b0ec0d2ae37c6969ec0f">CANDriver::state</a>.</p>

<p>Referenced by <a class="el" href="group___c_a_n.html#ga4e89a7d246119e077d27431a02586133">canStop()</a>.</p>

</div>
</div>
<a class="anchor" id="ga207e2a35bfe879c6632645be647d0eea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#ga7556af1cb61728b53228fa3af1c851de">bool_t</a> can_lld_is_tx_empty </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_a_n_driver.html">CANDriver</a> *&#160;</td>
          <td class="paramname"><em>canp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___c_a_n.html#ga2b2f773e32e94a41d40d5a0b07be4d27">canmbx_t</a>&#160;</td>
          <td class="paramname"><em>mailbox</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines whether a frame can be transmitted. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">canp</td><td>pointer to the <code><a class="el" href="struct_c_a_n_driver.html" title="Structure representing an CAN driver. ">CANDriver</a></code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mailbox</td><td>mailbox number, <code>CAN_ANY_MAILBOX</code> for any mailbox</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The queue space availability. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FALSE</td><td>no space in the transmit queue. </td></tr>
    <tr><td class="paramname">TRUE</td><td>transmit slot available.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="can__lld_8c_source.html#l00128">128</a> of file <a class="el" href="can__lld_8c_source.html">can_lld.c</a>.</p>

<p>References <a class="el" href="group___c_a_n.html#ga2cfb0a673cc41742fc633a39437c853b">CAN_ANY_MAILBOX</a>, and <a class="el" href="group__kernel__info.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>.</p>

<p>Referenced by <a class="el" href="group___c_a_n.html#ga5232071ac81ca92aab60b61af4c0260c">canTransmit()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3be8997b874202eff8cca6da7c320605"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void can_lld_transmit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_a_n_driver.html">CANDriver</a> *&#160;</td>
          <td class="paramname"><em>canp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___c_a_n.html#ga2b2f773e32e94a41d40d5a0b07be4d27">canmbx_t</a>&#160;</td>
          <td class="paramname"><em>mailbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_c_a_n_tx_frame.html">CANTxFrame</a> *&#160;</td>
          <td class="paramname"><em>ctfp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Inserts a frame into the transmit queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">canp</td><td>pointer to the <code><a class="el" href="struct_c_a_n_driver.html" title="Structure representing an CAN driver. ">CANDriver</a></code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ctfp</td><td>pointer to the CAN frame to be transmitted </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mailbox</td><td>mailbox number, <code>CAN_ANY_MAILBOX</code> for any mailbox</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="can__lld_8c_source.html#l00155">155</a> of file <a class="el" href="can__lld_8c_source.html">can_lld.c</a>.</p>

<p>Referenced by <a class="el" href="group___c_a_n.html#ga5232071ac81ca92aab60b61af4c0260c">canTransmit()</a>.</p>

</div>
</div>
<a class="anchor" id="ga40c3ab00ca235e92fce8a3ced0a85b3f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#ga7556af1cb61728b53228fa3af1c851de">bool_t</a> can_lld_is_rx_nonempty </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_a_n_driver.html">CANDriver</a> *&#160;</td>
          <td class="paramname"><em>canp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___c_a_n.html#ga2b2f773e32e94a41d40d5a0b07be4d27">canmbx_t</a>&#160;</td>
          <td class="paramname"><em>mailbox</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines whether a frame has been received. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">canp</td><td>pointer to the <code><a class="el" href="struct_c_a_n_driver.html" title="Structure representing an CAN driver. ">CANDriver</a></code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mailbox</td><td>mailbox number, <code>CAN_ANY_MAILBOX</code> for any mailbox</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The queue space availability. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FALSE</td><td>no space in the transmit queue. </td></tr>
    <tr><td class="paramname">TRUE</td><td>transmit slot available.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="can__lld_8c_source.html#l00177">177</a> of file <a class="el" href="can__lld_8c_source.html">can_lld.c</a>.</p>

<p>References <a class="el" href="group___c_a_n.html#ga2cfb0a673cc41742fc633a39437c853b">CAN_ANY_MAILBOX</a>, and <a class="el" href="group__kernel__info.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>.</p>

<p>Referenced by <a class="el" href="group___c_a_n.html#gad49a3b3f0d332b13621d7f6066cc8892">canReceive()</a>.</p>

</div>
</div>
<a class="anchor" id="ga14aa484f836fddaa233ad278c9a67910"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void can_lld_receive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_a_n_driver.html">CANDriver</a> *&#160;</td>
          <td class="paramname"><em>canp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___c_a_n.html#ga2b2f773e32e94a41d40d5a0b07be4d27">canmbx_t</a>&#160;</td>
          <td class="paramname"><em>mailbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_c_a_n_rx_frame.html">CANRxFrame</a> *&#160;</td>
          <td class="paramname"><em>crfp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receives a frame from the input queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">canp</td><td>pointer to the <code><a class="el" href="struct_c_a_n_driver.html" title="Structure representing an CAN driver. ">CANDriver</a></code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mailbox</td><td>mailbox number, <code>CAN_ANY_MAILBOX</code> for any mailbox </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">crfp</td><td>pointer to the buffer where the CAN frame is copied</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="can__lld_8c_source.html#l00203">203</a> of file <a class="el" href="can__lld_8c_source.html">can_lld.c</a>.</p>

<p>Referenced by <a class="el" href="group___c_a_n.html#gad49a3b3f0d332b13621d7f6066cc8892">canReceive()</a>.</p>

</div>
</div>
<a class="anchor" id="ga90f2254324f338714bfe1663eb73a2ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void can_lld_sleep </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_a_n_driver.html">CANDriver</a> *&#160;</td>
          <td class="paramname"><em>canp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enters the sleep mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">canp</td><td>pointer to the <code><a class="el" href="struct_c_a_n_driver.html" title="Structure representing an CAN driver. ">CANDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="can__lld_8c_source.html#l00221">221</a> of file <a class="el" href="can__lld_8c_source.html">can_lld.c</a>.</p>

<p>Referenced by <a class="el" href="group___c_a_n.html#ga97caf4f277c09588c225ea2328a74cba">canSleep()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7a5e18d180ae064548783e6ac18903ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void can_lld_wakeup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_c_a_n_driver.html">CANDriver</a> *&#160;</td>
          <td class="paramname"><em>canp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enforces leaving the sleep mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">canp</td><td>pointer to the <code><a class="el" href="struct_c_a_n_driver.html" title="Structure representing an CAN driver. ">CANDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="can__lld_8c_source.html#l00234">234</a> of file <a class="el" href="can__lld_8c_source.html">can_lld.c</a>.</p>

<p>Referenced by <a class="el" href="group___c_a_n.html#ga09737d4ae5be724bf791a309e8a28dff">canWakeup()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ga34367fb2dabd57819b8f068c424d082d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_c_a_n_driver.html">CANDriver</a> CAND1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CAN1 driver identifier. </p>

<p>Definition at line <a class="el" href="can__lld_8c_source.html#l00042">42</a> of file <a class="el" href="can__lld_8c_source.html">can_lld.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga9e84b4cbbb9eb88519aa922ae9c33f09"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAN_LIMIT_WARNING&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Errors rate warning. </p>

<p>Definition at line <a class="el" href="can_8h_source.html#l00052">52</a> of file <a class="el" href="can_8h_source.html">can.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga50706597b6872fbf90222fede47d1f54"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAN_LIMIT_ERROR&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Errors rate error. </p>

<p>Definition at line <a class="el" href="can_8h_source.html#l00056">56</a> of file <a class="el" href="can_8h_source.html">can.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaaa317e7894d81461722dfeb4aa2c14dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAN_BUS_OFF_ERROR&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bus off condition reached. </p>

<p>Definition at line <a class="el" href="can_8h_source.html#l00060">60</a> of file <a class="el" href="can_8h_source.html">can.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga76f084f2cf0c2088ed0d8948e6075709"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAN_FRAMING_ERROR&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Framing error of some kind on the CAN bus. </p>

<p>Definition at line <a class="el" href="can_8h_source.html#l00064">64</a> of file <a class="el" href="can_8h_source.html">can.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga8da95bff65bea0790d564841895c42d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAN_OVERFLOW_ERROR&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Overflow in receive queue. </p>

<p>Definition at line <a class="el" href="can_8h_source.html#l00068">68</a> of file <a class="el" href="can_8h_source.html">can.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga2cfb0a673cc41742fc633a39437c853b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAN_ANY_MAILBOX&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Special mailbox identifier. </p>

<p>Definition at line <a class="el" href="can_8h_source.html#l00074">74</a> of file <a class="el" href="can_8h_source.html">can.h</a>.</p>

<p>Referenced by <a class="el" href="group___c_a_n.html#ga40c3ab00ca235e92fce8a3ced0a85b3f">can_lld_is_rx_nonempty()</a>, and <a class="el" href="group___c_a_n.html#ga207e2a35bfe879c6632645be647d0eea">can_lld_is_tx_empty()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5294d9d12e4186c781df3b2f1d8bd80b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAN_USE_SLEEP_MODE&#160;&#160;&#160;<a class="el" href="group__kernel__info.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sleep mode related APIs inclusion switch. </p>
<p>This option can only be enabled if the CAN implementation supports the sleep mode, see the macro <code>CAN_SUPPORTS_SLEEP</code> exported by the underlying implementation. </p>

<p>Definition at line <a class="el" href="can_8h_source.html#l00091">91</a> of file <a class="el" href="can_8h_source.html">can.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga7262855e7e544cc806694b68443fc176"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAN_MAILBOX_TO_MASK</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">mbx</td><td>)</td>
          <td>&#160;&#160;&#160;(1 &lt;&lt; ((mbx) - 1))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts a mailbox index to a bit mask. </p>

<p>Definition at line <a class="el" href="can_8h_source.html#l00131">131</a> of file <a class="el" href="can_8h_source.html">can.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaa9218b87c481680e99f7ffe90b7bad82"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAN_SUPPORTS_SLEEP&#160;&#160;&#160;<a class="el" href="group__kernel__info.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This switch defines whether the driver implementation supports a low power switch mode with automatic an wakeup feature. </p>

<p>Definition at line <a class="el" href="can__lld_8h_source.html#l00038">38</a> of file <a class="el" href="can__lld_8h_source.html">can_lld.h</a>.</p>

</div>
</div>
<a class="anchor" id="gabd84f1436e0080eb93e4fc491a27d3a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAN_TX_MAILBOXES&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This implementation supports three transmit mailboxes. </p>

<p>Definition at line <a class="el" href="can__lld_8h_source.html#l00043">43</a> of file <a class="el" href="can__lld_8h_source.html">can_lld.h</a>.</p>

<p>Referenced by <a class="el" href="group___c_a_n.html#ga5232071ac81ca92aab60b61af4c0260c">canTransmit()</a>.</p>

</div>
</div>
<a class="anchor" id="gab18d1bb021622d3c5463769416d24d08"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CAN_RX_MAILBOXES&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This implementation supports two receive mailboxes. </p>

<p>Definition at line <a class="el" href="can__lld_8h_source.html#l00048">48</a> of file <a class="el" href="can__lld_8h_source.html">can_lld.h</a>.</p>

<p>Referenced by <a class="el" href="group___c_a_n.html#gad49a3b3f0d332b13621d7f6066cc8892">canReceive()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2d7c705223f644c7de17f325f1fe0747"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PLATFORM_CAN_USE_CAN1&#160;&#160;&#160;<a class="el" href="group__kernel__info.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CAN1 driver enable switch. </p>
<p>If set to <code>TRUE</code> the support for CAN1 is included. </p>

<p>Definition at line <a class="el" href="can__lld_8h_source.html#l00063">63</a> of file <a class="el" href="can__lld_8h_source.html">can_lld.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga2b2f773e32e94a41d40d5a0b07be4d27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t <a class="el" href="group___c_a_n.html#ga2b2f773e32e94a41d40d5a0b07be4d27">canmbx_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of a transmission mailbox index. </p>

<p>Definition at line <a class="el" href="can__lld_8h_source.html#l00082">82</a> of file <a class="el" href="can__lld_8h_source.html">can_lld.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="gaca62464ffdcedae03d49adf3f6ce870e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___c_a_n.html#gaca62464ffdcedae03d49adf3f6ce870e">canstate_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Driver state machine possible states. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ggaca62464ffdcedae03d49adf3f6ce870ea91fe9adee6b7f27be97e8b59439774cc"></a>CAN_UNINIT&#160;</td><td class="fielddoc">
<p>Not initialized. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaca62464ffdcedae03d49adf3f6ce870ea6ed84a3a97073b3e04918a90d90dd11e"></a>CAN_STOP&#160;</td><td class="fielddoc">
<p>Stopped. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaca62464ffdcedae03d49adf3f6ce870eaf10eb7d86ea8728c90d931f34a432394"></a>CAN_STARTING&#160;</td><td class="fielddoc">
<p>Starting. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaca62464ffdcedae03d49adf3f6ce870eaf6cc9dbdefe635c9db9dca135cc94610"></a>CAN_READY&#160;</td><td class="fielddoc">
<p>Ready. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaca62464ffdcedae03d49adf3f6ce870ea7b6ee207a3d1bfec35374f0d3964e6aa"></a>CAN_SLEEP&#160;</td><td class="fielddoc">
<p>Sleep state. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="can_8h_source.html#l00110">110</a> of file <a class="el" href="can_8h_source.html">can.h</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
    <li class="footer">
      <a href="http://sourceforge.net/projects/chibios">
        <img src="http://sflogo.sourceforge.net/sflogo.php?group_id=205897&amp;type=11"
             border="0" width="120" height="30"
             alt="Get ChibiOS/RT embedded RTOS at SourceForge.net. Fast,
                  secure and Free Open Source software downloads"/>
      </a>
    </li>
  </ul>
</div>
<!-- Piwik -->
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? "https://apps.sourceforge.net/piwik/chibios/" : "http://apps.sourceforge.net/piwik/chibios/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
piwik_action_name = '';
piwik_idsite = 1;
piwik_url = pkBaseURL + "piwik.php";
piwik_log(piwik_action_name, piwik_idsite, piwik_url);
</script>
<object><noscript><p><img src="http://apps.sourceforge.net/piwik/chibios/piwik.php?idsite=1" alt="piwik"/></p></noscript></object>
<!-- End Piwik Tag -->
</body>
</html>
