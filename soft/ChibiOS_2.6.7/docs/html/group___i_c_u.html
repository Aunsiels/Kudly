<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ICU Driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 92px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ChibiOS/RT<br><span id="projectnumber">2.6.7</span></div>
  </td>
  <td style="padding-left: 3em;">
<script type="text/javascript"><!--
google_ad_client = "pub-3840594581853944";
/* Documentation, bottom, 728x90, created 9/19/10 */
google_ad_slot = "1902290615";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___i_c_u.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">ICU Driver<div class="ingroups"><a class="el" href="group___i_o.html">HAL</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for ICU Driver:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group___i_c_u.png" border="0" alt="" usemap="#group______i__c__u"/>
<map name="group______i__c__u" id="group______i__c__u">
<area shape="rect" id="node1" href="group___i_o.html" title="Hardware Abstraction Layer. " alt="" coords="5,5,48,29"/></map>
</td></tr></table></center>
</div>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Generic ICU Driver. </p>
<p>This module implements a generic ICU (Input Capture Unit) driver. </p><dl class="section pre"><dt>Precondition</dt><dd>In order to use the ICU driver the <code>HAL_USE_ICU</code> option must be enabled in <code><a class="el" href="halconf_8h.html" title="HAL configuration header. ">halconf.h</a></code>.</dd></dl>
<h1><a class="anchor" id="icu_1"></a>
Driver State Machine</h1>
<p>The driver implements a state machine internally, not all the driver functionalities can be used in any moment, any transition not explicitly shown in the following diagram has to be considered an error and shall be captured by an assertion (if enabled). </p><div align="center">
<img src="dot_inline_dotgraph_11.png" alt="dot_inline_dotgraph_11.png" border="0" usemap="#dot_inline_dotgraph_11.map"/>
<map name="dot_inline_dotgraph_11.map" id="dot_inline_dotgraph_11.map"></map>
</div>
<h1><a class="anchor" id="icu_2"></a>
ICU Operations.</h1>
<p>This driver abstracts a generic Input Capture Unit composed of:</p><ul>
<li>A clock prescaler.</li>
<li>A main up counter.</li>
<li>Two capture registers triggered by the rising and falling edges on the sampled input.</li>
</ul>
<p>The ICU unit can be programmed to synchronize on the rising or falling edge of the sample input:</p><ul>
<li><b>ICU_INPUT_ACTIVE_HIGH</b>, a rising edge is the start signal.</li>
<li><b>ICU_INPUT_ACTIVE_LOW</b>, a falling edge is the start signal.</li>
</ul>
<p>After the activation the ICU unit can be in one of the following states at any time:</p><ul>
<li><b>ICU_WAITING</b>, waiting the first start signal.</li>
<li><b>ICU_ACTIVE</b>, after a start signal.</li>
<li><b>ICU_IDLE</b>, after a stop signal.</li>
</ul>
<p>Callbacks are invoked when start or stop signals occur. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_i_c_u_config.html">ICUConfig</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver configuration structure.  <a href="struct_i_c_u_config.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_i_c_u_driver.html">ICUDriver</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure representing an ICU driver.  <a href="struct_i_c_u_driver.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga28c2664fcfec4879984aa10acac57390"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_u.html#ga28c2664fcfec4879984aa10acac57390">icuInit</a> (void)</td></tr>
<tr class="memdesc:ga28c2664fcfec4879984aa10acac57390"><td class="mdescLeft">&#160;</td><td class="mdescRight">ICU Driver initialization.  <a href="#ga28c2664fcfec4879984aa10acac57390">More...</a><br /></td></tr>
<tr class="separator:ga28c2664fcfec4879984aa10acac57390"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0568fee9c68382566d6649b66ba2e01b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_u.html#ga0568fee9c68382566d6649b66ba2e01b">icuObjectInit</a> (<a class="el" href="struct_i_c_u_driver.html">ICUDriver</a> *icup)</td></tr>
<tr class="memdesc:ga0568fee9c68382566d6649b66ba2e01b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the standard part of a <code><a class="el" href="struct_i_c_u_driver.html" title="Structure representing an ICU driver. ">ICUDriver</a></code> structure.  <a href="#ga0568fee9c68382566d6649b66ba2e01b">More...</a><br /></td></tr>
<tr class="separator:ga0568fee9c68382566d6649b66ba2e01b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa13aef2177d935c19fb55aec7d171bdb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_u.html#gaa13aef2177d935c19fb55aec7d171bdb">icuStart</a> (<a class="el" href="struct_i_c_u_driver.html">ICUDriver</a> *icup, const <a class="el" href="struct_i_c_u_config.html">ICUConfig</a> *config)</td></tr>
<tr class="memdesc:gaa13aef2177d935c19fb55aec7d171bdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures and activates the ICU peripheral.  <a href="#gaa13aef2177d935c19fb55aec7d171bdb">More...</a><br /></td></tr>
<tr class="separator:gaa13aef2177d935c19fb55aec7d171bdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga28688d3f8c7bfae1514453ceea856b69"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_u.html#ga28688d3f8c7bfae1514453ceea856b69">icuStop</a> (<a class="el" href="struct_i_c_u_driver.html">ICUDriver</a> *icup)</td></tr>
<tr class="memdesc:ga28688d3f8c7bfae1514453ceea856b69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deactivates the ICU peripheral.  <a href="#ga28688d3f8c7bfae1514453ceea856b69">More...</a><br /></td></tr>
<tr class="separator:ga28688d3f8c7bfae1514453ceea856b69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa6b1752bfdeb4f99b642b844c4ee1bc1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_u.html#gaa6b1752bfdeb4f99b642b844c4ee1bc1">icuEnable</a> (<a class="el" href="struct_i_c_u_driver.html">ICUDriver</a> *icup)</td></tr>
<tr class="memdesc:gaa6b1752bfdeb4f99b642b844c4ee1bc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables the input capture.  <a href="#gaa6b1752bfdeb4f99b642b844c4ee1bc1">More...</a><br /></td></tr>
<tr class="separator:gaa6b1752bfdeb4f99b642b844c4ee1bc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga217f72dd17f81b767e5a0216a538752f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_u.html#ga217f72dd17f81b767e5a0216a538752f">icuDisable</a> (<a class="el" href="struct_i_c_u_driver.html">ICUDriver</a> *icup)</td></tr>
<tr class="memdesc:ga217f72dd17f81b767e5a0216a538752f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables the input capture.  <a href="#ga217f72dd17f81b767e5a0216a538752f">More...</a><br /></td></tr>
<tr class="separator:ga217f72dd17f81b767e5a0216a538752f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab8192fa4d33bf467f5a599d94ed6c699"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_u.html#gab8192fa4d33bf467f5a599d94ed6c699">icu_lld_init</a> (void)</td></tr>
<tr class="memdesc:gab8192fa4d33bf467f5a599d94ed6c699"><td class="mdescLeft">&#160;</td><td class="mdescRight">Low level ICU driver initialization.  <a href="#gab8192fa4d33bf467f5a599d94ed6c699">More...</a><br /></td></tr>
<tr class="separator:gab8192fa4d33bf467f5a599d94ed6c699"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9e2cd09f1ef69b6045b95971dffbfa6d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_u.html#ga9e2cd09f1ef69b6045b95971dffbfa6d">icu_lld_start</a> (<a class="el" href="struct_i_c_u_driver.html">ICUDriver</a> *icup)</td></tr>
<tr class="memdesc:ga9e2cd09f1ef69b6045b95971dffbfa6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures and activates the ICU peripheral.  <a href="#ga9e2cd09f1ef69b6045b95971dffbfa6d">More...</a><br /></td></tr>
<tr class="separator:ga9e2cd09f1ef69b6045b95971dffbfa6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7b6f6699693925859bd5aadcdb7980de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_u.html#ga7b6f6699693925859bd5aadcdb7980de">icu_lld_stop</a> (<a class="el" href="struct_i_c_u_driver.html">ICUDriver</a> *icup)</td></tr>
<tr class="memdesc:ga7b6f6699693925859bd5aadcdb7980de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deactivates the ICU peripheral.  <a href="#ga7b6f6699693925859bd5aadcdb7980de">More...</a><br /></td></tr>
<tr class="separator:ga7b6f6699693925859bd5aadcdb7980de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6653f3c712e8b474da150d133ffd6f92"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_u.html#ga6653f3c712e8b474da150d133ffd6f92">icu_lld_enable</a> (<a class="el" href="struct_i_c_u_driver.html">ICUDriver</a> *icup)</td></tr>
<tr class="memdesc:ga6653f3c712e8b474da150d133ffd6f92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables the input capture.  <a href="#ga6653f3c712e8b474da150d133ffd6f92">More...</a><br /></td></tr>
<tr class="separator:ga6653f3c712e8b474da150d133ffd6f92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa6311a41e71bf9afa83c402064d48574"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_u.html#gaa6311a41e71bf9afa83c402064d48574">icu_lld_disable</a> (<a class="el" href="struct_i_c_u_driver.html">ICUDriver</a> *icup)</td></tr>
<tr class="memdesc:gaa6311a41e71bf9afa83c402064d48574"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables the input capture.  <a href="#gaa6311a41e71bf9afa83c402064d48574">More...</a><br /></td></tr>
<tr class="separator:gaa6311a41e71bf9afa83c402064d48574"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9b13b0f3086a6831eef9689f0f343be6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___i_c_u.html#ga0e5f4175409385802f13049c28614ab0">icucnt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_u.html#ga9b13b0f3086a6831eef9689f0f343be6">icu_lld_get_width</a> (<a class="el" href="struct_i_c_u_driver.html">ICUDriver</a> *icup)</td></tr>
<tr class="memdesc:ga9b13b0f3086a6831eef9689f0f343be6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the width of the latest pulse.  <a href="#ga9b13b0f3086a6831eef9689f0f343be6">More...</a><br /></td></tr>
<tr class="separator:ga9b13b0f3086a6831eef9689f0f343be6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeba9d2069a050f2b70e23a3c51ae700f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___i_c_u.html#ga0e5f4175409385802f13049c28614ab0">icucnt_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_u.html#gaeba9d2069a050f2b70e23a3c51ae700f">icu_lld_get_period</a> (<a class="el" href="struct_i_c_u_driver.html">ICUDriver</a> *icup)</td></tr>
<tr class="memdesc:gaeba9d2069a050f2b70e23a3c51ae700f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the width of the latest cycle.  <a href="#gaeba9d2069a050f2b70e23a3c51ae700f">More...</a><br /></td></tr>
<tr class="separator:gaeba9d2069a050f2b70e23a3c51ae700f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga17ff8dc6d1e1b5a9d19a5290fea32fd1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_i_c_u_driver.html">ICUDriver</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_u.html#ga17ff8dc6d1e1b5a9d19a5290fea32fd1">ICUD1</a></td></tr>
<tr class="memdesc:ga17ff8dc6d1e1b5a9d19a5290fea32fd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">ICU1 driver identifier.  <a href="#ga17ff8dc6d1e1b5a9d19a5290fea32fd1">More...</a><br /></td></tr>
<tr class="separator:ga17ff8dc6d1e1b5a9d19a5290fea32fd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Macro Functions</h2></td></tr>
<tr class="memitem:ga5e1e0d68224284d1633388b5aa6f20dc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_u.html#ga5e1e0d68224284d1633388b5aa6f20dc">icuEnableI</a>(icup)&#160;&#160;&#160;<a class="el" href="group___i_c_u.html#ga6653f3c712e8b474da150d133ffd6f92">icu_lld_enable</a>(icup)</td></tr>
<tr class="memdesc:ga5e1e0d68224284d1633388b5aa6f20dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables the input capture.  <a href="#ga5e1e0d68224284d1633388b5aa6f20dc">More...</a><br /></td></tr>
<tr class="separator:ga5e1e0d68224284d1633388b5aa6f20dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacab5b2300164d431ed14ae48ef07ad3b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_u.html#gacab5b2300164d431ed14ae48ef07ad3b">icuDisableI</a>(icup)&#160;&#160;&#160;<a class="el" href="group___i_c_u.html#gaa6311a41e71bf9afa83c402064d48574">icu_lld_disable</a>(icup)</td></tr>
<tr class="memdesc:gacab5b2300164d431ed14ae48ef07ad3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables the input capture.  <a href="#gacab5b2300164d431ed14ae48ef07ad3b">More...</a><br /></td></tr>
<tr class="separator:gacab5b2300164d431ed14ae48ef07ad3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3fd7d162d0fd278aa40898fe07163926"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_u.html#ga3fd7d162d0fd278aa40898fe07163926">icuGetWidth</a>(icup)&#160;&#160;&#160;<a class="el" href="group___i_c_u.html#ga9b13b0f3086a6831eef9689f0f343be6">icu_lld_get_width</a>(icup)</td></tr>
<tr class="memdesc:ga3fd7d162d0fd278aa40898fe07163926"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the width of the latest pulse.  <a href="#ga3fd7d162d0fd278aa40898fe07163926">More...</a><br /></td></tr>
<tr class="separator:ga3fd7d162d0fd278aa40898fe07163926"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac6adf27372532cc9a1c717856e7cbc13"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_u.html#gac6adf27372532cc9a1c717856e7cbc13">icuGetPeriod</a>(icup)&#160;&#160;&#160;<a class="el" href="group___i_c_u.html#gaeba9d2069a050f2b70e23a3c51ae700f">icu_lld_get_period</a>(icup)</td></tr>
<tr class="memdesc:gac6adf27372532cc9a1c717856e7cbc13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the width of the latest cycle.  <a href="#gac6adf27372532cc9a1c717856e7cbc13">More...</a><br /></td></tr>
<tr class="separator:gac6adf27372532cc9a1c717856e7cbc13"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Low Level driver helper macros</h2></td></tr>
<tr class="memitem:ga5605cd51e7cdcb64d0a4707c4dde6a31"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_u.html#ga5605cd51e7cdcb64d0a4707c4dde6a31">_icu_isr_invoke_width_cb</a>(icup)</td></tr>
<tr class="memdesc:ga5605cd51e7cdcb64d0a4707c4dde6a31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Common ISR code, ICU width event.  <a href="#ga5605cd51e7cdcb64d0a4707c4dde6a31">More...</a><br /></td></tr>
<tr class="separator:ga5605cd51e7cdcb64d0a4707c4dde6a31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga456fc1d9354370d165356c1fb873aa66"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_u.html#ga456fc1d9354370d165356c1fb873aa66">_icu_isr_invoke_period_cb</a>(icup)</td></tr>
<tr class="memdesc:ga456fc1d9354370d165356c1fb873aa66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Common ISR code, ICU period event.  <a href="#ga456fc1d9354370d165356c1fb873aa66">More...</a><br /></td></tr>
<tr class="separator:ga456fc1d9354370d165356c1fb873aa66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3354405f14fea2c590638f528f30f264"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_u.html#ga3354405f14fea2c590638f528f30f264">_icu_isr_invoke_overflow_cb</a>(icup)</td></tr>
<tr class="memdesc:ga3354405f14fea2c590638f528f30f264"><td class="mdescLeft">&#160;</td><td class="mdescRight">Common ISR code, ICU timer overflow event.  <a href="#ga3354405f14fea2c590638f528f30f264">More...</a><br /></td></tr>
<tr class="separator:ga3354405f14fea2c590638f528f30f264"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Configuration options</h2></td></tr>
<tr class="memitem:ga9836ba1ea01f32c323bd651beafbdb38"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_u.html#ga9836ba1ea01f32c323bd651beafbdb38">PLATFORM_ICU_USE_ICU1</a>&#160;&#160;&#160;<a class="el" href="group__kernel__info.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td></tr>
<tr class="memdesc:ga9836ba1ea01f32c323bd651beafbdb38"><td class="mdescLeft">&#160;</td><td class="mdescRight">ICU driver enable switch.  <a href="#ga9836ba1ea01f32c323bd651beafbdb38">More...</a><br /></td></tr>
<tr class="separator:ga9836ba1ea01f32c323bd651beafbdb38"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga7a9caa625ee7d27804a22bb8e02af0d9"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_i_c_u_driver.html">ICUDriver</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_u.html#ga7a9caa625ee7d27804a22bb8e02af0d9">ICUDriver</a></td></tr>
<tr class="memdesc:ga7a9caa625ee7d27804a22bb8e02af0d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of a structure representing an ICU driver.  <a href="#ga7a9caa625ee7d27804a22bb8e02af0d9">More...</a><br /></td></tr>
<tr class="separator:ga7a9caa625ee7d27804a22bb8e02af0d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga691b1942ab220aeab6c0ba75a9eaa5f6"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_u.html#ga691b1942ab220aeab6c0ba75a9eaa5f6">icucallback_t</a>) (<a class="el" href="struct_i_c_u_driver.html">ICUDriver</a> *icup)</td></tr>
<tr class="memdesc:ga691b1942ab220aeab6c0ba75a9eaa5f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">ICU notification callback type.  <a href="#ga691b1942ab220aeab6c0ba75a9eaa5f6">More...</a><br /></td></tr>
<tr class="separator:ga691b1942ab220aeab6c0ba75a9eaa5f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga53464caf9152b0d035a67509014ed790"><td class="memItemLeft" align="right" valign="top">typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_u.html#ga53464caf9152b0d035a67509014ed790">icufreq_t</a></td></tr>
<tr class="memdesc:ga53464caf9152b0d035a67509014ed790"><td class="mdescLeft">&#160;</td><td class="mdescRight">ICU frequency type.  <a href="#ga53464caf9152b0d035a67509014ed790">More...</a><br /></td></tr>
<tr class="separator:ga53464caf9152b0d035a67509014ed790"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0e5f4175409385802f13049c28614ab0"><td class="memItemLeft" align="right" valign="top">typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_u.html#ga0e5f4175409385802f13049c28614ab0">icucnt_t</a></td></tr>
<tr class="memdesc:ga0e5f4175409385802f13049c28614ab0"><td class="mdescLeft">&#160;</td><td class="mdescRight">ICU counter type.  <a href="#ga0e5f4175409385802f13049c28614ab0">More...</a><br /></td></tr>
<tr class="separator:ga0e5f4175409385802f13049c28614ab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga51dbd510749f0494eaad4075c1a90e83"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_u.html#ga51dbd510749f0494eaad4075c1a90e83">icustate_t</a> { <br />
&#160;&#160;<a class="el" href="group___i_c_u.html#gga51dbd510749f0494eaad4075c1a90e83a42a8d39944655094ca151d02f576351c">ICU_UNINIT</a> = 0, 
<a class="el" href="group___i_c_u.html#gga51dbd510749f0494eaad4075c1a90e83ac85d6716aece0dc1500478e06222a785">ICU_STOP</a> = 1, 
<a class="el" href="group___i_c_u.html#gga51dbd510749f0494eaad4075c1a90e83a6b81b340b4a46c219d31ddba847d6923">ICU_READY</a> = 2, 
<a class="el" href="group___i_c_u.html#gga51dbd510749f0494eaad4075c1a90e83a8e0e023e70ba3b4d1f81da38fad4430e">ICU_WAITING</a> = 3, 
<br />
&#160;&#160;<a class="el" href="group___i_c_u.html#gga51dbd510749f0494eaad4075c1a90e83a937f683aadda671213ca92bd07579814">ICU_ACTIVE</a> = 4, 
<a class="el" href="group___i_c_u.html#gga51dbd510749f0494eaad4075c1a90e83ad02b1dd54aaa23e099ba0790deafe023">ICU_IDLE</a> = 5
<br />
 }</td></tr>
<tr class="memdesc:ga51dbd510749f0494eaad4075c1a90e83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver state machine possible states.  <a href="group___i_c_u.html#ga51dbd510749f0494eaad4075c1a90e83">More...</a><br /></td></tr>
<tr class="separator:ga51dbd510749f0494eaad4075c1a90e83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4dc03eafe2e378dcfddebfeab3473930"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_u.html#ga4dc03eafe2e378dcfddebfeab3473930">icumode_t</a> { <a class="el" href="group___i_c_u.html#gga4dc03eafe2e378dcfddebfeab3473930af77062b406038f9ee696e7ae89e48eb1">ICU_INPUT_ACTIVE_HIGH</a> = 0, 
<a class="el" href="group___i_c_u.html#gga4dc03eafe2e378dcfddebfeab3473930aa58916567f47bef9b55c3f820751a283">ICU_INPUT_ACTIVE_LOW</a> = 1
 }</td></tr>
<tr class="memdesc:ga4dc03eafe2e378dcfddebfeab3473930"><td class="mdescLeft">&#160;</td><td class="mdescRight">ICU driver mode.  <a href="group___i_c_u.html#ga4dc03eafe2e378dcfddebfeab3473930">More...</a><br /></td></tr>
<tr class="separator:ga4dc03eafe2e378dcfddebfeab3473930"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga28c2664fcfec4879984aa10acac57390"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void icuInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ICU Driver initialization. </p>
<dl class="section note"><dt>Note</dt><dd>This function is implicitly invoked by <code><a class="el" href="group___h_a_l.html#gafd89c1650df524d95aef39b8bc38170d" title="HAL initialization. ">halInit()</a></code>, there is no need to explicitly initialize the driver.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Initializer, this function just initializes an object and can be invoked before the kernel is initialized. </dd></dl>

<p>Definition at line <a class="el" href="icu_8c_source.html#l00068">68</a> of file <a class="el" href="icu_8c_source.html">icu.c</a>.</p>

<p>References <a class="el" href="group___i_c_u.html#gab8192fa4d33bf467f5a599d94ed6c699">icu_lld_init()</a>.</p>

<p>Referenced by <a class="el" href="group___h_a_l.html#gafd89c1650df524d95aef39b8bc38170d">halInit()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___i_c_u_ga28c2664fcfec4879984aa10acac57390_cgraph.png" border="0" usemap="#group___i_c_u_ga28c2664fcfec4879984aa10acac57390_cgraph" alt=""/></div>
<map name="group___i_c_u_ga28c2664fcfec4879984aa10acac57390_cgraph" id="group___i_c_u_ga28c2664fcfec4879984aa10acac57390_cgraph">
<area shape="rect" id="node2" href="group___i_c_u.html#gab8192fa4d33bf467f5a599d94ed6c699" title="Low level ICU driver initialization. " alt="" coords="108,5,188,29"/><area shape="rect" id="node3" href="group___i_c_u.html#ga0568fee9c68382566d6649b66ba2e01b" title="Initializes the standard part of a ICUDriver structure. " alt="" coords="236,5,327,29"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga0568fee9c68382566d6649b66ba2e01b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void icuObjectInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_c_u_driver.html">ICUDriver</a> *&#160;</td>
          <td class="paramname"><em>icup</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the standard part of a <code><a class="el" href="struct_i_c_u_driver.html" title="Structure representing an ICU driver. ">ICUDriver</a></code> structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">icup</td><td>pointer to the <code><a class="el" href="struct_i_c_u_driver.html" title="Structure representing an ICU driver. ">ICUDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Initializer, this function just initializes an object and can be invoked before the kernel is initialized. </dd></dl>

<p>Definition at line <a class="el" href="icu_8c_source.html#l00080">80</a> of file <a class="el" href="icu_8c_source.html">icu.c</a>.</p>

<p>References <a class="el" href="struct_i_c_u_driver.html#a41f28e8b75ba6afe30b279dc696f7c67">ICUDriver::config</a>, <a class="el" href="group___i_c_u.html#gga51dbd510749f0494eaad4075c1a90e83ac85d6716aece0dc1500478e06222a785">ICU_STOP</a>, and <a class="el" href="struct_i_c_u_driver.html#a9e577aebb850327a3bdf4175c227f2f1">ICUDriver::state</a>.</p>

<p>Referenced by <a class="el" href="group___i_c_u.html#gab8192fa4d33bf467f5a599d94ed6c699">icu_lld_init()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa13aef2177d935c19fb55aec7d171bdb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void icuStart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_c_u_driver.html">ICUDriver</a> *&#160;</td>
          <td class="paramname"><em>icup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_i_c_u_config.html">ICUConfig</a> *&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures and activates the ICU peripheral. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">icup</td><td>pointer to the <code><a class="el" href="struct_i_c_u_driver.html" title="Structure representing an ICU driver. ">ICUDriver</a></code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>pointer to the <code><a class="el" href="struct_i_c_u_config.html" title="Driver configuration structure. ">ICUConfig</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="icu_8c_source.html#l00094">94</a> of file <a class="el" href="icu_8c_source.html">icu.c</a>.</p>

<p>References <a class="el" href="group__debug.html#ga43d50c69eb730d0f024eb832d61f30c9">chDbgAssert</a>, <a class="el" href="group__debug.html#ga6bb6c0f97caab3a66332c8bfbf7a3844">chDbgCheck</a>, <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>, <a class="el" href="struct_i_c_u_driver.html#a41f28e8b75ba6afe30b279dc696f7c67">ICUDriver::config</a>, <a class="el" href="group___i_c_u.html#ga9e2cd09f1ef69b6045b95971dffbfa6d">icu_lld_start()</a>, <a class="el" href="group___i_c_u.html#gga51dbd510749f0494eaad4075c1a90e83a6b81b340b4a46c219d31ddba847d6923">ICU_READY</a>, <a class="el" href="group___i_c_u.html#gga51dbd510749f0494eaad4075c1a90e83ac85d6716aece0dc1500478e06222a785">ICU_STOP</a>, and <a class="el" href="struct_i_c_u_driver.html#a9e577aebb850327a3bdf4175c227f2f1">ICUDriver::state</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___i_c_u_gaa13aef2177d935c19fb55aec7d171bdb_cgraph.png" border="0" usemap="#group___i_c_u_gaa13aef2177d935c19fb55aec7d171bdb_cgraph" alt=""/></div>
<map name="group___i_c_u_gaa13aef2177d935c19fb55aec7d171bdb_cgraph" id="group___i_c_u_gaa13aef2177d935c19fb55aec7d171bdb_cgraph">
<area shape="rect" id="node2" href="group___i_c_u.html#ga9e2cd09f1ef69b6045b95971dffbfa6d" title="Configures and activates the ICU peripheral. " alt="" coords="120,5,211,29"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga28688d3f8c7bfae1514453ceea856b69"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void icuStop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_c_u_driver.html">ICUDriver</a> *&#160;</td>
          <td class="paramname"><em>icup</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deactivates the ICU peripheral. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">icup</td><td>pointer to the <code><a class="el" href="struct_i_c_u_driver.html" title="Structure representing an ICU driver. ">ICUDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="icu_8c_source.html#l00114">114</a> of file <a class="el" href="icu_8c_source.html">icu.c</a>.</p>

<p>References <a class="el" href="group__debug.html#ga43d50c69eb730d0f024eb832d61f30c9">chDbgAssert</a>, <a class="el" href="group__debug.html#ga6bb6c0f97caab3a66332c8bfbf7a3844">chDbgCheck</a>, <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>, <a class="el" href="group___i_c_u.html#ga7b6f6699693925859bd5aadcdb7980de">icu_lld_stop()</a>, <a class="el" href="group___i_c_u.html#gga51dbd510749f0494eaad4075c1a90e83a6b81b340b4a46c219d31ddba847d6923">ICU_READY</a>, <a class="el" href="group___i_c_u.html#gga51dbd510749f0494eaad4075c1a90e83ac85d6716aece0dc1500478e06222a785">ICU_STOP</a>, and <a class="el" href="struct_i_c_u_driver.html#a9e577aebb850327a3bdf4175c227f2f1">ICUDriver::state</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___i_c_u_ga28688d3f8c7bfae1514453ceea856b69_cgraph.png" border="0" usemap="#group___i_c_u_ga28688d3f8c7bfae1514453ceea856b69_cgraph" alt=""/></div>
<map name="group___i_c_u_ga28688d3f8c7bfae1514453ceea856b69_cgraph" id="group___i_c_u_ga28688d3f8c7bfae1514453ceea856b69_cgraph">
<area shape="rect" id="node2" href="group___i_c_u.html#ga7b6f6699693925859bd5aadcdb7980de" title="Deactivates the ICU peripheral. " alt="" coords="117,5,205,29"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaa6b1752bfdeb4f99b642b844c4ee1bc1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void icuEnable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_c_u_driver.html">ICUDriver</a> *&#160;</td>
          <td class="paramname"><em>icup</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables the input capture. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">icup</td><td>pointer to the <code><a class="el" href="struct_i_c_u_driver.html" title="Structure representing an ICU driver. ">ICUDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="icu_8c_source.html#l00133">133</a> of file <a class="el" href="icu_8c_source.html">icu.c</a>.</p>

<p>References <a class="el" href="group__debug.html#ga43d50c69eb730d0f024eb832d61f30c9">chDbgAssert</a>, <a class="el" href="group__debug.html#ga6bb6c0f97caab3a66332c8bfbf7a3844">chDbgCheck</a>, <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>, <a class="el" href="group___i_c_u.html#ga6653f3c712e8b474da150d133ffd6f92">icu_lld_enable()</a>, <a class="el" href="group___i_c_u.html#gga51dbd510749f0494eaad4075c1a90e83a6b81b340b4a46c219d31ddba847d6923">ICU_READY</a>, <a class="el" href="group___i_c_u.html#gga51dbd510749f0494eaad4075c1a90e83a8e0e023e70ba3b4d1f81da38fad4430e">ICU_WAITING</a>, and <a class="el" href="struct_i_c_u_driver.html#a9e577aebb850327a3bdf4175c227f2f1">ICUDriver::state</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___i_c_u_gaa6b1752bfdeb4f99b642b844c4ee1bc1_cgraph.png" border="0" usemap="#group___i_c_u_gaa6b1752bfdeb4f99b642b844c4ee1bc1_cgraph" alt=""/></div>
<map name="group___i_c_u_gaa6b1752bfdeb4f99b642b844c4ee1bc1_cgraph" id="group___i_c_u_gaa6b1752bfdeb4f99b642b844c4ee1bc1_cgraph">
<area shape="rect" id="node2" href="group___i_c_u.html#ga6653f3c712e8b474da150d133ffd6f92" title="Enables the input capture. " alt="" coords="129,5,231,29"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga217f72dd17f81b767e5a0216a538752f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void icuDisable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_c_u_driver.html">ICUDriver</a> *&#160;</td>
          <td class="paramname"><em>icup</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disables the input capture. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">icup</td><td>pointer to the <code><a class="el" href="struct_i_c_u_driver.html" title="Structure representing an ICU driver. ">ICUDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="icu_8c_source.html#l00151">151</a> of file <a class="el" href="icu_8c_source.html">icu.c</a>.</p>

<p>References <a class="el" href="group__debug.html#ga43d50c69eb730d0f024eb832d61f30c9">chDbgAssert</a>, <a class="el" href="group__debug.html#ga6bb6c0f97caab3a66332c8bfbf7a3844">chDbgCheck</a>, <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>, <a class="el" href="group___i_c_u.html#gga51dbd510749f0494eaad4075c1a90e83a937f683aadda671213ca92bd07579814">ICU_ACTIVE</a>, <a class="el" href="group___i_c_u.html#gga51dbd510749f0494eaad4075c1a90e83ad02b1dd54aaa23e099ba0790deafe023">ICU_IDLE</a>, <a class="el" href="group___i_c_u.html#gaa6311a41e71bf9afa83c402064d48574">icu_lld_disable()</a>, <a class="el" href="group___i_c_u.html#gga51dbd510749f0494eaad4075c1a90e83a6b81b340b4a46c219d31ddba847d6923">ICU_READY</a>, <a class="el" href="group___i_c_u.html#gga51dbd510749f0494eaad4075c1a90e83a8e0e023e70ba3b4d1f81da38fad4430e">ICU_WAITING</a>, and <a class="el" href="struct_i_c_u_driver.html#a9e577aebb850327a3bdf4175c227f2f1">ICUDriver::state</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___i_c_u_ga217f72dd17f81b767e5a0216a538752f_cgraph.png" border="0" usemap="#group___i_c_u_ga217f72dd17f81b767e5a0216a538752f_cgraph" alt=""/></div>
<map name="group___i_c_u_ga217f72dd17f81b767e5a0216a538752f_cgraph" id="group___i_c_u_ga217f72dd17f81b767e5a0216a538752f_cgraph">
<area shape="rect" id="node2" href="group___i_c_u.html#gaa6311a41e71bf9afa83c402064d48574" title="Disables the input capture. " alt="" coords="133,5,237,29"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gab8192fa4d33bf467f5a599d94ed6c699"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void icu_lld_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Low level ICU driver initialization. </p>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="icu__lld_8c_source.html#l00066">66</a> of file <a class="el" href="icu__lld_8c_source.html">icu_lld.c</a>.</p>

<p>References <a class="el" href="group___i_c_u.html#ga0568fee9c68382566d6649b66ba2e01b">icuObjectInit()</a>.</p>

<p>Referenced by <a class="el" href="group___i_c_u.html#ga28c2664fcfec4879984aa10acac57390">icuInit()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___i_c_u_gab8192fa4d33bf467f5a599d94ed6c699_cgraph.png" border="0" usemap="#group___i_c_u_gab8192fa4d33bf467f5a599d94ed6c699_cgraph" alt=""/></div>
<map name="group___i_c_u_gab8192fa4d33bf467f5a599d94ed6c699_cgraph" id="group___i_c_u_gab8192fa4d33bf467f5a599d94ed6c699_cgraph">
<area shape="rect" id="node2" href="group___i_c_u.html#ga0568fee9c68382566d6649b66ba2e01b" title="Initializes the standard part of a ICUDriver structure. " alt="" coords="133,5,224,29"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga9e2cd09f1ef69b6045b95971dffbfa6d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void icu_lld_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_c_u_driver.html">ICUDriver</a> *&#160;</td>
          <td class="paramname"><em>icup</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures and activates the ICU peripheral. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">icup</td><td>pointer to the <code><a class="el" href="struct_i_c_u_driver.html" title="Structure representing an ICU driver. ">ICUDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="icu__lld_8c_source.html#l00081">81</a> of file <a class="el" href="icu__lld_8c_source.html">icu_lld.c</a>.</p>

<p>References <a class="el" href="group___i_c_u.html#gga51dbd510749f0494eaad4075c1a90e83ac85d6716aece0dc1500478e06222a785">ICU_STOP</a>, and <a class="el" href="struct_i_c_u_driver.html#a9e577aebb850327a3bdf4175c227f2f1">ICUDriver::state</a>.</p>

<p>Referenced by <a class="el" href="group___i_c_u.html#gaa13aef2177d935c19fb55aec7d171bdb">icuStart()</a>.</p>

</div>
</div>
<a class="anchor" id="ga7b6f6699693925859bd5aadcdb7980de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void icu_lld_stop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_c_u_driver.html">ICUDriver</a> *&#160;</td>
          <td class="paramname"><em>icup</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deactivates the ICU peripheral. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">icup</td><td>pointer to the <code><a class="el" href="struct_i_c_u_driver.html" title="Structure representing an ICU driver. ">ICUDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="icu__lld_8c_source.html#l00102">102</a> of file <a class="el" href="icu__lld_8c_source.html">icu_lld.c</a>.</p>

<p>References <a class="el" href="group___i_c_u.html#gga51dbd510749f0494eaad4075c1a90e83a6b81b340b4a46c219d31ddba847d6923">ICU_READY</a>, and <a class="el" href="struct_i_c_u_driver.html#a9e577aebb850327a3bdf4175c227f2f1">ICUDriver::state</a>.</p>

<p>Referenced by <a class="el" href="group___i_c_u.html#ga28688d3f8c7bfae1514453ceea856b69">icuStop()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6653f3c712e8b474da150d133ffd6f92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void icu_lld_enable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_c_u_driver.html">ICUDriver</a> *&#160;</td>
          <td class="paramname"><em>icup</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables the input capture. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">icup</td><td>pointer to the <code><a class="el" href="struct_i_c_u_driver.html" title="Structure representing an ICU driver. ">ICUDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="icu__lld_8c_source.html#l00123">123</a> of file <a class="el" href="icu__lld_8c_source.html">icu_lld.c</a>.</p>

<p>Referenced by <a class="el" href="group___i_c_u.html#gaa6b1752bfdeb4f99b642b844c4ee1bc1">icuEnable()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa6311a41e71bf9afa83c402064d48574"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void icu_lld_disable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_c_u_driver.html">ICUDriver</a> *&#160;</td>
          <td class="paramname"><em>icup</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disables the input capture. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">icup</td><td>pointer to the <code><a class="el" href="struct_i_c_u_driver.html" title="Structure representing an ICU driver. ">ICUDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="icu__lld_8c_source.html#l00136">136</a> of file <a class="el" href="icu__lld_8c_source.html">icu_lld.c</a>.</p>

<p>Referenced by <a class="el" href="group___i_c_u.html#ga217f72dd17f81b767e5a0216a538752f">icuDisable()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9b13b0f3086a6831eef9689f0f343be6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___i_c_u.html#ga0e5f4175409385802f13049c28614ab0">icucnt_t</a> icu_lld_get_width </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_c_u_driver.html">ICUDriver</a> *&#160;</td>
          <td class="paramname"><em>icup</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the width of the latest pulse. </p>
<p>The pulse width is defined as number of ticks between the start edge and the stop edge.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">icup</td><td>pointer to the <code><a class="el" href="struct_i_c_u_driver.html" title="Structure representing an ICU driver. ">ICUDriver</a></code> object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of ticks.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="icu__lld_8c_source.html#l00152">152</a> of file <a class="el" href="icu__lld_8c_source.html">icu_lld.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaeba9d2069a050f2b70e23a3c51ae700f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___i_c_u.html#ga0e5f4175409385802f13049c28614ab0">icucnt_t</a> icu_lld_get_period </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_c_u_driver.html">ICUDriver</a> *&#160;</td>
          <td class="paramname"><em>icup</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the width of the latest cycle. </p>
<p>The cycle width is defined as number of ticks between a start edge and the next start edge.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">icup</td><td>pointer to the <code><a class="el" href="struct_i_c_u_driver.html" title="Structure representing an ICU driver. ">ICUDriver</a></code> object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of ticks.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="icu__lld_8c_source.html#l00169">169</a> of file <a class="el" href="icu__lld_8c_source.html">icu_lld.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ga17ff8dc6d1e1b5a9d19a5290fea32fd1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_i_c_u_driver.html">ICUDriver</a> ICUD1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ICU1 driver identifier. </p>

<p>Definition at line <a class="el" href="icu__lld_8c_source.html#l00042">42</a> of file <a class="el" href="icu__lld_8c_source.html">icu_lld.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga5e1e0d68224284d1633388b5aa6f20dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define icuEnableI</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">icup</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group___i_c_u.html#ga6653f3c712e8b474da150d133ffd6f92">icu_lld_enable</a>(icup)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables the input capture. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">icup</td><td>pointer to the <code><a class="el" href="struct_i_c_u_driver.html" title="Structure representing an ICU driver. ">ICUDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>This is an <b>I-Class</b> API, this function can be invoked from within a system lock zone by both threads and interrupt handlers. </dd></dl>

<p>Definition at line <a class="el" href="icu_8h_source.html#l00098">98</a> of file <a class="el" href="icu_8h_source.html">icu.h</a>.</p>

</div>
</div>
<a class="anchor" id="gacab5b2300164d431ed14ae48ef07ad3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define icuDisableI</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">icup</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group___i_c_u.html#gaa6311a41e71bf9afa83c402064d48574">icu_lld_disable</a>(icup)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disables the input capture. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">icup</td><td>pointer to the <code><a class="el" href="struct_i_c_u_driver.html" title="Structure representing an ICU driver. ">ICUDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>This is an <b>I-Class</b> API, this function can be invoked from within a system lock zone by both threads and interrupt handlers. </dd></dl>

<p>Definition at line <a class="el" href="icu_8h_source.html#l00107">107</a> of file <a class="el" href="icu_8h_source.html">icu.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga3fd7d162d0fd278aa40898fe07163926"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define icuGetWidth</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">icup</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group___i_c_u.html#ga9b13b0f3086a6831eef9689f0f343be6">icu_lld_get_width</a>(icup)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the width of the latest pulse. </p>
<p>The pulse width is defined as number of ticks between the start edge and the stop edge. </p><dl class="section note"><dt>Note</dt><dd>This function is meant to be invoked from the width capture callback only.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">icup</td><td>pointer to the <code><a class="el" href="struct_i_c_u_driver.html" title="Structure representing an ICU driver. ">ICUDriver</a></code> object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of ticks.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Special function, this function has special requirements see the notes. </dd></dl>

<p>Definition at line <a class="el" href="icu_8h_source.html#l00121">121</a> of file <a class="el" href="icu_8h_source.html">icu.h</a>.</p>

</div>
</div>
<a class="anchor" id="gac6adf27372532cc9a1c717856e7cbc13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define icuGetPeriod</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">icup</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group___i_c_u.html#gaeba9d2069a050f2b70e23a3c51ae700f">icu_lld_get_period</a>(icup)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the width of the latest cycle. </p>
<p>The cycle width is defined as number of ticks between a start edge and the next start edge. </p><dl class="section note"><dt>Note</dt><dd>This function is meant to be invoked from the width capture callback only.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">icup</td><td>pointer to the <code><a class="el" href="struct_i_c_u_driver.html" title="Structure representing an ICU driver. ">ICUDriver</a></code> object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of ticks.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Special function, this function has special requirements see the notes. </dd></dl>

<p>Definition at line <a class="el" href="icu_8h_source.html#l00135">135</a> of file <a class="el" href="icu_8h_source.html">icu.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga5605cd51e7cdcb64d0a4707c4dde6a31"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _icu_isr_invoke_width_cb</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">icup</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                    \</div>
<div class="line">  if ((icup)-&gt;state != <a class="code" href="group___i_c_u.html#gga51dbd510749f0494eaad4075c1a90e83a8e0e023e70ba3b4d1f81da38fad4430e">ICU_WAITING</a>) {                                       \</div>
<div class="line">    (icup)-&gt;state = <a class="code" href="group___i_c_u.html#gga51dbd510749f0494eaad4075c1a90e83ad02b1dd54aaa23e099ba0790deafe023">ICU_IDLE</a>;                                               \</div>
<div class="line">    (icup)-&gt;config-&gt;width_cb(icup);                                         \</div>
<div class="line">  }                                                                         \</div>
<div class="line">}</div>
<div class="ttc" id="group___i_c_u_html_gga51dbd510749f0494eaad4075c1a90e83a8e0e023e70ba3b4d1f81da38fad4430e"><div class="ttname"><a href="group___i_c_u.html#gga51dbd510749f0494eaad4075c1a90e83a8e0e023e70ba3b4d1f81da38fad4430e">ICU_WAITING</a></div><div class="ttdef"><b>Definition:</b> <a href="icu_8h_source.html#l00064">icu.h:64</a></div></div>
<div class="ttc" id="group___i_c_u_html_gga51dbd510749f0494eaad4075c1a90e83ad02b1dd54aaa23e099ba0790deafe023"><div class="ttname"><a href="group___i_c_u.html#gga51dbd510749f0494eaad4075c1a90e83ad02b1dd54aaa23e099ba0790deafe023">ICU_IDLE</a></div><div class="ttdef"><b>Definition:</b> <a href="icu_8h_source.html#l00066">icu.h:66</a></div></div>
</div><!-- fragment -->
<p>Common ISR code, ICU width event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">icup</td><td>pointer to the <code><a class="el" href="struct_i_c_u_driver.html" title="Structure representing an ICU driver. ">ICUDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="icu_8h_source.html#l00149">149</a> of file <a class="el" href="icu_8h_source.html">icu.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga456fc1d9354370d165356c1fb873aa66"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _icu_isr_invoke_period_cb</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">icup</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                   <a class="code" href="group___i_c_u.html#ga51dbd510749f0494eaad4075c1a90e83">\</a></div>
<div class="line"><a class="code" href="group___i_c_u.html#ga51dbd510749f0494eaad4075c1a90e83">  icustate_t</a> previous_state = (icup)-&gt;state;                                \</div>
<div class="line">  (icup)-&gt;state = <a class="code" href="group___i_c_u.html#gga51dbd510749f0494eaad4075c1a90e83a937f683aadda671213ca92bd07579814">ICU_ACTIVE</a>;                                               \</div>
<div class="line">  if (previous_state != <a class="code" href="group___i_c_u.html#gga51dbd510749f0494eaad4075c1a90e83a8e0e023e70ba3b4d1f81da38fad4430e">ICU_WAITING</a>)                                        \</div>
<div class="line">    (icup)-&gt;config-&gt;period_cb(icup);                                        \</div>
<div class="line">}</div>
<div class="ttc" id="group___i_c_u_html_ga51dbd510749f0494eaad4075c1a90e83"><div class="ttname"><a href="group___i_c_u.html#ga51dbd510749f0494eaad4075c1a90e83">icustate_t</a></div><div class="ttdeci">icustate_t</div><div class="ttdoc">Driver state machine possible states. </div><div class="ttdef"><b>Definition:</b> <a href="icu_8h_source.html#l00060">icu.h:60</a></div></div>
<div class="ttc" id="group___i_c_u_html_gga51dbd510749f0494eaad4075c1a90e83a8e0e023e70ba3b4d1f81da38fad4430e"><div class="ttname"><a href="group___i_c_u.html#gga51dbd510749f0494eaad4075c1a90e83a8e0e023e70ba3b4d1f81da38fad4430e">ICU_WAITING</a></div><div class="ttdef"><b>Definition:</b> <a href="icu_8h_source.html#l00064">icu.h:64</a></div></div>
<div class="ttc" id="group___i_c_u_html_gga51dbd510749f0494eaad4075c1a90e83a937f683aadda671213ca92bd07579814"><div class="ttname"><a href="group___i_c_u.html#gga51dbd510749f0494eaad4075c1a90e83a937f683aadda671213ca92bd07579814">ICU_ACTIVE</a></div><div class="ttdef"><b>Definition:</b> <a href="icu_8h_source.html#l00065">icu.h:65</a></div></div>
</div><!-- fragment -->
<p>Common ISR code, ICU period event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">icup</td><td>pointer to the <code><a class="el" href="struct_i_c_u_driver.html" title="Structure representing an ICU driver. ">ICUDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="icu_8h_source.html#l00163">163</a> of file <a class="el" href="icu_8h_source.html">icu.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga3354405f14fea2c590638f528f30f264"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _icu_isr_invoke_overflow_cb</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">icup</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                 \</div>
<div class="line">  (icup)-&gt;config-&gt;overflow_cb(icup);                                        \</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>Common ISR code, ICU timer overflow event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">icup</td><td>pointer to the <code><a class="el" href="struct_i_c_u_driver.html" title="Structure representing an ICU driver. ">ICUDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="icu_8h_source.html#l00177">177</a> of file <a class="el" href="icu_8h_source.html">icu.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga9836ba1ea01f32c323bd651beafbdb38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PLATFORM_ICU_USE_ICU1&#160;&#160;&#160;<a class="el" href="group__kernel__info.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ICU driver enable switch. </p>
<p>If set to <code>TRUE</code> the support for ICU1 is included. </p>

<p>Definition at line <a class="el" href="icu__lld_8h_source.html#l00051">51</a> of file <a class="el" href="icu__lld_8h_source.html">icu_lld.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga7a9caa625ee7d27804a22bb8e02af0d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_i_c_u_driver.html">ICUDriver</a> <a class="el" href="struct_i_c_u_driver.html">ICUDriver</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of a structure representing an ICU driver. </p>

<p>Definition at line <a class="el" href="icu_8h_source.html#l00072">72</a> of file <a class="el" href="icu_8h_source.html">icu.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga691b1942ab220aeab6c0ba75a9eaa5f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* icucallback_t) (<a class="el" href="struct_i_c_u_driver.html">ICUDriver</a> *icup)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ICU notification callback type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">icup</td><td>pointer to a <code><a class="el" href="struct_i_c_u_driver.html" title="Structure representing an ICU driver. ">ICUDriver</a></code> object </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="icu_8h_source.html#l00079">79</a> of file <a class="el" href="icu_8h_source.html">icu.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga53464caf9152b0d035a67509014ed790"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t <a class="el" href="group___i_c_u.html#ga53464caf9152b0d035a67509014ed790">icufreq_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ICU frequency type. </p>

<p>Definition at line <a class="el" href="icu__lld_8h_source.html#l00074">74</a> of file <a class="el" href="icu__lld_8h_source.html">icu_lld.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga0e5f4175409385802f13049c28614ab0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint16_t <a class="el" href="group___i_c_u.html#ga0e5f4175409385802f13049c28614ab0">icucnt_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ICU counter type. </p>

<p>Definition at line <a class="el" href="icu__lld_8h_source.html#l00079">79</a> of file <a class="el" href="icu__lld_8h_source.html">icu_lld.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga51dbd510749f0494eaad4075c1a90e83"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___i_c_u.html#ga51dbd510749f0494eaad4075c1a90e83">icustate_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Driver state machine possible states. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga51dbd510749f0494eaad4075c1a90e83a42a8d39944655094ca151d02f576351c"></a>ICU_UNINIT&#160;</td><td class="fielddoc">
<p>Not initialized. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga51dbd510749f0494eaad4075c1a90e83ac85d6716aece0dc1500478e06222a785"></a>ICU_STOP&#160;</td><td class="fielddoc">
<p>Stopped. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga51dbd510749f0494eaad4075c1a90e83a6b81b340b4a46c219d31ddba847d6923"></a>ICU_READY&#160;</td><td class="fielddoc">
<p>Ready. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga51dbd510749f0494eaad4075c1a90e83a8e0e023e70ba3b4d1f81da38fad4430e"></a>ICU_WAITING&#160;</td><td class="fielddoc">
<p>Waiting first edge. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga51dbd510749f0494eaad4075c1a90e83a937f683aadda671213ca92bd07579814"></a>ICU_ACTIVE&#160;</td><td class="fielddoc">
<p>Active cycle phase. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga51dbd510749f0494eaad4075c1a90e83ad02b1dd54aaa23e099ba0790deafe023"></a>ICU_IDLE&#160;</td><td class="fielddoc">
<p>Idle cycle phase. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="icu_8h_source.html#l00060">60</a> of file <a class="el" href="icu_8h_source.html">icu.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga4dc03eafe2e378dcfddebfeab3473930"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___i_c_u.html#ga4dc03eafe2e378dcfddebfeab3473930">icumode_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ICU driver mode. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga4dc03eafe2e378dcfddebfeab3473930af77062b406038f9ee696e7ae89e48eb1"></a>ICU_INPUT_ACTIVE_HIGH&#160;</td><td class="fielddoc">
<p>Trigger on rising edge. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4dc03eafe2e378dcfddebfeab3473930aa58916567f47bef9b55c3f820751a283"></a>ICU_INPUT_ACTIVE_LOW&#160;</td><td class="fielddoc">
<p>Trigger on falling edge. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="icu__lld_8h_source.html#l00066">66</a> of file <a class="el" href="icu__lld_8h_source.html">icu_lld.h</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
    <li class="footer">
      <a href="http://sourceforge.net/projects/chibios">
        <img src="http://sflogo.sourceforge.net/sflogo.php?group_id=205897&amp;type=11"
             border="0" width="120" height="30"
             alt="Get ChibiOS/RT embedded RTOS at SourceForge.net. Fast,
                  secure and Free Open Source software downloads"/>
      </a>
    </li>
  </ul>
</div>
<!-- Piwik -->
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? "https://apps.sourceforge.net/piwik/chibios/" : "http://apps.sourceforge.net/piwik/chibios/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
piwik_action_name = '';
piwik_idsite = 1;
piwik_url = pkBaseURL + "piwik.php";
piwik_log(piwik_action_name, piwik_idsite, piwik_url);
</script>
<object><noscript><p><img src="http://apps.sourceforge.net/piwik/chibios/piwik.php?idsite=1" alt="piwik"/></p></noscript></object>
<!-- End Piwik Tag -->
</body>
</html>
