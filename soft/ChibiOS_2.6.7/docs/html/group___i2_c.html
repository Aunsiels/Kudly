<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>I2C Driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 92px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ChibiOS/RT<br><span id="projectnumber">2.6.7</span></div>
  </td>
  <td style="padding-left: 3em;">
<script type="text/javascript"><!--
google_ad_client = "pub-3840594581853944";
/* Documentation, bottom, 728x90, created 9/19/10 */
google_ad_slot = "1902290615";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___i2_c.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">I2C Driver<div class="ingroups"><a class="el" href="group___i_o.html">HAL</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for I2C Driver:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group___i2_c.png" border="0" alt="" usemap="#group______i2__c"/>
<map name="group______i2__c" id="group______i2__c">
<area shape="rect" id="node1" href="group___i_o.html" title="Hardware Abstraction Layer. " alt="" coords="5,5,48,29"/></map>
</td></tr></table></center>
</div>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Generic I2C Driver. </p>
<p>This module implements a generic I2C (Inter-Integrated Circuit) driver. </p><dl class="section pre"><dt>Precondition</dt><dd>In order to use the I2C driver the <code>HAL_USE_I2C</code> option must be enabled in <code><a class="el" href="halconf_8h.html" title="HAL configuration header. ">halconf.h</a></code>.</dd></dl>
<h1><a class="anchor" id="i2c_1"></a>
Driver State Machine</h1>
<p>The driver implements a state machine internally, not all the driver functionalities can be used in any moment, any transition not explicitly shown in the following diagram has to be considered an error and shall be captured by an assertion (if enabled). </p><div align="center">
<img src="dot_inline_dotgraph_10.png" alt="dot_inline_dotgraph_10.png" border="0" usemap="#dot_inline_dotgraph_10.map"/>
<map name="dot_inline_dotgraph_10.map" id="dot_inline_dotgraph_10.map"></map>
</div>
<p> The driver is not thread safe for performance reasons, if you need to access the I2C bus from multiple threads then use the <code><a class="el" href="group___i2_c.html#gace46540c237d310d9ea09f1adfcdb6d5" title="Gains exclusive access to the I2C bus. ">i2cAcquireBus()</a></code> and <code><a class="el" href="group___i2_c.html#gaa160950f37e5ebca45c3ed58d22b4ece" title="Releases exclusive access to the I2C bus. ">i2cReleaseBus()</a></code> APIs in order to gain exclusive access. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_i2_c_config.html">I2CConfig</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver configuration structure.  <a href="struct_i2_c_config.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_i2_c_driver.html">I2CDriver</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure representing an I2C driver.  <a href="struct_i2_c_driver.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga1e0a81a1ad1fd7710ca189236e3e5476"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga1e0a81a1ad1fd7710ca189236e3e5476">i2cInit</a> (void)</td></tr>
<tr class="memdesc:ga1e0a81a1ad1fd7710ca189236e3e5476"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2C Driver initialization.  <a href="#ga1e0a81a1ad1fd7710ca189236e3e5476">More...</a><br /></td></tr>
<tr class="separator:ga1e0a81a1ad1fd7710ca189236e3e5476"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2dd7be686d8e136b1deebfeb20e868f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga2dd7be686d8e136b1deebfeb20e868f9">i2cObjectInit</a> (<a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *i2cp)</td></tr>
<tr class="memdesc:ga2dd7be686d8e136b1deebfeb20e868f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the standard part of a <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> structure.  <a href="#ga2dd7be686d8e136b1deebfeb20e868f9">More...</a><br /></td></tr>
<tr class="separator:ga2dd7be686d8e136b1deebfeb20e868f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadcd08e752dbbeccdfc8abfa8a718c09e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gadcd08e752dbbeccdfc8abfa8a718c09e">i2cStart</a> (<a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *i2cp, const <a class="el" href="struct_i2_c_config.html">I2CConfig</a> *config)</td></tr>
<tr class="memdesc:gadcd08e752dbbeccdfc8abfa8a718c09e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures and activates the I2C peripheral.  <a href="#gadcd08e752dbbeccdfc8abfa8a718c09e">More...</a><br /></td></tr>
<tr class="separator:gadcd08e752dbbeccdfc8abfa8a718c09e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa9a5db1cb98898c848705f99b8fedb48"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gaa9a5db1cb98898c848705f99b8fedb48">i2cStop</a> (<a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *i2cp)</td></tr>
<tr class="memdesc:gaa9a5db1cb98898c848705f99b8fedb48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deactivates the I2C peripheral.  <a href="#gaa9a5db1cb98898c848705f99b8fedb48">More...</a><br /></td></tr>
<tr class="separator:gaa9a5db1cb98898c848705f99b8fedb48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga74564623966bab022e6905e81126c5e4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___i2_c.html#ga46bb118b8b3da043c3795802cf0ae361">i2cflags_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga74564623966bab022e6905e81126c5e4">i2cGetErrors</a> (<a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *i2cp)</td></tr>
<tr class="memdesc:ga74564623966bab022e6905e81126c5e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the errors mask associated to the previous operation.  <a href="#ga74564623966bab022e6905e81126c5e4">More...</a><br /></td></tr>
<tr class="separator:ga74564623966bab022e6905e81126c5e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga57039ea5e6f70691b667a14248618967"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga57039ea5e6f70691b667a14248618967">i2cMasterTransmitTimeout</a> (<a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *i2cp, <a class="el" href="group___i2_c.html#gaa983f993d7e2605d0457413712a1b4e9">i2caddr_t</a> addr, const uint8_t *txbuf, size_t txbytes, uint8_t *rxbuf, size_t rxbytes, <a class="el" href="group__types.html#gae3e32a98d431a02106616da3071832dd">systime_t</a> timeout)</td></tr>
<tr class="memdesc:ga57039ea5e6f70691b667a14248618967"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends data via the I2C bus.  <a href="#ga57039ea5e6f70691b667a14248618967">More...</a><br /></td></tr>
<tr class="separator:ga57039ea5e6f70691b667a14248618967"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaae9d6a3ad4a861c4f467c6c9c295f01c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gaae9d6a3ad4a861c4f467c6c9c295f01c">i2cMasterReceiveTimeout</a> (<a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *i2cp, <a class="el" href="group___i2_c.html#gaa983f993d7e2605d0457413712a1b4e9">i2caddr_t</a> addr, uint8_t *rxbuf, size_t rxbytes, <a class="el" href="group__types.html#gae3e32a98d431a02106616da3071832dd">systime_t</a> timeout)</td></tr>
<tr class="memdesc:gaae9d6a3ad4a861c4f467c6c9c295f01c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receives data from the I2C bus.  <a href="#gaae9d6a3ad4a861c4f467c6c9c295f01c">More...</a><br /></td></tr>
<tr class="separator:gaae9d6a3ad4a861c4f467c6c9c295f01c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gace46540c237d310d9ea09f1adfcdb6d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gace46540c237d310d9ea09f1adfcdb6d5">i2cAcquireBus</a> (<a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *i2cp)</td></tr>
<tr class="memdesc:gace46540c237d310d9ea09f1adfcdb6d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gains exclusive access to the I2C bus.  <a href="#gace46540c237d310d9ea09f1adfcdb6d5">More...</a><br /></td></tr>
<tr class="separator:gace46540c237d310d9ea09f1adfcdb6d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa160950f37e5ebca45c3ed58d22b4ece"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gaa160950f37e5ebca45c3ed58d22b4ece">i2cReleaseBus</a> (<a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *i2cp)</td></tr>
<tr class="memdesc:gaa160950f37e5ebca45c3ed58d22b4ece"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases exclusive access to the I2C bus.  <a href="#gaa160950f37e5ebca45c3ed58d22b4ece">More...</a><br /></td></tr>
<tr class="separator:gaa160950f37e5ebca45c3ed58d22b4ece"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaae1796056a2fa05caa11a243183b19c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gaae1796056a2fa05caa11a243183b19c2">i2c_lld_init</a> (void)</td></tr>
<tr class="memdesc:gaae1796056a2fa05caa11a243183b19c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Low level I2C driver initialization.  <a href="#gaae1796056a2fa05caa11a243183b19c2">More...</a><br /></td></tr>
<tr class="separator:gaae1796056a2fa05caa11a243183b19c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8fd0ebb0927e07541283b693749a6e01"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga8fd0ebb0927e07541283b693749a6e01">i2c_lld_start</a> (<a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *i2cp)</td></tr>
<tr class="memdesc:ga8fd0ebb0927e07541283b693749a6e01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures and activates the I2C peripheral.  <a href="#ga8fd0ebb0927e07541283b693749a6e01">More...</a><br /></td></tr>
<tr class="separator:ga8fd0ebb0927e07541283b693749a6e01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f4077630d5bfcc44699b2a9c6622bda"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga1f4077630d5bfcc44699b2a9c6622bda">i2c_lld_stop</a> (<a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *i2cp)</td></tr>
<tr class="memdesc:ga1f4077630d5bfcc44699b2a9c6622bda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deactivates the I2C peripheral.  <a href="#ga1f4077630d5bfcc44699b2a9c6622bda">More...</a><br /></td></tr>
<tr class="separator:ga1f4077630d5bfcc44699b2a9c6622bda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5c2a91aabcd3a3ce56ce6b48e9091dc2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga5c2a91aabcd3a3ce56ce6b48e9091dc2">i2c_lld_master_receive_timeout</a> (<a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *i2cp, <a class="el" href="group___i2_c.html#gaa983f993d7e2605d0457413712a1b4e9">i2caddr_t</a> addr, uint8_t *rxbuf, size_t rxbytes, <a class="el" href="group__types.html#gae3e32a98d431a02106616da3071832dd">systime_t</a> timeout)</td></tr>
<tr class="memdesc:ga5c2a91aabcd3a3ce56ce6b48e9091dc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receives data via the I2C bus as master.  <a href="#ga5c2a91aabcd3a3ce56ce6b48e9091dc2">More...</a><br /></td></tr>
<tr class="separator:ga5c2a91aabcd3a3ce56ce6b48e9091dc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga901daa9967d501fce0923d33b6cffa12"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga901daa9967d501fce0923d33b6cffa12">i2c_lld_master_transmit_timeout</a> (<a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *i2cp, <a class="el" href="group___i2_c.html#gaa983f993d7e2605d0457413712a1b4e9">i2caddr_t</a> addr, const uint8_t *txbuf, size_t txbytes, uint8_t *rxbuf, size_t rxbytes, <a class="el" href="group__types.html#gae3e32a98d431a02106616da3071832dd">systime_t</a> timeout)</td></tr>
<tr class="memdesc:ga901daa9967d501fce0923d33b6cffa12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmits data via the I2C bus as master.  <a href="#ga901daa9967d501fce0923d33b6cffa12">More...</a><br /></td></tr>
<tr class="separator:ga901daa9967d501fce0923d33b6cffa12"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga397503430a0120a5b69ae2535d39b310"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_i2_c_driver.html">I2CDriver</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga397503430a0120a5b69ae2535d39b310">I2CD1</a></td></tr>
<tr class="memdesc:ga397503430a0120a5b69ae2535d39b310"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2C1 driver identifier.  <a href="#ga397503430a0120a5b69ae2535d39b310">More...</a><br /></td></tr>
<tr class="separator:ga397503430a0120a5b69ae2535d39b310"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
I2C bus error conditions</h2></td></tr>
<tr class="memitem:ga653f9c593af20d15fdbf893e4c117d78"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga653f9c593af20d15fdbf893e4c117d78">I2CD_NO_ERROR</a>&#160;&#160;&#160;0x00</td></tr>
<tr class="memdesc:ga653f9c593af20d15fdbf893e4c117d78"><td class="mdescLeft">&#160;</td><td class="mdescRight">No error.  <a href="#ga653f9c593af20d15fdbf893e4c117d78">More...</a><br /></td></tr>
<tr class="separator:ga653f9c593af20d15fdbf893e4c117d78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaedf5f2ea079c965e972cf722363d3a55"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gaedf5f2ea079c965e972cf722363d3a55">I2CD_BUS_ERROR</a>&#160;&#160;&#160;0x01</td></tr>
<tr class="memdesc:gaedf5f2ea079c965e972cf722363d3a55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bus Error.  <a href="#gaedf5f2ea079c965e972cf722363d3a55">More...</a><br /></td></tr>
<tr class="separator:gaedf5f2ea079c965e972cf722363d3a55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga84e77de0d481ab4378a5bd828bab147e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga84e77de0d481ab4378a5bd828bab147e">I2CD_ARBITRATION_LOST</a>&#160;&#160;&#160;0x02</td></tr>
<tr class="memdesc:ga84e77de0d481ab4378a5bd828bab147e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Arbitration Lost.  <a href="#ga84e77de0d481ab4378a5bd828bab147e">More...</a><br /></td></tr>
<tr class="separator:ga84e77de0d481ab4378a5bd828bab147e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga12ec13b3d337ac03c6667b1b73a7d1c6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga12ec13b3d337ac03c6667b1b73a7d1c6">I2CD_ACK_FAILURE</a>&#160;&#160;&#160;0x04</td></tr>
<tr class="memdesc:ga12ec13b3d337ac03c6667b1b73a7d1c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acknowledge Failure.  <a href="#ga12ec13b3d337ac03c6667b1b73a7d1c6">More...</a><br /></td></tr>
<tr class="separator:ga12ec13b3d337ac03c6667b1b73a7d1c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaec55b458e46badc73826c01b3366bd1f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gaec55b458e46badc73826c01b3366bd1f">I2CD_OVERRUN</a>&#160;&#160;&#160;0x08</td></tr>
<tr class="memdesc:gaec55b458e46badc73826c01b3366bd1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overrun/Underrun.  <a href="#gaec55b458e46badc73826c01b3366bd1f">More...</a><br /></td></tr>
<tr class="separator:gaec55b458e46badc73826c01b3366bd1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafda40737566332a03f8ce33b383c3713"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gafda40737566332a03f8ce33b383c3713">I2CD_PEC_ERROR</a>&#160;&#160;&#160;0x10</td></tr>
<tr class="memdesc:gafda40737566332a03f8ce33b383c3713"><td class="mdescLeft">&#160;</td><td class="mdescRight">PEC Error in reception.  <a href="#gafda40737566332a03f8ce33b383c3713">More...</a><br /></td></tr>
<tr class="separator:gafda40737566332a03f8ce33b383c3713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga67c6f8f71ca2bf476b6fda24e05fb94b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga67c6f8f71ca2bf476b6fda24e05fb94b">I2CD_TIMEOUT</a>&#160;&#160;&#160;0x20</td></tr>
<tr class="memdesc:ga67c6f8f71ca2bf476b6fda24e05fb94b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hardware timeout.  <a href="#ga67c6f8f71ca2bf476b6fda24e05fb94b">More...</a><br /></td></tr>
<tr class="separator:ga67c6f8f71ca2bf476b6fda24e05fb94b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad44d28571a7f71f012a22bf94feee100"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gad44d28571a7f71f012a22bf94feee100">I2CD_SMB_ALERT</a>&#160;&#160;&#160;0x40</td></tr>
<tr class="memdesc:gad44d28571a7f71f012a22bf94feee100"><td class="mdescLeft">&#160;</td><td class="mdescRight">SMBus Alert.  <a href="#gad44d28571a7f71f012a22bf94feee100">More...</a><br /></td></tr>
<tr class="separator:gad44d28571a7f71f012a22bf94feee100"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Configuration options</h2></td></tr>
<tr class="memitem:ga6499e6cecfd702bac5f3422a9293cfd3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga6499e6cecfd702bac5f3422a9293cfd3">PLATFORM_I2C_USE_I2C1</a>&#160;&#160;&#160;<a class="el" href="group__kernel__info.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td></tr>
<tr class="memdesc:ga6499e6cecfd702bac5f3422a9293cfd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">I2C1 driver enable switch.  <a href="#ga6499e6cecfd702bac5f3422a9293cfd3">More...</a><br /></td></tr>
<tr class="separator:ga6499e6cecfd702bac5f3422a9293cfd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga7125642404a6fd3d4985d1cb6e1b7b0a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga7125642404a6fd3d4985d1cb6e1b7b0a">I2C_USE_MUTUAL_EXCLUSION</a>&#160;&#160;&#160;<a class="el" href="group__kernel__info.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></td></tr>
<tr class="memdesc:ga7125642404a6fd3d4985d1cb6e1b7b0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables the mutual exclusion APIs on the I2C bus.  <a href="#ga7125642404a6fd3d4985d1cb6e1b7b0a">More...</a><br /></td></tr>
<tr class="separator:ga7125642404a6fd3d4985d1cb6e1b7b0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b491569bd73afebccc523d933e1e133"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga2b491569bd73afebccc523d933e1e133">i2cMasterTransmit</a>(i2cp,  addr,  txbuf,  txbytes,  rxbuf,  rxbytes)</td></tr>
<tr class="memdesc:ga2b491569bd73afebccc523d933e1e133"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrap i2cMasterTransmitTimeout function with TIME_INFINITE timeout.  <a href="#ga2b491569bd73afebccc523d933e1e133">More...</a><br /></td></tr>
<tr class="separator:ga2b491569bd73afebccc523d933e1e133"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab90e08fd8049a3b19e1767c9c99cf8e2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gab90e08fd8049a3b19e1767c9c99cf8e2">i2cMasterReceive</a>(i2cp,  addr,  rxbuf,  rxbytes)&#160;&#160;&#160;(<a class="el" href="group___i2_c.html#gaae9d6a3ad4a861c4f467c6c9c295f01c">i2cMasterReceiveTimeout</a>(i2cp, addr, rxbuf, rxbytes, <a class="el" href="group__scheduler.html#gae1568cf3090c973c3bc47f86ae2f5afb">TIME_INFINITE</a>))</td></tr>
<tr class="memdesc:gab90e08fd8049a3b19e1767c9c99cf8e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrap i2cMasterReceiveTimeout function with TIME_INFINITE timeout.  <a href="#gab90e08fd8049a3b19e1767c9c99cf8e2">More...</a><br /></td></tr>
<tr class="separator:gab90e08fd8049a3b19e1767c9c99cf8e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga09cb7515a423098d7011bba890e74ffd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga09cb7515a423098d7011bba890e74ffd">i2c_lld_get_errors</a>(i2cp)&#160;&#160;&#160;((i2cp)-&gt;errors)</td></tr>
<tr class="memdesc:ga09cb7515a423098d7011bba890e74ffd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get errors from I2C driver.  <a href="#ga09cb7515a423098d7011bba890e74ffd">More...</a><br /></td></tr>
<tr class="separator:ga09cb7515a423098d7011bba890e74ffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaa983f993d7e2605d0457413712a1b4e9"><td class="memItemLeft" align="right" valign="top">typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gaa983f993d7e2605d0457413712a1b4e9">i2caddr_t</a></td></tr>
<tr class="memdesc:gaa983f993d7e2605d0457413712a1b4e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type representing I2C address.  <a href="#gaa983f993d7e2605d0457413712a1b4e9">More...</a><br /></td></tr>
<tr class="separator:gaa983f993d7e2605d0457413712a1b4e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga46bb118b8b3da043c3795802cf0ae361"><td class="memItemLeft" align="right" valign="top">typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga46bb118b8b3da043c3795802cf0ae361">i2cflags_t</a></td></tr>
<tr class="memdesc:ga46bb118b8b3da043c3795802cf0ae361"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of I2C Driver condition flags.  <a href="#ga46bb118b8b3da043c3795802cf0ae361">More...</a><br /></td></tr>
<tr class="separator:ga46bb118b8b3da043c3795802cf0ae361"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaea6c83126ae7e60a10ee0952dd97989a"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_i2_c_driver.html">I2CDriver</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gaea6c83126ae7e60a10ee0952dd97989a">I2CDriver</a></td></tr>
<tr class="memdesc:gaea6c83126ae7e60a10ee0952dd97989a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of a structure representing an I2C driver.  <a href="#gaea6c83126ae7e60a10ee0952dd97989a">More...</a><br /></td></tr>
<tr class="separator:gaea6c83126ae7e60a10ee0952dd97989a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gaa1dcc46f251555b674d3376605ca6649"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gaa1dcc46f251555b674d3376605ca6649">i2cstate_t</a> { <br />
&#160;&#160;<a class="el" href="group___i2_c.html#ggaa1dcc46f251555b674d3376605ca6649a6c1204af4172839f6bfdf53e6711240d">I2C_UNINIT</a> = 0, 
<a class="el" href="group___i2_c.html#ggaa1dcc46f251555b674d3376605ca6649a8eb2e08ae382c4d5bd7e5dee12938e85">I2C_STOP</a> = 1, 
<a class="el" href="group___i2_c.html#ggaa1dcc46f251555b674d3376605ca6649ab8ef8d8e35c5eb95b7836c556105b919">I2C_READY</a> = 2, 
<a class="el" href="group___i2_c.html#ggaa1dcc46f251555b674d3376605ca6649a568157ec8d2ebd8586b51035b4614bf9">I2C_ACTIVE_TX</a> = 3, 
<br />
&#160;&#160;<a class="el" href="group___i2_c.html#ggaa1dcc46f251555b674d3376605ca6649add3c2e1e6305871cd64b6ed50ea69f0e">I2C_ACTIVE_RX</a> = 4
<br />
 }</td></tr>
<tr class="memdesc:gaa1dcc46f251555b674d3376605ca6649"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver state machine possible states.  <a href="group___i2_c.html#gaa1dcc46f251555b674d3376605ca6649">More...</a><br /></td></tr>
<tr class="separator:gaa1dcc46f251555b674d3376605ca6649"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga1e0a81a1ad1fd7710ca189236e3e5476"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2cInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>I2C Driver initialization. </p>
<dl class="section note"><dt>Note</dt><dd>This function is implicitly invoked by <code><a class="el" href="group___h_a_l.html#gafd89c1650df524d95aef39b8bc38170d" title="HAL initialization. ">halInit()</a></code>, there is no need to explicitly initialize the driver.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Initializer, this function just initializes an object and can be invoked before the kernel is initialized. </dd></dl>

<p>Definition at line <a class="el" href="i2c_8c_source.html#l00071">71</a> of file <a class="el" href="i2c_8c_source.html">i2c.c</a>.</p>

<p>References <a class="el" href="group___i2_c.html#gaae1796056a2fa05caa11a243183b19c2">i2c_lld_init()</a>.</p>

<p>Referenced by <a class="el" href="group___h_a_l.html#gafd89c1650df524d95aef39b8bc38170d">halInit()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___i2_c_ga1e0a81a1ad1fd7710ca189236e3e5476_cgraph.png" border="0" usemap="#group___i2_c_ga1e0a81a1ad1fd7710ca189236e3e5476_cgraph" alt=""/></div>
<map name="group___i2_c_ga1e0a81a1ad1fd7710ca189236e3e5476_cgraph" id="group___i2_c_ga1e0a81a1ad1fd7710ca189236e3e5476_cgraph">
<area shape="rect" id="node2" href="group___i2_c.html#gaae1796056a2fa05caa11a243183b19c2" title="Low level I2C driver initialization. " alt="" coords="108,29,188,53"/><area shape="rect" id="node3" href="group___i2_c.html#ga2dd7be686d8e136b1deebfeb20e868f9" title="Initializes the standard part of a I2CDriver structure. " alt="" coords="236,29,327,53"/><area shape="rect" id="node4" href="group__mutexes.html#gac55fe4d05aa6bbeb31594193d2e4d2b6" title="Initializes s Mutex structure. " alt="" coords="379,5,449,29"/><area shape="rect" id="node5" href="group__semaphores.html#gafe8fc6155a871074e8017efd908b2c58" title="Initializes a semaphore with the specified counter value. " alt="" coords="375,53,453,77"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga2dd7be686d8e136b1deebfeb20e868f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2cObjectInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *&#160;</td>
          <td class="paramname"><em>i2cp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the standard part of a <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">i2cp</td><td>pointer to the <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Initializer, this function just initializes an object and can be invoked before the kernel is initialized. </dd></dl>

<p>Definition at line <a class="el" href="i2c_8c_source.html#l00082">82</a> of file <a class="el" href="i2c_8c_source.html">i2c.c</a>.</p>

<p>References <a class="el" href="group__mutexes.html#gac55fe4d05aa6bbeb31594193d2e4d2b6">chMtxInit()</a>, <a class="el" href="group__semaphores.html#gafe8fc6155a871074e8017efd908b2c58">chSemInit()</a>, <a class="el" href="struct_i2_c_driver.html#a1cf6263dc3ca7e5eba7102f0f95d32b4">I2CDriver::config</a>, <a class="el" href="group___i2_c.html#ggaa1dcc46f251555b674d3376605ca6649a8eb2e08ae382c4d5bd7e5dee12938e85">I2C_STOP</a>, <a class="el" href="struct_i2_c_driver.html#ab4799e526946ba39ad4bb410ff1653fe">I2CDriver::mutex</a>, and <a class="el" href="struct_i2_c_driver.html#a54c89b56d1f26503fca5c004bb559734">I2CDriver::state</a>.</p>

<p>Referenced by <a class="el" href="group___i2_c.html#gaae1796056a2fa05caa11a243183b19c2">i2c_lld_init()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___i2_c_ga2dd7be686d8e136b1deebfeb20e868f9_cgraph.png" border="0" usemap="#group___i2_c_ga2dd7be686d8e136b1deebfeb20e868f9_cgraph" alt=""/></div>
<map name="group___i2_c_ga2dd7be686d8e136b1deebfeb20e868f9_cgraph" id="group___i2_c_ga2dd7be686d8e136b1deebfeb20e868f9_cgraph">
<area shape="rect" id="node2" href="group__mutexes.html#gac55fe4d05aa6bbeb31594193d2e4d2b6" title="Initializes s Mutex structure. " alt="" coords="148,5,219,29"/><area shape="rect" id="node3" href="group__semaphores.html#gafe8fc6155a871074e8017efd908b2c58" title="Initializes a semaphore with the specified counter value. " alt="" coords="144,53,223,77"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gadcd08e752dbbeccdfc8abfa8a718c09e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2cStart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *&#160;</td>
          <td class="paramname"><em>i2cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_i2_c_config.html">I2CConfig</a> *&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures and activates the I2C peripheral. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2cp</td><td>pointer to the <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>pointer to the <code><a class="el" href="struct_i2_c_config.html" title="Driver configuration structure. ">I2CConfig</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="i2c_8c_source.html#l00108">108</a> of file <a class="el" href="i2c_8c_source.html">i2c.c</a>.</p>

<p>References <a class="el" href="group__debug.html#ga43d50c69eb730d0f024eb832d61f30c9">chDbgAssert</a>, <a class="el" href="group__debug.html#ga6bb6c0f97caab3a66332c8bfbf7a3844">chDbgCheck</a>, <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>, <a class="el" href="struct_i2_c_driver.html#a1cf6263dc3ca7e5eba7102f0f95d32b4">I2CDriver::config</a>, <a class="el" href="group___i2_c.html#ga8fd0ebb0927e07541283b693749a6e01">i2c_lld_start()</a>, <a class="el" href="group___i2_c.html#ggaa1dcc46f251555b674d3376605ca6649ab8ef8d8e35c5eb95b7836c556105b919">I2C_READY</a>, <a class="el" href="group___i2_c.html#ggaa1dcc46f251555b674d3376605ca6649a8eb2e08ae382c4d5bd7e5dee12938e85">I2C_STOP</a>, and <a class="el" href="struct_i2_c_driver.html#a54c89b56d1f26503fca5c004bb559734">I2CDriver::state</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___i2_c_gadcd08e752dbbeccdfc8abfa8a718c09e_cgraph.png" border="0" usemap="#group___i2_c_gadcd08e752dbbeccdfc8abfa8a718c09e_cgraph" alt=""/></div>
<map name="group___i2_c_gadcd08e752dbbeccdfc8abfa8a718c09e_cgraph" id="group___i2_c_gadcd08e752dbbeccdfc8abfa8a718c09e_cgraph">
<area shape="rect" id="node2" href="group___i2_c.html#ga8fd0ebb0927e07541283b693749a6e01" title="Configures and activates the I2C peripheral. " alt="" coords="120,5,211,29"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaa9a5db1cb98898c848705f99b8fedb48"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2cStop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *&#160;</td>
          <td class="paramname"><em>i2cp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deactivates the I2C peripheral. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2cp</td><td>pointer to the <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="i2c_8c_source.html#l00130">130</a> of file <a class="el" href="i2c_8c_source.html">i2c.c</a>.</p>

<p>References <a class="el" href="group__debug.html#ga43d50c69eb730d0f024eb832d61f30c9">chDbgAssert</a>, <a class="el" href="group__debug.html#ga6bb6c0f97caab3a66332c8bfbf7a3844">chDbgCheck</a>, <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>, <a class="el" href="group___i2_c.html#ga1f4077630d5bfcc44699b2a9c6622bda">i2c_lld_stop()</a>, <a class="el" href="group___i2_c.html#ggaa1dcc46f251555b674d3376605ca6649ab8ef8d8e35c5eb95b7836c556105b919">I2C_READY</a>, <a class="el" href="group___i2_c.html#ggaa1dcc46f251555b674d3376605ca6649a8eb2e08ae382c4d5bd7e5dee12938e85">I2C_STOP</a>, and <a class="el" href="struct_i2_c_driver.html#a54c89b56d1f26503fca5c004bb559734">I2CDriver::state</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___i2_c_gaa9a5db1cb98898c848705f99b8fedb48_cgraph.png" border="0" usemap="#group___i2_c_gaa9a5db1cb98898c848705f99b8fedb48_cgraph" alt=""/></div>
<map name="group___i2_c_gaa9a5db1cb98898c848705f99b8fedb48_cgraph" id="group___i2_c_gaa9a5db1cb98898c848705f99b8fedb48_cgraph">
<area shape="rect" id="node2" href="group___i2_c.html#ga1f4077630d5bfcc44699b2a9c6622bda" title="Deactivates the I2C peripheral. " alt="" coords="117,5,205,29"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga74564623966bab022e6905e81126c5e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___i2_c.html#ga46bb118b8b3da043c3795802cf0ae361">i2cflags_t</a> i2cGetErrors </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *&#160;</td>
          <td class="paramname"><em>i2cp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the errors mask associated to the previous operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2cp</td><td>pointer to the <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> object </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The errors mask.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="i2c_8c_source.html#l00152">152</a> of file <a class="el" href="i2c_8c_source.html">i2c.c</a>.</p>

<p>References <a class="el" href="group__debug.html#ga6bb6c0f97caab3a66332c8bfbf7a3844">chDbgCheck</a>, and <a class="el" href="group___i2_c.html#ga09cb7515a423098d7011bba890e74ffd">i2c_lld_get_errors</a>.</p>

</div>
</div>
<a class="anchor" id="ga57039ea5e6f70691b667a14248618967"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a> i2cMasterTransmitTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *&#160;</td>
          <td class="paramname"><em>i2cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___i2_c.html#gaa983f993d7e2605d0457413712a1b4e9">i2caddr_t</a>&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>txbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>txbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>rxbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>rxbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#gae3e32a98d431a02106616da3071832dd">systime_t</a>&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends data via the I2C bus. </p>
<p>Function designed to realize "read-through-write" transfer paradigm. If you want transmit data without any further read, than set <b>rxbytes</b> field to 0.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2cp</td><td>pointer to the <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>slave device address (7 bits) without R/W bit </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">txbuf</td><td>pointer to transmit buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">txbytes</td><td>number of bytes to be transmitted </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rxbuf</td><td>pointer to receive buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rxbytes</td><td>number of bytes to be received, set it to 0 if you want transmit only </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>the number of ticks before the operation timeouts, the following special values are allowed:<ul>
<li><em>TIME_INFINITE</em> no timeout.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RDY_OK</td><td>if the function succeeded. </td></tr>
    <tr><td class="paramname">RDY_RESET</td><td>if one or more I2C errors occurred, the errors can be retrieved using <code><a class="el" href="group___i2_c.html#ga74564623966bab022e6905e81126c5e4" title="Returns the errors mask associated to the previous operation. ">i2cGetErrors()</a></code>. </td></tr>
    <tr><td class="paramname">RDY_TIMEOUT</td><td>if a timeout occurred before operation end.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="i2c_8c_source.html#l00185">185</a> of file <a class="el" href="i2c_8c_source.html">i2c.c</a>.</p>

<p>References <a class="el" href="group__debug.html#ga43d50c69eb730d0f024eb832d61f30c9">chDbgAssert</a>, <a class="el" href="group__debug.html#ga6bb6c0f97caab3a66332c8bfbf7a3844">chDbgCheck</a>, <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>, <a class="el" href="struct_i2_c_driver.html#a4226d866b06ef8f0c4fa2d72c20aaaf5">I2CDriver::errors</a>, <a class="el" href="group___i2_c.html#ggaa1dcc46f251555b674d3376605ca6649a568157ec8d2ebd8586b51035b4614bf9">I2C_ACTIVE_TX</a>, <a class="el" href="group___i2_c.html#ga901daa9967d501fce0923d33b6cffa12">i2c_lld_master_transmit_timeout()</a>, <a class="el" href="group___i2_c.html#ggaa1dcc46f251555b674d3376605ca6649ab8ef8d8e35c5eb95b7836c556105b919">I2C_READY</a>, <a class="el" href="group___i2_c.html#ga653f9c593af20d15fdbf893e4c117d78">I2CD_NO_ERROR</a>, <a class="el" href="group__scheduler.html#gaf28d5427eeeb8f737cc7db495157780c">RDY_TIMEOUT</a>, <a class="el" href="struct_i2_c_driver.html#a54c89b56d1f26503fca5c004bb559734">I2CDriver::state</a>, and <a class="el" href="group__scheduler.html#gad1ac15e9e5fc17810a94a779257f3d29">TIME_IMMEDIATE</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___i2_c_ga57039ea5e6f70691b667a14248618967_cgraph.png" border="0" usemap="#group___i2_c_ga57039ea5e6f70691b667a14248618967_cgraph" alt=""/></div>
<map name="group___i2_c_ga57039ea5e6f70691b667a14248618967_cgraph" id="group___i2_c_ga57039ea5e6f70691b667a14248618967_cgraph">
<area shape="rect" id="node2" href="group___i2_c.html#ga901daa9967d501fce0923d33b6cffa12" title="Transmits data via the I2C bus as master. " alt="" coords="225,5,384,41"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaae9d6a3ad4a861c4f467c6c9c295f01c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a> i2cMasterReceiveTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *&#160;</td>
          <td class="paramname"><em>i2cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___i2_c.html#gaa983f993d7e2605d0457413712a1b4e9">i2caddr_t</a>&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>rxbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>rxbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#gae3e32a98d431a02106616da3071832dd">systime_t</a>&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receives data from the I2C bus. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2cp</td><td>pointer to the <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>slave device address (7 bits) without R/W bit </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rxbuf</td><td>pointer to receive buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rxbytes</td><td>number of bytes to be received </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>the number of ticks before the operation timeouts, the following special values are allowed:<ul>
<li><em>TIME_INFINITE</em> no timeout.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RDY_OK</td><td>if the function succeeded. </td></tr>
    <tr><td class="paramname">RDY_RESET</td><td>if one or more I2C errors occurred, the errors can be retrieved using <code><a class="el" href="group___i2_c.html#ga74564623966bab022e6905e81126c5e4" title="Returns the errors mask associated to the previous operation. ">i2cGetErrors()</a></code>. </td></tr>
    <tr><td class="paramname">RDY_TIMEOUT</td><td>if a timeout occurred before operation end.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="i2c_8c_source.html#l00236">236</a> of file <a class="el" href="i2c_8c_source.html">i2c.c</a>.</p>

<p>References <a class="el" href="group__debug.html#ga43d50c69eb730d0f024eb832d61f30c9">chDbgAssert</a>, <a class="el" href="group__debug.html#ga6bb6c0f97caab3a66332c8bfbf7a3844">chDbgCheck</a>, <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>, <a class="el" href="struct_i2_c_driver.html#a4226d866b06ef8f0c4fa2d72c20aaaf5">I2CDriver::errors</a>, <a class="el" href="group___i2_c.html#ggaa1dcc46f251555b674d3376605ca6649add3c2e1e6305871cd64b6ed50ea69f0e">I2C_ACTIVE_RX</a>, <a class="el" href="group___i2_c.html#ga5c2a91aabcd3a3ce56ce6b48e9091dc2">i2c_lld_master_receive_timeout()</a>, <a class="el" href="group___i2_c.html#ggaa1dcc46f251555b674d3376605ca6649ab8ef8d8e35c5eb95b7836c556105b919">I2C_READY</a>, <a class="el" href="group___i2_c.html#ga653f9c593af20d15fdbf893e4c117d78">I2CD_NO_ERROR</a>, <a class="el" href="group__scheduler.html#gaf28d5427eeeb8f737cc7db495157780c">RDY_TIMEOUT</a>, <a class="el" href="struct_i2_c_driver.html#a54c89b56d1f26503fca5c004bb559734">I2CDriver::state</a>, and <a class="el" href="group__scheduler.html#gad1ac15e9e5fc17810a94a779257f3d29">TIME_IMMEDIATE</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___i2_c_gaae9d6a3ad4a861c4f467c6c9c295f01c_cgraph.png" border="0" usemap="#group___i2_c_gaae9d6a3ad4a861c4f467c6c9c295f01c_cgraph" alt=""/></div>
<map name="group___i2_c_gaae9d6a3ad4a861c4f467c6c9c295f01c_cgraph" id="group___i2_c_gaae9d6a3ad4a861c4f467c6c9c295f01c_cgraph">
<area shape="rect" id="node2" href="group___i2_c.html#ga5c2a91aabcd3a3ce56ce6b48e9091dc2" title="Receives data via the I2C bus as master. " alt="" coords="220,5,371,41"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gace46540c237d310d9ea09f1adfcdb6d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2cAcquireBus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *&#160;</td>
          <td class="paramname"><em>i2cp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gains exclusive access to the I2C bus. </p>
<p>This function tries to gain ownership to the I2C bus, if the bus is already being used then the invoking thread is queued. </p><dl class="section pre"><dt>Precondition</dt><dd>In order to use this function the option <code>I2C_USE_MUTUAL_EXCLUSION</code> must be enabled.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2cp</td><td>pointer to the <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="i2c_8c_source.html#l00276">276</a> of file <a class="el" href="i2c_8c_source.html">i2c.c</a>.</p>

<p>References <a class="el" href="group__debug.html#ga6bb6c0f97caab3a66332c8bfbf7a3844">chDbgCheck</a>, <a class="el" href="group__mutexes.html#gafa06b82e3496c44eb7bf31d9f1b655ba">chMtxLock()</a>, <a class="el" href="group__semaphores.html#gabc8f7e509870e9b0527a6a68fad71425">chSemWait()</a>, and <a class="el" href="struct_i2_c_driver.html#ab4799e526946ba39ad4bb410ff1653fe">I2CDriver::mutex</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___i2_c_gace46540c237d310d9ea09f1adfcdb6d5_cgraph.png" border="0" usemap="#group___i2_c_gace46540c237d310d9ea09f1adfcdb6d5_cgraph" alt=""/></div>
<map name="group___i2_c_gace46540c237d310d9ea09f1adfcdb6d5_cgraph" id="group___i2_c_gace46540c237d310d9ea09f1adfcdb6d5_cgraph">
<area shape="rect" id="node2" href="group__mutexes.html#gafa06b82e3496c44eb7bf31d9f1b655ba" title="Locks the specified mutex. " alt="" coords="158,106,237,130"/><area shape="rect" id="node9" href="group__semaphores.html#gabc8f7e509870e9b0527a6a68fad71425" title="Performs a wait operation on a semaphore. " alt="" coords="156,154,239,178"/><area shape="rect" id="node3" href="group__mutexes.html#ga2d6350c2d147d1165c359f30798205f5" title="Locks the specified mutex. " alt="" coords="289,106,375,130"/><area shape="rect" id="node4" href="group__debug.html#ga14fe880e1dbd127d46077a1d300b1167" title="S&#45;class functions context check. " alt="" coords="585,178,716,202"/><area shape="rect" id="node5" href="group__scheduler.html#ga97c1c514b755a1e71caf2f19c1ccf986" title="Puts the current thread to sleep into the specified state. " alt="" coords="425,178,537,202"/><area shape="rect" id="node6" href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298" title="Inserts a thread in the Ready List. " alt="" coords="435,34,528,58"/><area shape="rect" id="node7" href="group__internals.html#gafff11bcd31d7dc3d1a0a6c66f3fc6ec9" title="Removes a Thread from a queue and returns it. " alt="" coords="446,82,517,106"/><area shape="rect" id="node8" href="group__internals.html#ga02226b866ae704435baf2ffe259ba0b2" title="Inserts a thread into a priority ordered queue. " alt="" coords="440,130,523,154"/><area shape="rect" id="node10" href="group__semaphores.html#gaa2c0367078533e291d2e889e251d8b67" title="Performs a wait operation on a semaphore. " alt="" coords="287,178,377,202"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaa160950f37e5ebca45c3ed58d22b4ece"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2cReleaseBus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *&#160;</td>
          <td class="paramname"><em>i2cp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Releases exclusive access to the I2C bus. </p>
<dl class="section pre"><dt>Precondition</dt><dd>In order to use this function the option <code>I2C_USE_MUTUAL_EXCLUSION</code> must be enabled.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2cp</td><td>pointer to the <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="i2c_8c_source.html#l00296">296</a> of file <a class="el" href="i2c_8c_source.html">i2c.c</a>.</p>

<p>References <a class="el" href="group__debug.html#ga6bb6c0f97caab3a66332c8bfbf7a3844">chDbgCheck</a>, <a class="el" href="group__mutexes.html#gae9ae07165126c9f6c0ce0b17bdb53669">chMtxUnlock()</a>, and <a class="el" href="group__semaphores.html#ga7ec0cbda23e49e2370e0b91f20baf05e">chSemSignal()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___i2_c_gaa160950f37e5ebca45c3ed58d22b4ece_cgraph.png" border="0" usemap="#group___i2_c_gaa160950f37e5ebca45c3ed58d22b4ece_cgraph" alt=""/></div>
<map name="group___i2_c_gaa160950f37e5ebca45c3ed58d22b4ece_cgraph" id="group___i2_c_gaa160950f37e5ebca45c3ed58d22b4ece_cgraph">
<area shape="rect" id="node2" href="group__mutexes.html#gae9ae07165126c9f6c0ce0b17bdb53669" title="Unlocks the next owned mutex in reverse lock order. " alt="" coords="161,29,252,53"/><area shape="rect" id="node7" href="group__semaphores.html#ga7ec0cbda23e49e2370e0b91f20baf05e" title="Performs a signal operation on a semaphore. " alt="" coords="159,77,255,101"/><area shape="rect" id="node3" href="group__scheduler.html#gae47a8819a21ef2d521124e76bfb37c95" title="Wakes up a thread. " alt="" coords="303,29,409,53"/><area shape="rect" id="node6" href="group__internals.html#ga042479f09357fc59befebf4dfe0e9f4a" title="Removes the first&#45;out Thread from a queue and returns it. " alt="" coords="311,77,401,101"/><area shape="rect" id="node4" href="group__debug.html#ga14fe880e1dbd127d46077a1d300b1167" title="S&#45;class functions context check. " alt="" coords="457,5,588,29"/><area shape="rect" id="node5" href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298" title="Inserts a thread in the Ready List. " alt="" coords="476,53,569,77"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaae1796056a2fa05caa11a243183b19c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2c_lld_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Low level I2C driver initialization. </p>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="i2c__lld_8c_source.html#l00066">66</a> of file <a class="el" href="i2c__lld_8c_source.html">i2c_lld.c</a>.</p>

<p>References <a class="el" href="group___i2_c.html#ga2dd7be686d8e136b1deebfeb20e868f9">i2cObjectInit()</a>.</p>

<p>Referenced by <a class="el" href="group___i2_c.html#ga1e0a81a1ad1fd7710ca189236e3e5476">i2cInit()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___i2_c_gaae1796056a2fa05caa11a243183b19c2_cgraph.png" border="0" usemap="#group___i2_c_gaae1796056a2fa05caa11a243183b19c2_cgraph" alt=""/></div>
<map name="group___i2_c_gaae1796056a2fa05caa11a243183b19c2_cgraph" id="group___i2_c_gaae1796056a2fa05caa11a243183b19c2_cgraph">
<area shape="rect" id="node2" href="group___i2_c.html#ga2dd7be686d8e136b1deebfeb20e868f9" title="Initializes the standard part of a I2CDriver structure. " alt="" coords="133,29,224,53"/><area shape="rect" id="node3" href="group__mutexes.html#gac55fe4d05aa6bbeb31594193d2e4d2b6" title="Initializes s Mutex structure. " alt="" coords="276,5,347,29"/><area shape="rect" id="node4" href="group__semaphores.html#gafe8fc6155a871074e8017efd908b2c58" title="Initializes a semaphore with the specified counter value. " alt="" coords="272,53,351,77"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga8fd0ebb0927e07541283b693749a6e01"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2c_lld_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *&#160;</td>
          <td class="paramname"><em>i2cp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures and activates the I2C peripheral. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2cp</td><td>pointer to the <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="i2c__lld_8c_source.html#l00080">80</a> of file <a class="el" href="i2c__lld_8c_source.html">i2c_lld.c</a>.</p>

<p>References <a class="el" href="group___i2_c.html#ggaa1dcc46f251555b674d3376605ca6649a8eb2e08ae382c4d5bd7e5dee12938e85">I2C_STOP</a>, and <a class="el" href="struct_i2_c_driver.html#a54c89b56d1f26503fca5c004bb559734">I2CDriver::state</a>.</p>

<p>Referenced by <a class="el" href="group___i2_c.html#gadcd08e752dbbeccdfc8abfa8a718c09e">i2cStart()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1f4077630d5bfcc44699b2a9c6622bda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void i2c_lld_stop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *&#160;</td>
          <td class="paramname"><em>i2cp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deactivates the I2C peripheral. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2cp</td><td>pointer to the <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="i2c__lld_8c_source.html#l00101">101</a> of file <a class="el" href="i2c__lld_8c_source.html">i2c_lld.c</a>.</p>

<p>References <a class="el" href="group___i2_c.html#ggaa1dcc46f251555b674d3376605ca6649a8eb2e08ae382c4d5bd7e5dee12938e85">I2C_STOP</a>, and <a class="el" href="struct_i2_c_driver.html#a54c89b56d1f26503fca5c004bb559734">I2CDriver::state</a>.</p>

<p>Referenced by <a class="el" href="group___i2_c.html#gaa9a5db1cb98898c848705f99b8fedb48">i2cStop()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5c2a91aabcd3a3ce56ce6b48e9091dc2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a> i2c_lld_master_receive_timeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *&#160;</td>
          <td class="paramname"><em>i2cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___i2_c.html#gaa983f993d7e2605d0457413712a1b4e9">i2caddr_t</a>&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>rxbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>rxbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#gae3e32a98d431a02106616da3071832dd">systime_t</a>&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receives data via the I2C bus as master. </p>
<p>Number of receiving bytes must be more than 1 on STM32F1x. This is hardware restriction.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2cp</td><td>pointer to the <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>slave device address </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rxbuf</td><td>pointer to the receive buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rxbytes</td><td>number of bytes to be received </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>the number of ticks before the operation timeouts, the following special values are allowed:<ul>
<li><em>TIME_INFINITE</em> no timeout.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RDY_OK</td><td>if the function succeeded. </td></tr>
    <tr><td class="paramname">RDY_RESET</td><td>if one or more I2C errors occurred, the errors can be retrieved using <code><a class="el" href="group___i2_c.html#ga74564623966bab022e6905e81126c5e4" title="Returns the errors mask associated to the previous operation. ">i2cGetErrors()</a></code>. </td></tr>
    <tr><td class="paramname">RDY_TIMEOUT</td><td>if a timeout occurred before operation end. <b>After a timeout the driver must be stopped and restarted because the bus is in an uncertain state</b>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="i2c__lld_8c_source.html#l00138">138</a> of file <a class="el" href="i2c__lld_8c_source.html">i2c_lld.c</a>.</p>

<p>References <a class="el" href="group__scheduler.html#gae1c86078318e11c2fa57ee3c2ec69f61">RDY_OK</a>.</p>

<p>Referenced by <a class="el" href="group___i2_c.html#gaae9d6a3ad4a861c4f467c6c9c295f01c">i2cMasterReceiveTimeout()</a>.</p>

</div>
</div>
<a class="anchor" id="ga901daa9967d501fce0923d33b6cffa12"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a> i2c_lld_master_transmit_timeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i2_c_driver.html">I2CDriver</a> *&#160;</td>
          <td class="paramname"><em>i2cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___i2_c.html#gaa983f993d7e2605d0457413712a1b4e9">i2caddr_t</a>&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>txbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>txbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>rxbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>rxbytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#gae3e32a98d431a02106616da3071832dd">systime_t</a>&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmits data via the I2C bus as master. </p>
<p>Number of receiving bytes must be 0 or more than 1 on STM32F1x. This is hardware restriction.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2cp</td><td>pointer to the <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>slave device address </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">txbuf</td><td>pointer to the transmit buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">txbytes</td><td>number of bytes to be transmitted </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rxbuf</td><td>pointer to the receive buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rxbytes</td><td>number of bytes to be received </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>the number of ticks before the operation timeouts, the following special values are allowed:<ul>
<li><em>TIME_INFINITE</em> no timeout.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RDY_OK</td><td>if the function succeeded. </td></tr>
    <tr><td class="paramname">RDY_RESET</td><td>if one or more I2C errors occurred, the errors can be retrieved using <code><a class="el" href="group___i2_c.html#ga74564623966bab022e6905e81126c5e4" title="Returns the errors mask associated to the previous operation. ">i2cGetErrors()</a></code>. </td></tr>
    <tr><td class="paramname">RDY_TIMEOUT</td><td>if a timeout occurred before operation end. <b>After a timeout the driver must be stopped and restarted because the bus is in an uncertain state</b>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="i2c__lld_8c_source.html#l00176">176</a> of file <a class="el" href="i2c__lld_8c_source.html">i2c_lld.c</a>.</p>

<p>References <a class="el" href="group__scheduler.html#gae1c86078318e11c2fa57ee3c2ec69f61">RDY_OK</a>.</p>

<p>Referenced by <a class="el" href="group___i2_c.html#ga57039ea5e6f70691b667a14248618967">i2cMasterTransmitTimeout()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ga397503430a0120a5b69ae2535d39b310"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_i2_c_driver.html">I2CDriver</a> I2CD1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>I2C1 driver identifier. </p>

<p>Definition at line <a class="el" href="i2c__lld_8c_source.html#l00042">42</a> of file <a class="el" href="i2c__lld_8c_source.html">i2c_lld.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga653f9c593af20d15fdbf893e4c117d78"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I2CD_NO_ERROR&#160;&#160;&#160;0x00</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>No error. </p>

<p>Definition at line <a class="el" href="i2c_8h_source.html#l00053">53</a> of file <a class="el" href="i2c_8h_source.html">i2c.h</a>.</p>

<p>Referenced by <a class="el" href="group___i2_c.html#gaae9d6a3ad4a861c4f467c6c9c295f01c">i2cMasterReceiveTimeout()</a>, and <a class="el" href="group___i2_c.html#ga57039ea5e6f70691b667a14248618967">i2cMasterTransmitTimeout()</a>.</p>

</div>
</div>
<a class="anchor" id="gaedf5f2ea079c965e972cf722363d3a55"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I2CD_BUS_ERROR&#160;&#160;&#160;0x01</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bus Error. </p>

<p>Definition at line <a class="el" href="i2c_8h_source.html#l00054">54</a> of file <a class="el" href="i2c_8h_source.html">i2c.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga84e77de0d481ab4378a5bd828bab147e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I2CD_ARBITRATION_LOST&#160;&#160;&#160;0x02</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Arbitration Lost. </p>

<p>Definition at line <a class="el" href="i2c_8h_source.html#l00055">55</a> of file <a class="el" href="i2c_8h_source.html">i2c.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga12ec13b3d337ac03c6667b1b73a7d1c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I2CD_ACK_FAILURE&#160;&#160;&#160;0x04</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Acknowledge Failure. </p>

<p>Definition at line <a class="el" href="i2c_8h_source.html#l00056">56</a> of file <a class="el" href="i2c_8h_source.html">i2c.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaec55b458e46badc73826c01b3366bd1f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I2CD_OVERRUN&#160;&#160;&#160;0x08</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Overrun/Underrun. </p>

<p>Definition at line <a class="el" href="i2c_8h_source.html#l00057">57</a> of file <a class="el" href="i2c_8h_source.html">i2c.h</a>.</p>

</div>
</div>
<a class="anchor" id="gafda40737566332a03f8ce33b383c3713"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I2CD_PEC_ERROR&#160;&#160;&#160;0x10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>PEC Error in reception. </p>

<p>Definition at line <a class="el" href="i2c_8h_source.html#l00058">58</a> of file <a class="el" href="i2c_8h_source.html">i2c.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga67c6f8f71ca2bf476b6fda24e05fb94b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I2CD_TIMEOUT&#160;&#160;&#160;0x20</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Hardware timeout. </p>

<p>Definition at line <a class="el" href="i2c_8h_source.html#l00061">61</a> of file <a class="el" href="i2c_8h_source.html">i2c.h</a>.</p>

</div>
</div>
<a class="anchor" id="gad44d28571a7f71f012a22bf94feee100"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I2CD_SMB_ALERT&#160;&#160;&#160;0x40</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SMBus Alert. </p>

<p>Definition at line <a class="el" href="i2c_8h_source.html#l00062">62</a> of file <a class="el" href="i2c_8h_source.html">i2c.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga7125642404a6fd3d4985d1cb6e1b7b0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define I2C_USE_MUTUAL_EXCLUSION&#160;&#160;&#160;<a class="el" href="group__kernel__info.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables the mutual exclusion APIs on the I2C bus. </p>

<p>Definition at line <a class="el" href="i2c_8h_source.html#l00073">73</a> of file <a class="el" href="i2c_8h_source.html">i2c.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga2b491569bd73afebccc523d933e1e133"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define i2cMasterTransmit</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">i2cp, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">addr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">txbuf, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">txbytes, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rxbuf, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rxbytes&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(<a class="code" href="group___i2_c.html#ga57039ea5e6f70691b667a14248618967">i2cMasterTransmitTimeout</a>(i2cp, addr, txbuf, txbytes, rxbuf, rxbytes,     \</div>
<div class="line">                            <a class="code" href="group__scheduler.html#gae1568cf3090c973c3bc47f86ae2f5afb">TIME_INFINITE</a>))</div>
<div class="ttc" id="group___i2_c_html_ga57039ea5e6f70691b667a14248618967"><div class="ttname"><a href="group___i2_c.html#ga57039ea5e6f70691b667a14248618967">i2cMasterTransmitTimeout</a></div><div class="ttdeci">msg_t i2cMasterTransmitTimeout(I2CDriver *i2cp, i2caddr_t addr, const uint8_t *txbuf, size_t txbytes, uint8_t *rxbuf, size_t rxbytes, systime_t timeout)</div><div class="ttdoc">Sends data via the I2C bus. </div><div class="ttdef"><b>Definition:</b> <a href="i2c_8c_source.html#l00185">i2c.c:185</a></div></div>
<div class="ttc" id="group__scheduler_html_gae1568cf3090c973c3bc47f86ae2f5afb"><div class="ttname"><a href="group__scheduler.html#gae1568cf3090c973c3bc47f86ae2f5afb">TIME_INFINITE</a></div><div class="ttdeci">#define TIME_INFINITE</div><div class="ttdoc">Infinite time specification for all functions with a timeout specification. </div><div class="ttdef"><b>Definition:</b> <a href="chschd_8h_source.html#l00080">chschd.h:80</a></div></div>
</div><!-- fragment -->
<p>Wrap i2cMasterTransmitTimeout function with TIME_INFINITE timeout. </p>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="i2c_8h_source.html#l00110">110</a> of file <a class="el" href="i2c_8h_source.html">i2c.h</a>.</p>

</div>
</div>
<a class="anchor" id="gab90e08fd8049a3b19e1767c9c99cf8e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define i2cMasterReceive</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">i2cp, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">addr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rxbuf, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">rxbytes&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(<a class="el" href="group___i2_c.html#gaae9d6a3ad4a861c4f467c6c9c295f01c">i2cMasterReceiveTimeout</a>(i2cp, addr, rxbuf, rxbytes, <a class="el" href="group__scheduler.html#gae1568cf3090c973c3bc47f86ae2f5afb">TIME_INFINITE</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wrap i2cMasterReceiveTimeout function with TIME_INFINITE timeout. </p>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="i2c_8h_source.html#l00118">118</a> of file <a class="el" href="i2c_8h_source.html">i2c.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga6499e6cecfd702bac5f3422a9293cfd3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PLATFORM_I2C_USE_I2C1&#160;&#160;&#160;<a class="el" href="group__kernel__info.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>I2C1 driver enable switch. </p>
<p>If set to <code>TRUE</code> the support for I2C1 is included. </p><dl class="section note"><dt>Note</dt><dd>The default is <code>FALSE</code>. </dd></dl>

<p>Definition at line <a class="el" href="i2c__lld_8h_source.html#l00048">48</a> of file <a class="el" href="i2c__lld_8h_source.html">i2c_lld.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga09cb7515a423098d7011bba890e74ffd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define i2c_lld_get_errors</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">i2cp</td><td>)</td>
          <td>&#160;&#160;&#160;((i2cp)-&gt;errors)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get errors from I2C driver. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">i2cp</td><td>pointer to the <code><a class="el" href="struct_i2_c_driver.html" title="Structure representing an I2C driver. ">I2CDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="i2c__lld_8h_source.html#l00131">131</a> of file <a class="el" href="i2c__lld_8h_source.html">i2c_lld.h</a>.</p>

<p>Referenced by <a class="el" href="group___i2_c.html#ga74564623966bab022e6905e81126c5e4">i2cGetErrors()</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="gaa983f993d7e2605d0457413712a1b4e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint16_t <a class="el" href="group___i2_c.html#gaa983f993d7e2605d0457413712a1b4e9">i2caddr_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type representing I2C address. </p>

<p>Definition at line <a class="el" href="i2c__lld_8h_source.html#l00063">63</a> of file <a class="el" href="i2c__lld_8h_source.html">i2c_lld.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga46bb118b8b3da043c3795802cf0ae361"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t <a class="el" href="group___i2_c.html#ga46bb118b8b3da043c3795802cf0ae361">i2cflags_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of I2C Driver condition flags. </p>

<p>Definition at line <a class="el" href="i2c__lld_8h_source.html#l00068">68</a> of file <a class="el" href="i2c__lld_8h_source.html">i2c_lld.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaea6c83126ae7e60a10ee0952dd97989a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_i2_c_driver.html">I2CDriver</a> <a class="el" href="struct_i2_c_driver.html">I2CDriver</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of a structure representing an I2C driver. </p>

<p>Definition at line <a class="el" href="i2c__lld_8h_source.html#l00086">86</a> of file <a class="el" href="i2c__lld_8h_source.html">i2c_lld.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="gaa1dcc46f251555b674d3376605ca6649"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___i2_c.html#gaa1dcc46f251555b674d3376605ca6649">i2cstate_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Driver state machine possible states. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ggaa1dcc46f251555b674d3376605ca6649a6c1204af4172839f6bfdf53e6711240d"></a>I2C_UNINIT&#160;</td><td class="fielddoc">
<p>Not initialized. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaa1dcc46f251555b674d3376605ca6649a8eb2e08ae382c4d5bd7e5dee12938e85"></a>I2C_STOP&#160;</td><td class="fielddoc">
<p>Stopped. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaa1dcc46f251555b674d3376605ca6649ab8ef8d8e35c5eb95b7836c556105b919"></a>I2C_READY&#160;</td><td class="fielddoc">
<p>Ready. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaa1dcc46f251555b674d3376605ca6649a568157ec8d2ebd8586b51035b4614bf9"></a>I2C_ACTIVE_TX&#160;</td><td class="fielddoc">
<p>Transmitting. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggaa1dcc46f251555b674d3376605ca6649add3c2e1e6305871cd64b6ed50ea69f0e"></a>I2C_ACTIVE_RX&#160;</td><td class="fielddoc">
<p>Receiving. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="i2c_8h_source.html#l00091">91</a> of file <a class="el" href="i2c_8h_source.html">i2c.h</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
    <li class="footer">
      <a href="http://sourceforge.net/projects/chibios">
        <img src="http://sflogo.sourceforge.net/sflogo.php?group_id=205897&amp;type=11"
             border="0" width="120" height="30"
             alt="Get ChibiOS/RT embedded RTOS at SourceForge.net. Fast,
                  secure and Free Open Source software downloads"/>
      </a>
    </li>
  </ul>
</div>
<!-- Piwik -->
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? "https://apps.sourceforge.net/piwik/chibios/" : "http://apps.sourceforge.net/piwik/chibios/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
piwik_action_name = '';
piwik_idsite = 1;
piwik_url = pkBaseURL + "piwik.php";
piwik_log(piwik_action_name, piwik_idsite, piwik_url);
</script>
<object><noscript><p><img src="http://apps.sourceforge.net/piwik/chibios/piwik.php?idsite=1" alt="piwik"/></p></noscript></object>
<!-- End Piwik Tag -->
</body>
</html>
