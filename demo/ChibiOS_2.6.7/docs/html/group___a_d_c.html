<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ADC Driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 92px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ChibiOS/RT<br><span id="projectnumber">2.6.7</span></div>
  </td>
  <td style="padding-left: 3em;">
<script type="text/javascript"><!--
google_ad_client = "pub-3840594581853944";
/* Documentation, bottom, 728x90, created 9/19/10 */
google_ad_slot = "1902290615";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___a_d_c.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">ADC Driver<div class="ingroups"><a class="el" href="group___i_o.html">HAL</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for ADC Driver:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group___a_d_c.png" border="0" alt="" usemap="#group______a__d__c"/>
<map name="group______a__d__c" id="group______a__d__c">
<area shape="rect" id="node1" href="group___i_o.html" title="Hardware Abstraction Layer. " alt="" coords="5,5,48,29"/></map>
</td></tr></table></center>
</div>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Generic ADC Driver. </p>
<p>This module implements a generic ADC (Analog to Digital Converter) driver supporting a variety of buffer and conversion modes. </p><dl class="section pre"><dt>Precondition</dt><dd>In order to use the ADC driver the <code>HAL_USE_ADC</code> option must be enabled in <code><a class="el" href="halconf_8h.html" title="HAL configuration header. ">halconf.h</a></code>.</dd></dl>
<h1><a class="anchor" id="adc_1"></a>
Driver State Machine</h1>
<p>The driver implements a state machine internally, not all the driver functionalities can be used in any moment, any transition not explicitly shown in the following diagram has to be considered an error and shall be captured by an assertion (if enabled). </p><div align="center">
<img src="dot_inline_dotgraph_6.png" alt="dot_inline_dotgraph_6.png" border="0" usemap="#dot_inline_dotgraph_6.map"/>
<map name="dot_inline_dotgraph_6.map" id="dot_inline_dotgraph_6.map"></map>
</div>
<h1><a class="anchor" id="adc_2"></a>
ADC Operations</h1>
<p>The ADC driver is quite complex, an explanation of the terminology and of the operational details follows.</p>
<h2><a class="anchor" id="adc_2_1"></a>
ADC Conversion Groups</h2>
<p>The <code><a class="el" href="struct_a_d_c_conversion_group.html" title="Conversion group configuration structure. ">ADCConversionGroup</a></code> is the objects that specifies a physical conversion operation. This structure contains some standard fields and several implementation-dependent fields.<br />
 The standard fields define the CG mode, the number of channels belonging to the CG and the optional callbacks.<br />
 The implementation-dependent fields specify the physical ADC operation mode, the analog channels belonging to the group and any other implementation-specific setting. Usually the extra fields just mirror the physical ADC registers, please refer to the vendor's MCU Reference Manual for details about the available settings. Details are also available into the documentation of the ADC low level drivers and in the various sample applications.</p>
<h2><a class="anchor" id="adc_2_2"></a>
ADC Conversion Modes</h2>
<p>The driver supports several conversion modes:</p><ul>
<li><b>One Shot</b>, the driver performs a single group conversion then stops.</li>
<li><b>Linear Buffer</b>, the driver performs a series of group conversions then stops. This mode is like a one shot conversion repeated N times, the buffer pointer increases after each conversion. The buffer is organized as an S(CG)*N samples matrix, when S(CG) is the conversion group size (number of channels) and N is the buffer depth (number of repeated conversions).</li>
<li><b>Circular Buffer</b>, much like the linear mode but the operation does not stop when the buffer is filled, it is automatically restarted with the buffer pointer wrapping back to the buffer base.</li>
</ul>
<h2><a class="anchor" id="adc_2_3"></a>
ADC Callbacks</h2>
<p>The driver is able to invoke callbacks during the conversion process. A callback is invoked when the operation has been completed or, in circular mode, when the buffer has been filled and the operation is restarted. In circular mode a callback is also invoked when the buffer is half filled.<br />
 The "half filled" and "filled" callbacks in circular mode allow to implement "streaming processing" of the sampled data, while the driver is busy filling one half of the buffer the application can process the other half, this allows for continuous interleaved operations.</p>
<p>The driver is not thread safe for performance reasons, if you need to access the ADC bus from multiple threads then use the <code><a class="el" href="group___a_d_c.html#ga61ae6a7495100110e7b6fd46a6693a02" title="Gains exclusive access to the ADC peripheral. ">adcAcquireBus()</a></code> and <code><a class="el" href="group___a_d_c.html#gad8464418eb0ad2574872e695fcf1e3a7" title="Releases exclusive access to the ADC peripheral. ">adcReleaseBus()</a></code> APIs in order to gain exclusive access. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_d_c_conversion_group.html">ADCConversionGroup</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Conversion group configuration structure.  <a href="struct_a_d_c_conversion_group.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_d_c_config.html">ADCConfig</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver configuration structure.  <a href="struct_a_d_c_config.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_d_c_driver.html">ADCDriver</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure representing an ADC driver.  <a href="struct_a_d_c_driver.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gafd645b17cf0581bcaa22c56011c775e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#gafd645b17cf0581bcaa22c56011c775e4">adcInit</a> (void)</td></tr>
<tr class="memdesc:gafd645b17cf0581bcaa22c56011c775e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">ADC Driver initialization.  <a href="#gafd645b17cf0581bcaa22c56011c775e4">More...</a><br /></td></tr>
<tr class="separator:gafd645b17cf0581bcaa22c56011c775e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac7f619e304c79c17f19221d05138d405"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#gac7f619e304c79c17f19221d05138d405">adcObjectInit</a> (<a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *adcp)</td></tr>
<tr class="memdesc:gac7f619e304c79c17f19221d05138d405"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the standard part of a <code><a class="el" href="struct_a_d_c_driver.html" title="Structure representing an ADC driver. ">ADCDriver</a></code> structure.  <a href="#gac7f619e304c79c17f19221d05138d405">More...</a><br /></td></tr>
<tr class="separator:gac7f619e304c79c17f19221d05138d405"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga92f8b4434b8199323b1469e0479de7f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#ga92f8b4434b8199323b1469e0479de7f8">adcStart</a> (<a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *adcp, const <a class="el" href="struct_a_d_c_config.html">ADCConfig</a> *config)</td></tr>
<tr class="memdesc:ga92f8b4434b8199323b1469e0479de7f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures and activates the ADC peripheral.  <a href="#ga92f8b4434b8199323b1469e0479de7f8">More...</a><br /></td></tr>
<tr class="separator:ga92f8b4434b8199323b1469e0479de7f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3caf934a28b65e6a5eda3e882ca06845"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#ga3caf934a28b65e6a5eda3e882ca06845">adcStop</a> (<a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *adcp)</td></tr>
<tr class="memdesc:ga3caf934a28b65e6a5eda3e882ca06845"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deactivates the ADC peripheral.  <a href="#ga3caf934a28b65e6a5eda3e882ca06845">More...</a><br /></td></tr>
<tr class="separator:ga3caf934a28b65e6a5eda3e882ca06845"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab01b398aa1a89578e763cdb21300aaaa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#gab01b398aa1a89578e763cdb21300aaaa">adcStartConversion</a> (<a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *adcp, const <a class="el" href="struct_a_d_c_conversion_group.html">ADCConversionGroup</a> *grpp, <a class="el" href="group___a_d_c.html#gac232ced5da9f2b4f5d5adf499c7cb745">adcsample_t</a> *samples, size_t depth)</td></tr>
<tr class="memdesc:gab01b398aa1a89578e763cdb21300aaaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts an ADC conversion.  <a href="#gab01b398aa1a89578e763cdb21300aaaa">More...</a><br /></td></tr>
<tr class="separator:gab01b398aa1a89578e763cdb21300aaaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2a8d9a86e452fd4480f22ad6b8c209de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#ga2a8d9a86e452fd4480f22ad6b8c209de">adcStartConversionI</a> (<a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *adcp, const <a class="el" href="struct_a_d_c_conversion_group.html">ADCConversionGroup</a> *grpp, <a class="el" href="group___a_d_c.html#gac232ced5da9f2b4f5d5adf499c7cb745">adcsample_t</a> *samples, size_t depth)</td></tr>
<tr class="memdesc:ga2a8d9a86e452fd4480f22ad6b8c209de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts an ADC conversion.  <a href="#ga2a8d9a86e452fd4480f22ad6b8c209de">More...</a><br /></td></tr>
<tr class="separator:ga2a8d9a86e452fd4480f22ad6b8c209de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabce14d8f240e85715cded02c85b6585a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#gabce14d8f240e85715cded02c85b6585a">adcStopConversion</a> (<a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *adcp)</td></tr>
<tr class="memdesc:gabce14d8f240e85715cded02c85b6585a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops an ongoing conversion.  <a href="#gabce14d8f240e85715cded02c85b6585a">More...</a><br /></td></tr>
<tr class="separator:gabce14d8f240e85715cded02c85b6585a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9cd46995f3c5bba708209a615478cbb1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#ga9cd46995f3c5bba708209a615478cbb1">adcStopConversionI</a> (<a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *adcp)</td></tr>
<tr class="memdesc:ga9cd46995f3c5bba708209a615478cbb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops an ongoing conversion.  <a href="#ga9cd46995f3c5bba708209a615478cbb1">More...</a><br /></td></tr>
<tr class="separator:ga9cd46995f3c5bba708209a615478cbb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga61ae6a7495100110e7b6fd46a6693a02"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#ga61ae6a7495100110e7b6fd46a6693a02">adcAcquireBus</a> (<a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *adcp)</td></tr>
<tr class="memdesc:ga61ae6a7495100110e7b6fd46a6693a02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gains exclusive access to the ADC peripheral.  <a href="#ga61ae6a7495100110e7b6fd46a6693a02">More...</a><br /></td></tr>
<tr class="separator:ga61ae6a7495100110e7b6fd46a6693a02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad8464418eb0ad2574872e695fcf1e3a7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#gad8464418eb0ad2574872e695fcf1e3a7">adcReleaseBus</a> (<a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *adcp)</td></tr>
<tr class="memdesc:gad8464418eb0ad2574872e695fcf1e3a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases exclusive access to the ADC peripheral.  <a href="#gad8464418eb0ad2574872e695fcf1e3a7">More...</a><br /></td></tr>
<tr class="separator:gad8464418eb0ad2574872e695fcf1e3a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae4f5c1e2d4283b40625a1d238bc49a7a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#gae4f5c1e2d4283b40625a1d238bc49a7a">adcConvert</a> (<a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *adcp, const <a class="el" href="struct_a_d_c_conversion_group.html">ADCConversionGroup</a> *grpp, <a class="el" href="group___a_d_c.html#gac232ced5da9f2b4f5d5adf499c7cb745">adcsample_t</a> *samples, size_t depth)</td></tr>
<tr class="memdesc:gae4f5c1e2d4283b40625a1d238bc49a7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs an ADC conversion.  <a href="#gae4f5c1e2d4283b40625a1d238bc49a7a">More...</a><br /></td></tr>
<tr class="separator:gae4f5c1e2d4283b40625a1d238bc49a7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2bfcc655059180451273682ca7e0068c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#ga2bfcc655059180451273682ca7e0068c">adc_lld_init</a> (void)</td></tr>
<tr class="memdesc:ga2bfcc655059180451273682ca7e0068c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Low level ADC driver initialization.  <a href="#ga2bfcc655059180451273682ca7e0068c">More...</a><br /></td></tr>
<tr class="separator:ga2bfcc655059180451273682ca7e0068c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9114c26236516afddb6add35ee3251f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#ga9114c26236516afddb6add35ee3251f3">adc_lld_start</a> (<a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *adcp)</td></tr>
<tr class="memdesc:ga9114c26236516afddb6add35ee3251f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures and activates the ADC peripheral.  <a href="#ga9114c26236516afddb6add35ee3251f3">More...</a><br /></td></tr>
<tr class="separator:ga9114c26236516afddb6add35ee3251f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5f4152006602b187c745bb32f915d679"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#ga5f4152006602b187c745bb32f915d679">adc_lld_stop</a> (<a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *adcp)</td></tr>
<tr class="memdesc:ga5f4152006602b187c745bb32f915d679"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deactivates the ADC peripheral.  <a href="#ga5f4152006602b187c745bb32f915d679">More...</a><br /></td></tr>
<tr class="separator:ga5f4152006602b187c745bb32f915d679"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5a23ece28ce81cc00e2ddb614d656339"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#ga5a23ece28ce81cc00e2ddb614d656339">adc_lld_start_conversion</a> (<a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *adcp)</td></tr>
<tr class="memdesc:ga5a23ece28ce81cc00e2ddb614d656339"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts an ADC conversion.  <a href="#ga5a23ece28ce81cc00e2ddb614d656339">More...</a><br /></td></tr>
<tr class="separator:ga5a23ece28ce81cc00e2ddb614d656339"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga16ce41e3fdca5b04f046f1e9099f3e92"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#ga16ce41e3fdca5b04f046f1e9099f3e92">adc_lld_stop_conversion</a> (<a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *adcp)</td></tr>
<tr class="memdesc:ga16ce41e3fdca5b04f046f1e9099f3e92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops an ongoing conversion.  <a href="#ga16ce41e3fdca5b04f046f1e9099f3e92">More...</a><br /></td></tr>
<tr class="separator:ga16ce41e3fdca5b04f046f1e9099f3e92"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gafc76205eb4ee605e94eec9edee44830b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_a_d_c_driver.html">ADCDriver</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#gafc76205eb4ee605e94eec9edee44830b">ADCD1</a></td></tr>
<tr class="memdesc:gafc76205eb4ee605e94eec9edee44830b"><td class="mdescLeft">&#160;</td><td class="mdescRight">ADC1 driver identifier.  <a href="#gafc76205eb4ee605e94eec9edee44830b">More...</a><br /></td></tr>
<tr class="separator:gafc76205eb4ee605e94eec9edee44830b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
ADC configuration options</h2></td></tr>
<tr class="memitem:ga39e892a4090185fbdda9bb105bc03b4f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#ga39e892a4090185fbdda9bb105bc03b4f">ADC_USE_WAIT</a>&#160;&#160;&#160;<a class="el" href="group__kernel__info.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></td></tr>
<tr class="memdesc:ga39e892a4090185fbdda9bb105bc03b4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables synchronous APIs.  <a href="#ga39e892a4090185fbdda9bb105bc03b4f">More...</a><br /></td></tr>
<tr class="separator:ga39e892a4090185fbdda9bb105bc03b4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac0893cb47e338c2dabad34b974a0a88d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#gac0893cb47e338c2dabad34b974a0a88d">ADC_USE_MUTUAL_EXCLUSION</a>&#160;&#160;&#160;<a class="el" href="group__kernel__info.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></td></tr>
<tr class="memdesc:gac0893cb47e338c2dabad34b974a0a88d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables the <code><a class="el" href="group___a_d_c.html#ga61ae6a7495100110e7b6fd46a6693a02" title="Gains exclusive access to the ADC peripheral. ">adcAcquireBus()</a></code> and <code><a class="el" href="group___a_d_c.html#gad8464418eb0ad2574872e695fcf1e3a7" title="Releases exclusive access to the ADC peripheral. ">adcReleaseBus()</a></code> APIs.  <a href="#gac0893cb47e338c2dabad34b974a0a88d">More...</a><br /></td></tr>
<tr class="separator:gac0893cb47e338c2dabad34b974a0a88d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Low Level driver helper macros</h2></td></tr>
<tr class="memitem:ga9f806e3e709354c395d0fa02a91238e0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#ga9f806e3e709354c395d0fa02a91238e0">_adc_reset_i</a>(adcp)</td></tr>
<tr class="memdesc:ga9f806e3e709354c395d0fa02a91238e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resumes a thread waiting for a conversion completion.  <a href="#ga9f806e3e709354c395d0fa02a91238e0">More...</a><br /></td></tr>
<tr class="separator:ga9f806e3e709354c395d0fa02a91238e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga875f43cdc6e6c4da14c3adbe411d68ac"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#ga875f43cdc6e6c4da14c3adbe411d68ac">_adc_reset_s</a>(adcp)</td></tr>
<tr class="memdesc:ga875f43cdc6e6c4da14c3adbe411d68ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resumes a thread waiting for a conversion completion.  <a href="#ga875f43cdc6e6c4da14c3adbe411d68ac">More...</a><br /></td></tr>
<tr class="separator:ga875f43cdc6e6c4da14c3adbe411d68ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga19312216fa59865ba166c14d50b3be89"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#ga19312216fa59865ba166c14d50b3be89">_adc_wakeup_isr</a>(adcp)</td></tr>
<tr class="memdesc:ga19312216fa59865ba166c14d50b3be89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wakes up the waiting thread.  <a href="#ga19312216fa59865ba166c14d50b3be89">More...</a><br /></td></tr>
<tr class="separator:ga19312216fa59865ba166c14d50b3be89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaffbf5f3279001baf781deacbe9051aae"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#gaffbf5f3279001baf781deacbe9051aae">_adc_timeout_isr</a>(adcp)</td></tr>
<tr class="memdesc:gaffbf5f3279001baf781deacbe9051aae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wakes up the waiting thread with a timeout message.  <a href="#gaffbf5f3279001baf781deacbe9051aae">More...</a><br /></td></tr>
<tr class="separator:gaffbf5f3279001baf781deacbe9051aae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3b1a649f2ffb18b7fe4b898dd2184534"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#ga3b1a649f2ffb18b7fe4b898dd2184534">_adc_isr_half_code</a>(adcp)</td></tr>
<tr class="memdesc:ga3b1a649f2ffb18b7fe4b898dd2184534"><td class="mdescLeft">&#160;</td><td class="mdescRight">Common ISR code, half buffer event.  <a href="#ga3b1a649f2ffb18b7fe4b898dd2184534">More...</a><br /></td></tr>
<tr class="separator:ga3b1a649f2ffb18b7fe4b898dd2184534"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga17ebe1e2b28ce85f91f706d124c3f0f0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#ga17ebe1e2b28ce85f91f706d124c3f0f0">_adc_isr_full_code</a>(adcp)</td></tr>
<tr class="memdesc:ga17ebe1e2b28ce85f91f706d124c3f0f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Common ISR code, full buffer event.  <a href="#ga17ebe1e2b28ce85f91f706d124c3f0f0">More...</a><br /></td></tr>
<tr class="separator:ga17ebe1e2b28ce85f91f706d124c3f0f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3762831d165fcd0cbc2f021d086dfb02"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#ga3762831d165fcd0cbc2f021d086dfb02">_adc_isr_error_code</a>(adcp,  err)</td></tr>
<tr class="memdesc:ga3762831d165fcd0cbc2f021d086dfb02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Common ISR code, error event.  <a href="#ga3762831d165fcd0cbc2f021d086dfb02">More...</a><br /></td></tr>
<tr class="separator:ga3762831d165fcd0cbc2f021d086dfb02"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Configuration options</h2></td></tr>
<tr class="memitem:ga1c30d87e4cabafceae44ab0edf3d76d0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#ga1c30d87e4cabafceae44ab0edf3d76d0">PLATFORM_ADC_USE_ADC1</a>&#160;&#160;&#160;<a class="el" href="group__kernel__info.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td></tr>
<tr class="memdesc:ga1c30d87e4cabafceae44ab0edf3d76d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">ADC1 driver enable switch.  <a href="#ga1c30d87e4cabafceae44ab0edf3d76d0">More...</a><br /></td></tr>
<tr class="separator:ga1c30d87e4cabafceae44ab0edf3d76d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gac232ced5da9f2b4f5d5adf499c7cb745"><td class="memItemLeft" align="right" valign="top">typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#gac232ced5da9f2b4f5d5adf499c7cb745">adcsample_t</a></td></tr>
<tr class="memdesc:gac232ced5da9f2b4f5d5adf499c7cb745"><td class="mdescLeft">&#160;</td><td class="mdescRight">ADC sample data type.  <a href="#gac232ced5da9f2b4f5d5adf499c7cb745">More...</a><br /></td></tr>
<tr class="separator:gac232ced5da9f2b4f5d5adf499c7cb745"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga846a9eca7d0cf63206680e49deb513ec"><td class="memItemLeft" align="right" valign="top">typedef uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#ga846a9eca7d0cf63206680e49deb513ec">adc_channels_num_t</a></td></tr>
<tr class="memdesc:ga846a9eca7d0cf63206680e49deb513ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Channels number in a conversion group.  <a href="#ga846a9eca7d0cf63206680e49deb513ec">More...</a><br /></td></tr>
<tr class="separator:ga846a9eca7d0cf63206680e49deb513ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0bef32b45158d8b26a42ee65683831a0"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_a_d_c_driver.html">ADCDriver</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#ga0bef32b45158d8b26a42ee65683831a0">ADCDriver</a></td></tr>
<tr class="memdesc:ga0bef32b45158d8b26a42ee65683831a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of a structure representing an ADC driver.  <a href="#ga0bef32b45158d8b26a42ee65683831a0">More...</a><br /></td></tr>
<tr class="separator:ga0bef32b45158d8b26a42ee65683831a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf59779cc8853b340ff8b3aadad35c49d"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#gaf59779cc8853b340ff8b3aadad35c49d">adccallback_t</a>) (<a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *adcp, <a class="el" href="group___a_d_c.html#gac232ced5da9f2b4f5d5adf499c7cb745">adcsample_t</a> *buffer, size_t n)</td></tr>
<tr class="memdesc:gaf59779cc8853b340ff8b3aadad35c49d"><td class="mdescLeft">&#160;</td><td class="mdescRight">ADC notification callback type.  <a href="#gaf59779cc8853b340ff8b3aadad35c49d">More...</a><br /></td></tr>
<tr class="separator:gaf59779cc8853b340ff8b3aadad35c49d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga402656e718696a9df6b0a7b9fb72b1cc"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#ga402656e718696a9df6b0a7b9fb72b1cc">adcerrorcallback_t</a>) (<a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *adcp, <a class="el" href="group___a_d_c.html#ga13ec955b8541fff412684213a5e24443">adcerror_t</a> err)</td></tr>
<tr class="memdesc:ga402656e718696a9df6b0a7b9fb72b1cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">ADC error callback type.  <a href="#ga402656e718696a9df6b0a7b9fb72b1cc">More...</a><br /></td></tr>
<tr class="separator:ga402656e718696a9df6b0a7b9fb72b1cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga4cc65f146a01d46dccf54d6f67a1ce30"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#ga4cc65f146a01d46dccf54d6f67a1ce30">adcstate_t</a> { <br />
&#160;&#160;<a class="el" href="group___a_d_c.html#gga4cc65f146a01d46dccf54d6f67a1ce30a2593f544e0e7d2bde3737b36188db7ca">ADC_UNINIT</a> = 0, 
<a class="el" href="group___a_d_c.html#gga4cc65f146a01d46dccf54d6f67a1ce30a3ce5b3b06ffd24b358cf65efdee69f30">ADC_STOP</a> = 1, 
<a class="el" href="group___a_d_c.html#gga4cc65f146a01d46dccf54d6f67a1ce30a7f2a1a2c5aece4f36847bf5cea31cd14">ADC_READY</a> = 2, 
<a class="el" href="group___a_d_c.html#gga4cc65f146a01d46dccf54d6f67a1ce30ad2e01ff8a043747e726bd8f6d42573b5">ADC_ACTIVE</a> = 3, 
<br />
&#160;&#160;<a class="el" href="group___a_d_c.html#gga4cc65f146a01d46dccf54d6f67a1ce30a90848166c82f38aa379ec0f89ca29ac8">ADC_COMPLETE</a> = 4, 
<a class="el" href="group___a_d_c.html#gga4cc65f146a01d46dccf54d6f67a1ce30a4d58af9a4142fe5fd998b80e054008c7">ADC_ERROR</a> = 5
<br />
 }</td></tr>
<tr class="memdesc:ga4cc65f146a01d46dccf54d6f67a1ce30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver state machine possible states.  <a href="group___a_d_c.html#ga4cc65f146a01d46dccf54d6f67a1ce30">More...</a><br /></td></tr>
<tr class="separator:ga4cc65f146a01d46dccf54d6f67a1ce30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga13ec955b8541fff412684213a5e24443"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#ga13ec955b8541fff412684213a5e24443">adcerror_t</a> { <a class="el" href="group___a_d_c.html#gga13ec955b8541fff412684213a5e24443a727e3dacbd48bd0d098a35b7e1a1faa6">ADC_ERR_DMAFAILURE</a> = 0, 
<a class="el" href="group___a_d_c.html#gga13ec955b8541fff412684213a5e24443a8ad340e1778ebae5153d0de8f3fdb301">ADC_ERR_OVERFLOW</a> = 1
 }</td></tr>
<tr class="memdesc:ga13ec955b8541fff412684213a5e24443"><td class="mdescLeft">&#160;</td><td class="mdescRight">Possible ADC failure causes.  <a href="group___a_d_c.html#ga13ec955b8541fff412684213a5e24443">More...</a><br /></td></tr>
<tr class="separator:ga13ec955b8541fff412684213a5e24443"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gafd645b17cf0581bcaa22c56011c775e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adcInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ADC Driver initialization. </p>
<dl class="section note"><dt>Note</dt><dd>This function is implicitly invoked by <code><a class="el" href="group___h_a_l.html#gafd89c1650df524d95aef39b8bc38170d" title="HAL initialization. ">halInit()</a></code>, there is no need to explicitly initialize the driver.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Initializer, this function just initializes an object and can be invoked before the kernel is initialized. </dd></dl>

<p>Definition at line <a class="el" href="adc_8c_source.html#l00068">68</a> of file <a class="el" href="adc_8c_source.html">adc.c</a>.</p>

<p>References <a class="el" href="group___a_d_c.html#ga2bfcc655059180451273682ca7e0068c">adc_lld_init()</a>.</p>

<p>Referenced by <a class="el" href="group___h_a_l.html#gafd89c1650df524d95aef39b8bc38170d">halInit()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_d_c_gafd645b17cf0581bcaa22c56011c775e4_cgraph.png" border="0" usemap="#group___a_d_c_gafd645b17cf0581bcaa22c56011c775e4_cgraph" alt=""/></div>
<map name="group___a_d_c_gafd645b17cf0581bcaa22c56011c775e4_cgraph" id="group___a_d_c_gafd645b17cf0581bcaa22c56011c775e4_cgraph">
<area shape="rect" id="node2" href="group___a_d_c.html#ga2bfcc655059180451273682ca7e0068c" title="Low level ADC driver initialization. " alt="" coords="112,29,196,53"/><area shape="rect" id="node3" href="group___a_d_c.html#gac7f619e304c79c17f19221d05138d405" title="Initializes the standard part of a ADCDriver structure. " alt="" coords="244,29,339,53"/><area shape="rect" id="node4" href="group__mutexes.html#gac55fe4d05aa6bbeb31594193d2e4d2b6" title="Initializes s Mutex structure. " alt="" coords="391,5,461,29"/><area shape="rect" id="node5" href="group__semaphores.html#gafe8fc6155a871074e8017efd908b2c58" title="Initializes a semaphore with the specified counter value. " alt="" coords="387,53,465,77"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gac7f619e304c79c17f19221d05138d405"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adcObjectInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *&#160;</td>
          <td class="paramname"><em>adcp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the standard part of a <code><a class="el" href="struct_a_d_c_driver.html" title="Structure representing an ADC driver. ">ADCDriver</a></code> structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">adcp</td><td>pointer to the <code><a class="el" href="struct_a_d_c_driver.html" title="Structure representing an ADC driver. ">ADCDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Initializer, this function just initializes an object and can be invoked before the kernel is initialized. </dd></dl>

<p>Definition at line <a class="el" href="adc_8c_source.html#l00080">80</a> of file <a class="el" href="adc_8c_source.html">adc.c</a>.</p>

<p>References <a class="el" href="group___a_d_c.html#gga4cc65f146a01d46dccf54d6f67a1ce30a3ce5b3b06ffd24b358cf65efdee69f30">ADC_STOP</a>, <a class="el" href="group__mutexes.html#gac55fe4d05aa6bbeb31594193d2e4d2b6">chMtxInit()</a>, <a class="el" href="group__semaphores.html#gafe8fc6155a871074e8017efd908b2c58">chSemInit()</a>, <a class="el" href="struct_a_d_c_driver.html#a18fc468f61acef56d12185ac8b35dc28">ADCDriver::config</a>, <a class="el" href="struct_a_d_c_driver.html#a2235a9a25f9ec5616e22589bdef96583">ADCDriver::depth</a>, <a class="el" href="struct_a_d_c_driver.html#a81aadd9f5e649c9ce043ec6ed72dc5aa">ADCDriver::grpp</a>, <a class="el" href="struct_a_d_c_driver.html#a510b93e0275dd0d7e3443ae5716d8f02">ADCDriver::mutex</a>, <a class="el" href="struct_a_d_c_driver.html#a80ae7b801b9645776e22e7dd40e8352f">ADCDriver::samples</a>, <a class="el" href="struct_a_d_c_driver.html#a4e1ca355fe7a3acce913c445201ec512">ADCDriver::state</a>, and <a class="el" href="struct_a_d_c_driver.html#a4cfc2865047346e0d0324329cabbdb8e">ADCDriver::thread</a>.</p>

<p>Referenced by <a class="el" href="group___a_d_c.html#ga2bfcc655059180451273682ca7e0068c">adc_lld_init()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_d_c_gac7f619e304c79c17f19221d05138d405_cgraph.png" border="0" usemap="#group___a_d_c_gac7f619e304c79c17f19221d05138d405_cgraph" alt=""/></div>
<map name="group___a_d_c_gac7f619e304c79c17f19221d05138d405_cgraph" id="group___a_d_c_gac7f619e304c79c17f19221d05138d405_cgraph">
<area shape="rect" id="node2" href="group__mutexes.html#gac55fe4d05aa6bbeb31594193d2e4d2b6" title="Initializes s Mutex structure. " alt="" coords="152,5,223,29"/><area shape="rect" id="node3" href="group__semaphores.html#gafe8fc6155a871074e8017efd908b2c58" title="Initializes a semaphore with the specified counter value. " alt="" coords="148,53,227,77"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga92f8b4434b8199323b1469e0479de7f8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adcStart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *&#160;</td>
          <td class="paramname"><em>adcp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_a_d_c_config.html">ADCConfig</a> *&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures and activates the ADC peripheral. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adcp</td><td>pointer to the <code><a class="el" href="struct_a_d_c_driver.html" title="Structure representing an ADC driver. ">ADCDriver</a></code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>pointer to the <code><a class="el" href="struct_a_d_c_config.html" title="Driver configuration structure. ">ADCConfig</a></code> object. Depending on the implementation the value can be <code>NULL</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="adc_8c_source.html#l00111">111</a> of file <a class="el" href="adc_8c_source.html">adc.c</a>.</p>

<p>References <a class="el" href="group___a_d_c.html#ga9114c26236516afddb6add35ee3251f3">adc_lld_start()</a>, <a class="el" href="group___a_d_c.html#gga4cc65f146a01d46dccf54d6f67a1ce30a7f2a1a2c5aece4f36847bf5cea31cd14">ADC_READY</a>, <a class="el" href="group___a_d_c.html#gga4cc65f146a01d46dccf54d6f67a1ce30a3ce5b3b06ffd24b358cf65efdee69f30">ADC_STOP</a>, <a class="el" href="group__debug.html#ga43d50c69eb730d0f024eb832d61f30c9">chDbgAssert</a>, <a class="el" href="group__debug.html#ga6bb6c0f97caab3a66332c8bfbf7a3844">chDbgCheck</a>, <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>, <a class="el" href="struct_a_d_c_driver.html#a18fc468f61acef56d12185ac8b35dc28">ADCDriver::config</a>, and <a class="el" href="struct_a_d_c_driver.html#a4e1ca355fe7a3acce913c445201ec512">ADCDriver::state</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_d_c_ga92f8b4434b8199323b1469e0479de7f8_cgraph.png" border="0" usemap="#group___a_d_c_ga92f8b4434b8199323b1469e0479de7f8_cgraph" alt=""/></div>
<map name="group___a_d_c_ga92f8b4434b8199323b1469e0479de7f8_cgraph" id="group___a_d_c_ga92f8b4434b8199323b1469e0479de7f8_cgraph">
<area shape="rect" id="node2" href="group___a_d_c.html#ga9114c26236516afddb6add35ee3251f3" title="Configures and activates the ADC peripheral. " alt="" coords="124,5,219,29"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga3caf934a28b65e6a5eda3e882ca06845"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adcStop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *&#160;</td>
          <td class="paramname"><em>adcp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deactivates the ADC peripheral. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adcp</td><td>pointer to the <code><a class="el" href="struct_a_d_c_driver.html" title="Structure representing an ADC driver. ">ADCDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="adc_8c_source.html#l00131">131</a> of file <a class="el" href="adc_8c_source.html">adc.c</a>.</p>

<p>References <a class="el" href="group___a_d_c.html#ga5f4152006602b187c745bb32f915d679">adc_lld_stop()</a>, <a class="el" href="group___a_d_c.html#gga4cc65f146a01d46dccf54d6f67a1ce30a7f2a1a2c5aece4f36847bf5cea31cd14">ADC_READY</a>, <a class="el" href="group___a_d_c.html#gga4cc65f146a01d46dccf54d6f67a1ce30a3ce5b3b06ffd24b358cf65efdee69f30">ADC_STOP</a>, <a class="el" href="group__debug.html#ga43d50c69eb730d0f024eb832d61f30c9">chDbgAssert</a>, <a class="el" href="group__debug.html#ga6bb6c0f97caab3a66332c8bfbf7a3844">chDbgCheck</a>, <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>, and <a class="el" href="struct_a_d_c_driver.html#a4e1ca355fe7a3acce913c445201ec512">ADCDriver::state</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_d_c_ga3caf934a28b65e6a5eda3e882ca06845_cgraph.png" border="0" usemap="#group___a_d_c_ga3caf934a28b65e6a5eda3e882ca06845_cgraph" alt=""/></div>
<map name="group___a_d_c_ga3caf934a28b65e6a5eda3e882ca06845_cgraph" id="group___a_d_c_ga3caf934a28b65e6a5eda3e882ca06845_cgraph">
<area shape="rect" id="node2" href="group___a_d_c.html#ga5f4152006602b187c745bb32f915d679" title="Deactivates the ADC peripheral. " alt="" coords="121,5,213,29"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gab01b398aa1a89578e763cdb21300aaaa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adcStartConversion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *&#160;</td>
          <td class="paramname"><em>adcp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_a_d_c_conversion_group.html">ADCConversionGroup</a> *&#160;</td>
          <td class="paramname"><em>grpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___a_d_c.html#gac232ced5da9f2b4f5d5adf499c7cb745">adcsample_t</a> *&#160;</td>
          <td class="paramname"><em>samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>depth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts an ADC conversion. </p>
<p>Starts an asynchronous conversion operation. </p><dl class="section note"><dt>Note</dt><dd>The buffer is organized as a matrix of M*N elements where M is the channels number configured into the conversion group and N is the buffer depth. The samples are sequentially written into the buffer with no gaps.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adcp</td><td>pointer to the <code><a class="el" href="struct_a_d_c_driver.html" title="Structure representing an ADC driver. ">ADCDriver</a></code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">grpp</td><td>pointer to a <code><a class="el" href="struct_a_d_c_conversion_group.html" title="Conversion group configuration structure. ">ADCConversionGroup</a></code> object </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">samples</td><td>pointer to the samples buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">depth</td><td>buffer depth (matrix rows number). The buffer depth must be one or an even number.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="adc_8c_source.html#l00159">159</a> of file <a class="el" href="adc_8c_source.html">adc.c</a>.</p>

<p>References <a class="el" href="group___a_d_c.html#ga2a8d9a86e452fd4480f22ad6b8c209de">adcStartConversionI()</a>, <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, and <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_d_c_gab01b398aa1a89578e763cdb21300aaaa_cgraph.png" border="0" usemap="#group___a_d_c_gab01b398aa1a89578e763cdb21300aaaa_cgraph" alt=""/></div>
<map name="group___a_d_c_gab01b398aa1a89578e763cdb21300aaaa_cgraph" id="group___a_d_c_gab01b398aa1a89578e763cdb21300aaaa_cgraph">
<area shape="rect" id="node2" href="group___a_d_c.html#ga2a8d9a86e452fd4480f22ad6b8c209de" title="Starts an ADC conversion. " alt="" coords="188,29,325,53"/><area shape="rect" id="node3" href="group__debug.html#ga3e4782dccbb385051e1eb01ac5b05470" title="I&#45;class functions context check. " alt="" coords="391,5,518,29"/><area shape="rect" id="node5" href="group___a_d_c.html#ga5a23ece28ce81cc00e2ddb614d656339" title="Starts an ADC conversion. " alt="" coords="373,53,536,77"/><area shape="rect" id="node4" href="group__debug.html#ga897718bcb144b5523b914633b0d824e1" title="Prints a panic message on the console and then halts the system. " alt="" coords="584,5,671,29"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga2a8d9a86e452fd4480f22ad6b8c209de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adcStartConversionI </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *&#160;</td>
          <td class="paramname"><em>adcp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_a_d_c_conversion_group.html">ADCConversionGroup</a> *&#160;</td>
          <td class="paramname"><em>grpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___a_d_c.html#gac232ced5da9f2b4f5d5adf499c7cb745">adcsample_t</a> *&#160;</td>
          <td class="paramname"><em>samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>depth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts an ADC conversion. </p>
<p>Starts an asynchronous conversion operation. </p><dl class="section post"><dt>Postcondition</dt><dd>The callbacks associated to the conversion group will be invoked on buffer fill and error events. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The buffer is organized as a matrix of M*N elements where M is the channels number configured into the conversion group and N is the buffer depth. The samples are sequentially written into the buffer with no gaps.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adcp</td><td>pointer to the <code><a class="el" href="struct_a_d_c_driver.html" title="Structure representing an ADC driver. ">ADCDriver</a></code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">grpp</td><td>pointer to a <code><a class="el" href="struct_a_d_c_conversion_group.html" title="Conversion group configuration structure. ">ADCConversionGroup</a></code> object </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">samples</td><td>pointer to the samples buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">depth</td><td>buffer depth (matrix rows number). The buffer depth must be one or an even number.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>This is an <b>I-Class</b> API, this function can be invoked from within a system lock zone by both threads and interrupt handlers. </dd></dl>

<p>Definition at line <a class="el" href="adc_8c_source.html#l00187">187</a> of file <a class="el" href="adc_8c_source.html">adc.c</a>.</p>

<p>References <a class="el" href="group___a_d_c.html#gga4cc65f146a01d46dccf54d6f67a1ce30ad2e01ff8a043747e726bd8f6d42573b5">ADC_ACTIVE</a>, <a class="el" href="group___a_d_c.html#gga4cc65f146a01d46dccf54d6f67a1ce30a90848166c82f38aa379ec0f89ca29ac8">ADC_COMPLETE</a>, <a class="el" href="group___a_d_c.html#gga4cc65f146a01d46dccf54d6f67a1ce30a4d58af9a4142fe5fd998b80e054008c7">ADC_ERROR</a>, <a class="el" href="group___a_d_c.html#ga5a23ece28ce81cc00e2ddb614d656339">adc_lld_start_conversion()</a>, <a class="el" href="group___a_d_c.html#gga4cc65f146a01d46dccf54d6f67a1ce30a7f2a1a2c5aece4f36847bf5cea31cd14">ADC_READY</a>, <a class="el" href="group__debug.html#ga43d50c69eb730d0f024eb832d61f30c9">chDbgAssert</a>, <a class="el" href="group__debug.html#ga6bb6c0f97caab3a66332c8bfbf7a3844">chDbgCheck</a>, <a class="el" href="group__debug.html#ga3e4782dccbb385051e1eb01ac5b05470">chDbgCheckClassI()</a>, <a class="el" href="struct_a_d_c_driver.html#a2235a9a25f9ec5616e22589bdef96583">ADCDriver::depth</a>, <a class="el" href="struct_a_d_c_driver.html#a81aadd9f5e649c9ce043ec6ed72dc5aa">ADCDriver::grpp</a>, <a class="el" href="struct_a_d_c_driver.html#a80ae7b801b9645776e22e7dd40e8352f">ADCDriver::samples</a>, and <a class="el" href="struct_a_d_c_driver.html#a4e1ca355fe7a3acce913c445201ec512">ADCDriver::state</a>.</p>

<p>Referenced by <a class="el" href="group___a_d_c.html#gae4f5c1e2d4283b40625a1d238bc49a7a">adcConvert()</a>, and <a class="el" href="group___a_d_c.html#gab01b398aa1a89578e763cdb21300aaaa">adcStartConversion()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_d_c_ga2a8d9a86e452fd4480f22ad6b8c209de_cgraph.png" border="0" usemap="#group___a_d_c_ga2a8d9a86e452fd4480f22ad6b8c209de_cgraph" alt=""/></div>
<map name="group___a_d_c_ga2a8d9a86e452fd4480f22ad6b8c209de_cgraph" id="group___a_d_c_ga2a8d9a86e452fd4480f22ad6b8c209de_cgraph">
<area shape="rect" id="node2" href="group___a_d_c.html#ga5a23ece28ce81cc00e2ddb614d656339" title="Starts an ADC conversion. " alt="" coords="191,5,353,29"/><area shape="rect" id="node3" href="group__debug.html#ga3e4782dccbb385051e1eb01ac5b05470" title="I&#45;class functions context check. " alt="" coords="209,53,335,77"/><area shape="rect" id="node4" href="group__debug.html#ga897718bcb144b5523b914633b0d824e1" title="Prints a panic message on the console and then halts the system. " alt="" coords="401,53,488,77"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gabce14d8f240e85715cded02c85b6585a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adcStopConversion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *&#160;</td>
          <td class="paramname"><em>adcp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops an ongoing conversion. </p>
<p>This function stops the currently ongoing conversion and returns the driver in the <code>ADC_READY</code> state. If there was no conversion being processed then the function does nothing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adcp</td><td>pointer to the <code><a class="el" href="struct_a_d_c_driver.html" title="Structure representing an ADC driver. ">ADCDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="adc_8c_source.html#l00218">218</a> of file <a class="el" href="adc_8c_source.html">adc.c</a>.</p>

<p>References <a class="el" href="group___a_d_c.html#ga875f43cdc6e6c4da14c3adbe411d68ac">_adc_reset_s</a>, <a class="el" href="group___a_d_c.html#gga4cc65f146a01d46dccf54d6f67a1ce30ad2e01ff8a043747e726bd8f6d42573b5">ADC_ACTIVE</a>, <a class="el" href="group___a_d_c.html#ga16ce41e3fdca5b04f046f1e9099f3e92">adc_lld_stop_conversion()</a>, <a class="el" href="group___a_d_c.html#gga4cc65f146a01d46dccf54d6f67a1ce30a7f2a1a2c5aece4f36847bf5cea31cd14">ADC_READY</a>, <a class="el" href="group__debug.html#ga43d50c69eb730d0f024eb832d61f30c9">chDbgAssert</a>, <a class="el" href="group__debug.html#ga6bb6c0f97caab3a66332c8bfbf7a3844">chDbgCheck</a>, <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>, <a class="el" href="struct_a_d_c_driver.html#a81aadd9f5e649c9ce043ec6ed72dc5aa">ADCDriver::grpp</a>, and <a class="el" href="struct_a_d_c_driver.html#a4e1ca355fe7a3acce913c445201ec512">ADCDriver::state</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_d_c_gabce14d8f240e85715cded02c85b6585a_cgraph.png" border="0" usemap="#group___a_d_c_gabce14d8f240e85715cded02c85b6585a_cgraph" alt=""/></div>
<map name="group___a_d_c_gabce14d8f240e85715cded02c85b6585a_cgraph" id="group___a_d_c_gabce14d8f240e85715cded02c85b6585a_cgraph">
<area shape="rect" id="node2" href="group___a_d_c.html#ga16ce41e3fdca5b04f046f1e9099f3e92" title="Stops an ongoing conversion. " alt="" coords="185,5,345,29"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga9cd46995f3c5bba708209a615478cbb1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adcStopConversionI </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *&#160;</td>
          <td class="paramname"><em>adcp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops an ongoing conversion. </p>
<p>This function stops the currently ongoing conversion and returns the driver in the <code>ADC_READY</code> state. If there was no conversion being processed then the function does nothing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adcp</td><td>pointer to the <code><a class="el" href="struct_a_d_c_driver.html" title="Structure representing an ADC driver. ">ADCDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>This is an <b>I-Class</b> API, this function can be invoked from within a system lock zone by both threads and interrupt handlers. </dd></dl>

<p>Definition at line <a class="el" href="adc_8c_source.html#l00245">245</a> of file <a class="el" href="adc_8c_source.html">adc.c</a>.</p>

<p>References <a class="el" href="group___a_d_c.html#ga9f806e3e709354c395d0fa02a91238e0">_adc_reset_i</a>, <a class="el" href="group___a_d_c.html#gga4cc65f146a01d46dccf54d6f67a1ce30ad2e01ff8a043747e726bd8f6d42573b5">ADC_ACTIVE</a>, <a class="el" href="group___a_d_c.html#gga4cc65f146a01d46dccf54d6f67a1ce30a90848166c82f38aa379ec0f89ca29ac8">ADC_COMPLETE</a>, <a class="el" href="group___a_d_c.html#ga16ce41e3fdca5b04f046f1e9099f3e92">adc_lld_stop_conversion()</a>, <a class="el" href="group___a_d_c.html#gga4cc65f146a01d46dccf54d6f67a1ce30a7f2a1a2c5aece4f36847bf5cea31cd14">ADC_READY</a>, <a class="el" href="group__debug.html#ga43d50c69eb730d0f024eb832d61f30c9">chDbgAssert</a>, <a class="el" href="group__debug.html#ga6bb6c0f97caab3a66332c8bfbf7a3844">chDbgCheck</a>, <a class="el" href="group__debug.html#ga3e4782dccbb385051e1eb01ac5b05470">chDbgCheckClassI()</a>, <a class="el" href="struct_a_d_c_driver.html#a81aadd9f5e649c9ce043ec6ed72dc5aa">ADCDriver::grpp</a>, and <a class="el" href="struct_a_d_c_driver.html#a4e1ca355fe7a3acce913c445201ec512">ADCDriver::state</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_d_c_ga9cd46995f3c5bba708209a615478cbb1_cgraph.png" border="0" usemap="#group___a_d_c_ga9cd46995f3c5bba708209a615478cbb1_cgraph" alt=""/></div>
<map name="group___a_d_c_ga9cd46995f3c5bba708209a615478cbb1_cgraph" id="group___a_d_c_ga9cd46995f3c5bba708209a615478cbb1_cgraph">
<area shape="rect" id="node2" href="group___a_d_c.html#ga16ce41e3fdca5b04f046f1e9099f3e92" title="Stops an ongoing conversion. " alt="" coords="188,5,348,29"/><area shape="rect" id="node3" href="group__debug.html#ga3e4782dccbb385051e1eb01ac5b05470" title="I&#45;class functions context check. " alt="" coords="205,53,331,77"/><area shape="rect" id="node4" href="group__debug.html#ga897718bcb144b5523b914633b0d824e1" title="Prints a panic message on the console and then halts the system. " alt="" coords="396,53,483,77"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga61ae6a7495100110e7b6fd46a6693a02"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adcAcquireBus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *&#160;</td>
          <td class="paramname"><em>adcp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gains exclusive access to the ADC peripheral. </p>
<p>This function tries to gain ownership to the ADC bus, if the bus is already being used then the invoking thread is queued. </p><dl class="section pre"><dt>Precondition</dt><dd>In order to use this function the option <code>ADC_USE_MUTUAL_EXCLUSION</code> must be enabled.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adcp</td><td>pointer to the <code><a class="el" href="struct_a_d_c_driver.html" title="Structure representing an ADC driver. ">ADCDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="adc_8c_source.html#l00315">315</a> of file <a class="el" href="adc_8c_source.html">adc.c</a>.</p>

<p>References <a class="el" href="group__debug.html#ga6bb6c0f97caab3a66332c8bfbf7a3844">chDbgCheck</a>, <a class="el" href="group__mutexes.html#gafa06b82e3496c44eb7bf31d9f1b655ba">chMtxLock()</a>, <a class="el" href="group__semaphores.html#gabc8f7e509870e9b0527a6a68fad71425">chSemWait()</a>, and <a class="el" href="struct_a_d_c_driver.html#a510b93e0275dd0d7e3443ae5716d8f02">ADCDriver::mutex</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_d_c_ga61ae6a7495100110e7b6fd46a6693a02_cgraph.png" border="0" usemap="#group___a_d_c_ga61ae6a7495100110e7b6fd46a6693a02_cgraph" alt=""/></div>
<map name="group___a_d_c_ga61ae6a7495100110e7b6fd46a6693a02_cgraph" id="group___a_d_c_ga61ae6a7495100110e7b6fd46a6693a02_cgraph">
<area shape="rect" id="node2" href="group__mutexes.html#gafa06b82e3496c44eb7bf31d9f1b655ba" title="Locks the specified mutex. " alt="" coords="162,106,241,130"/><area shape="rect" id="node9" href="group__semaphores.html#gabc8f7e509870e9b0527a6a68fad71425" title="Performs a wait operation on a semaphore. " alt="" coords="160,154,243,178"/><area shape="rect" id="node3" href="group__mutexes.html#ga2d6350c2d147d1165c359f30798205f5" title="Locks the specified mutex. " alt="" coords="293,106,379,130"/><area shape="rect" id="node4" href="group__debug.html#ga14fe880e1dbd127d46077a1d300b1167" title="S&#45;class functions context check. " alt="" coords="589,178,720,202"/><area shape="rect" id="node5" href="group__scheduler.html#ga97c1c514b755a1e71caf2f19c1ccf986" title="Puts the current thread to sleep into the specified state. " alt="" coords="429,178,541,202"/><area shape="rect" id="node6" href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298" title="Inserts a thread in the Ready List. " alt="" coords="439,34,532,58"/><area shape="rect" id="node7" href="group__internals.html#gafff11bcd31d7dc3d1a0a6c66f3fc6ec9" title="Removes a Thread from a queue and returns it. " alt="" coords="450,82,521,106"/><area shape="rect" id="node8" href="group__internals.html#ga02226b866ae704435baf2ffe259ba0b2" title="Inserts a thread into a priority ordered queue. " alt="" coords="444,130,527,154"/><area shape="rect" id="node10" href="group__semaphores.html#gaa2c0367078533e291d2e889e251d8b67" title="Performs a wait operation on a semaphore. " alt="" coords="291,178,381,202"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gad8464418eb0ad2574872e695fcf1e3a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adcReleaseBus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *&#160;</td>
          <td class="paramname"><em>adcp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Releases exclusive access to the ADC peripheral. </p>
<dl class="section pre"><dt>Precondition</dt><dd>In order to use this function the option <code>ADC_USE_MUTUAL_EXCLUSION</code> must be enabled.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adcp</td><td>pointer to the <code><a class="el" href="struct_a_d_c_driver.html" title="Structure representing an ADC driver. ">ADCDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="adc_8c_source.html#l00335">335</a> of file <a class="el" href="adc_8c_source.html">adc.c</a>.</p>

<p>References <a class="el" href="group__debug.html#ga6bb6c0f97caab3a66332c8bfbf7a3844">chDbgCheck</a>, <a class="el" href="group__mutexes.html#gae9ae07165126c9f6c0ce0b17bdb53669">chMtxUnlock()</a>, and <a class="el" href="group__semaphores.html#ga7ec0cbda23e49e2370e0b91f20baf05e">chSemSignal()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_d_c_gad8464418eb0ad2574872e695fcf1e3a7_cgraph.png" border="0" usemap="#group___a_d_c_gad8464418eb0ad2574872e695fcf1e3a7_cgraph" alt=""/></div>
<map name="group___a_d_c_gad8464418eb0ad2574872e695fcf1e3a7_cgraph" id="group___a_d_c_gad8464418eb0ad2574872e695fcf1e3a7_cgraph">
<area shape="rect" id="node2" href="group__mutexes.html#gae9ae07165126c9f6c0ce0b17bdb53669" title="Unlocks the next owned mutex in reverse lock order. " alt="" coords="165,29,256,53"/><area shape="rect" id="node7" href="group__semaphores.html#ga7ec0cbda23e49e2370e0b91f20baf05e" title="Performs a signal operation on a semaphore. " alt="" coords="163,77,259,101"/><area shape="rect" id="node3" href="group__scheduler.html#gae47a8819a21ef2d521124e76bfb37c95" title="Wakes up a thread. " alt="" coords="307,29,413,53"/><area shape="rect" id="node6" href="group__internals.html#ga042479f09357fc59befebf4dfe0e9f4a" title="Removes the first&#45;out Thread from a queue and returns it. " alt="" coords="315,77,405,101"/><area shape="rect" id="node4" href="group__debug.html#ga14fe880e1dbd127d46077a1d300b1167" title="S&#45;class functions context check. " alt="" coords="461,5,592,29"/><area shape="rect" id="node5" href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298" title="Inserts a thread in the Ready List. " alt="" coords="480,53,573,77"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gae4f5c1e2d4283b40625a1d238bc49a7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a> adcConvert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *&#160;</td>
          <td class="paramname"><em>adcp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_a_d_c_conversion_group.html">ADCConversionGroup</a> *&#160;</td>
          <td class="paramname"><em>grpp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___a_d_c.html#gac232ced5da9f2b4f5d5adf499c7cb745">adcsample_t</a> *&#160;</td>
          <td class="paramname"><em>samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>depth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs an ADC conversion. </p>
<p>Performs a synchronous conversion operation. </p><dl class="section note"><dt>Note</dt><dd>The buffer is organized as a matrix of M*N elements where M is the channels number configured into the conversion group and N is the buffer depth. The samples are sequentially written into the buffer with no gaps.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adcp</td><td>pointer to the <code><a class="el" href="struct_a_d_c_driver.html" title="Structure representing an ADC driver. ">ADCDriver</a></code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">grpp</td><td>pointer to a <code><a class="el" href="struct_a_d_c_conversion_group.html" title="Conversion group configuration structure. ">ADCConversionGroup</a></code> object </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">samples</td><td>pointer to the samples buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">depth</td><td>buffer depth (matrix rows number). The buffer depth must be one or an even number. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation result. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RDY_OK</td><td>Conversion finished. </td></tr>
    <tr><td class="paramname">RDY_RESET</td><td>The conversion has been stopped using <code>acdStopConversion()</code> or <code>acdStopConversionI()</code>, the result buffer may contain incorrect data. </td></tr>
    <tr><td class="paramname">RDY_TIMEOUT</td><td>The conversion has been stopped because an hardware error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="adc_8c_source.html#l00286">286</a> of file <a class="el" href="adc_8c_source.html">adc.c</a>.</p>

<p>References <a class="el" href="group___a_d_c.html#ga2a8d9a86e452fd4480f22ad6b8c209de">adcStartConversionI()</a>, <a class="el" href="group__debug.html#ga43d50c69eb730d0f024eb832d61f30c9">chDbgAssert</a>, <a class="el" href="group__scheduler.html#ga97c1c514b755a1e71caf2f19c1ccf986">chSchGoSleepS()</a>, <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>, <a class="el" href="group__threads.html#gaa36662628234799d205ff8c0cc6745c5">chThdSelf</a>, <a class="el" href="group__threads.html#gace00089d9d68ba83bb866396332c15d8">THD_STATE_SUSPENDED</a>, and <a class="el" href="struct_a_d_c_driver.html#a4cfc2865047346e0d0324329cabbdb8e">ADCDriver::thread</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_d_c_gae4f5c1e2d4283b40625a1d238bc49a7a_cgraph.png" border="0" usemap="#group___a_d_c_gae4f5c1e2d4283b40625a1d238bc49a7a_cgraph" alt=""/></div>
<map name="group___a_d_c_gae4f5c1e2d4283b40625a1d238bc49a7a_cgraph" id="group___a_d_c_gae4f5c1e2d4283b40625a1d238bc49a7a_cgraph">
<area shape="rect" id="node2" href="group___a_d_c.html#ga2a8d9a86e452fd4480f22ad6b8c209de" title="Starts an ADC conversion. " alt="" coords="140,53,277,77"/><area shape="rect" id="node6" href="group__scheduler.html#ga97c1c514b755a1e71caf2f19c1ccf986" title="Puts the current thread to sleep into the specified state. " alt="" coords="153,101,265,125"/><area shape="rect" id="node3" href="group___a_d_c.html#ga5a23ece28ce81cc00e2ddb614d656339" title="Starts an ADC conversion. " alt="" coords="325,5,488,29"/><area shape="rect" id="node4" href="group__debug.html#ga3e4782dccbb385051e1eb01ac5b05470" title="I&#45;class functions context check. " alt="" coords="343,53,470,77"/><area shape="rect" id="node5" href="group__debug.html#ga897718bcb144b5523b914633b0d824e1" title="Prints a panic message on the console and then halts the system. " alt="" coords="536,77,623,101"/><area shape="rect" id="node7" href="group__debug.html#ga14fe880e1dbd127d46077a1d300b1167" title="S&#45;class functions context check. " alt="" coords="341,101,472,125"/><area shape="rect" id="node8" href="group__internals.html#ga042479f09357fc59befebf4dfe0e9f4a" title="Removes the first&#45;out Thread from a queue and returns it. " alt="" coords="362,149,451,173"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga2bfcc655059180451273682ca7e0068c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adc_lld_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Low level ADC driver initialization. </p>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="adc__lld_8c_source.html#l00066">66</a> of file <a class="el" href="adc__lld_8c_source.html">adc_lld.c</a>.</p>

<p>References <a class="el" href="group___a_d_c.html#gac7f619e304c79c17f19221d05138d405">adcObjectInit()</a>.</p>

<p>Referenced by <a class="el" href="group___a_d_c.html#gafd645b17cf0581bcaa22c56011c775e4">adcInit()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___a_d_c_ga2bfcc655059180451273682ca7e0068c_cgraph.png" border="0" usemap="#group___a_d_c_ga2bfcc655059180451273682ca7e0068c_cgraph" alt=""/></div>
<map name="group___a_d_c_ga2bfcc655059180451273682ca7e0068c_cgraph" id="group___a_d_c_ga2bfcc655059180451273682ca7e0068c_cgraph">
<area shape="rect" id="node2" href="group___a_d_c.html#gac7f619e304c79c17f19221d05138d405" title="Initializes the standard part of a ADCDriver structure. " alt="" coords="137,29,232,53"/><area shape="rect" id="node3" href="group__mutexes.html#gac55fe4d05aa6bbeb31594193d2e4d2b6" title="Initializes s Mutex structure. " alt="" coords="284,5,355,29"/><area shape="rect" id="node4" href="group__semaphores.html#gafe8fc6155a871074e8017efd908b2c58" title="Initializes a semaphore with the specified counter value. " alt="" coords="280,53,359,77"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga9114c26236516afddb6add35ee3251f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adc_lld_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *&#160;</td>
          <td class="paramname"><em>adcp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures and activates the ADC peripheral. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adcp</td><td>pointer to the <code><a class="el" href="struct_a_d_c_driver.html" title="Structure representing an ADC driver. ">ADCDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="adc__lld_8c_source.html#l00081">81</a> of file <a class="el" href="adc__lld_8c_source.html">adc_lld.c</a>.</p>

<p>References <a class="el" href="group___a_d_c.html#gga4cc65f146a01d46dccf54d6f67a1ce30a3ce5b3b06ffd24b358cf65efdee69f30">ADC_STOP</a>, and <a class="el" href="struct_a_d_c_driver.html#a4e1ca355fe7a3acce913c445201ec512">ADCDriver::state</a>.</p>

<p>Referenced by <a class="el" href="group___a_d_c.html#ga92f8b4434b8199323b1469e0479de7f8">adcStart()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5f4152006602b187c745bb32f915d679"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adc_lld_stop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *&#160;</td>
          <td class="paramname"><em>adcp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deactivates the ADC peripheral. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adcp</td><td>pointer to the <code><a class="el" href="struct_a_d_c_driver.html" title="Structure representing an ADC driver. ">ADCDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="adc__lld_8c_source.html#l00102">102</a> of file <a class="el" href="adc__lld_8c_source.html">adc_lld.c</a>.</p>

<p>References <a class="el" href="group___a_d_c.html#gga4cc65f146a01d46dccf54d6f67a1ce30a7f2a1a2c5aece4f36847bf5cea31cd14">ADC_READY</a>, and <a class="el" href="struct_a_d_c_driver.html#a4e1ca355fe7a3acce913c445201ec512">ADCDriver::state</a>.</p>

<p>Referenced by <a class="el" href="group___a_d_c.html#ga3caf934a28b65e6a5eda3e882ca06845">adcStop()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5a23ece28ce81cc00e2ddb614d656339"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adc_lld_start_conversion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *&#160;</td>
          <td class="paramname"><em>adcp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts an ADC conversion. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adcp</td><td>pointer to the <code><a class="el" href="struct_a_d_c_driver.html" title="Structure representing an ADC driver. ">ADCDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="adc__lld_8c_source.html#l00123">123</a> of file <a class="el" href="adc__lld_8c_source.html">adc_lld.c</a>.</p>

<p>Referenced by <a class="el" href="group___a_d_c.html#ga2a8d9a86e452fd4480f22ad6b8c209de">adcStartConversionI()</a>.</p>

</div>
</div>
<a class="anchor" id="ga16ce41e3fdca5b04f046f1e9099f3e92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adc_lld_stop_conversion </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *&#160;</td>
          <td class="paramname"><em>adcp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops an ongoing conversion. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adcp</td><td>pointer to the <code><a class="el" href="struct_a_d_c_driver.html" title="Structure representing an ADC driver. ">ADCDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="adc__lld_8c_source.html#l00135">135</a> of file <a class="el" href="adc__lld_8c_source.html">adc_lld.c</a>.</p>

<p>Referenced by <a class="el" href="group___a_d_c.html#gabce14d8f240e85715cded02c85b6585a">adcStopConversion()</a>, and <a class="el" href="group___a_d_c.html#ga9cd46995f3c5bba708209a615478cbb1">adcStopConversionI()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="gafc76205eb4ee605e94eec9edee44830b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> ADCD1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ADC1 driver identifier. </p>

<p>Definition at line <a class="el" href="adc__lld_8c_source.html#l00042">42</a> of file <a class="el" href="adc__lld_8c_source.html">adc_lld.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga39e892a4090185fbdda9bb105bc03b4f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADC_USE_WAIT&#160;&#160;&#160;<a class="el" href="group__kernel__info.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables synchronous APIs. </p>
<dl class="section note"><dt>Note</dt><dd>Disabling this option saves both code and data space. </dd></dl>

<p>Definition at line <a class="el" href="adc_8h_source.html#l00058">58</a> of file <a class="el" href="adc_8h_source.html">adc.h</a>.</p>

</div>
</div>
<a class="anchor" id="gac0893cb47e338c2dabad34b974a0a88d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADC_USE_MUTUAL_EXCLUSION&#160;&#160;&#160;<a class="el" href="group__kernel__info.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables the <code><a class="el" href="group___a_d_c.html#ga61ae6a7495100110e7b6fd46a6693a02" title="Gains exclusive access to the ADC peripheral. ">adcAcquireBus()</a></code> and <code><a class="el" href="group___a_d_c.html#gad8464418eb0ad2574872e695fcf1e3a7" title="Releases exclusive access to the ADC peripheral. ">adcReleaseBus()</a></code> APIs. </p>
<dl class="section note"><dt>Note</dt><dd>Disabling this option saves both code and data space. </dd></dl>

<p>Definition at line <a class="el" href="adc_8h_source.html#l00066">66</a> of file <a class="el" href="adc_8h_source.html">adc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga9f806e3e709354c395d0fa02a91238e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _adc_reset_i</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">adcp</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                                \</div>
<div class="line">  if ((adcp)-&gt;thread != NULL) {                                             \</div>
<div class="line">    Thread *tp = (adcp)-&gt;thread;                                            \</div>
<div class="line">    (adcp)-&gt;thread = NULL;                                                  \</div>
<div class="line">    tp-&gt;p_u.rdymsg  = <a class="code" href="group__scheduler.html#ga3a606c833796229f23adcb3f6c404a81">RDY_RESET</a>;                                            <a class="code" href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298">\</a></div>
<div class="line"><a class="code" href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298">    chSchReadyI</a>(tp);                                                        \</div>
<div class="line">  }                                                                         \</div>
<div class="line">}</div>
<div class="ttc" id="group__scheduler_html_ga3a606c833796229f23adcb3f6c404a81"><div class="ttname"><a href="group__scheduler.html#ga3a606c833796229f23adcb3f6c404a81">RDY_RESET</a></div><div class="ttdeci">#define RDY_RESET</div><div class="ttdoc">Wakeup caused by a reset condition. </div><div class="ttdef"><b>Definition:</b> <a href="chschd_8h_source.html#l00047">chschd.h:47</a></div></div>
<div class="ttc" id="group__scheduler_html_ga535d58cfb3436c8d4e4586c31c062298"><div class="ttname"><a href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298">chSchReadyI</a></div><div class="ttdeci">Thread * chSchReadyI(Thread *tp)</div><div class="ttdoc">Inserts a thread in the Ready List. </div><div class="ttdef"><b>Definition:</b> <a href="chschd_8c_source.html#l00081">chschd.c:81</a></div></div>
</div><!-- fragment -->
<p>Resumes a thread waiting for a conversion completion. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adcp</td><td>pointer to the <code><a class="el" href="struct_a_d_c_driver.html" title="Structure representing an ADC driver. ">ADCDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="adc_8h_source.html#l00112">112</a> of file <a class="el" href="adc_8h_source.html">adc.h</a>.</p>

<p>Referenced by <a class="el" href="group___a_d_c.html#ga9cd46995f3c5bba708209a615478cbb1">adcStopConversionI()</a>.</p>

</div>
</div>
<a class="anchor" id="ga875f43cdc6e6c4da14c3adbe411d68ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _adc_reset_s</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">adcp</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                                \</div>
<div class="line">  if ((adcp)-&gt;thread != NULL) {                                             \</div>
<div class="line">    Thread *tp = (adcp)-&gt;thread;                                            \</div>
<div class="line">    (adcp)-&gt;thread = NULL;                                                  <a class="code" href="group__scheduler.html#gae47a8819a21ef2d521124e76bfb37c95">\</a></div>
<div class="line"><a class="code" href="group__scheduler.html#gae47a8819a21ef2d521124e76bfb37c95">    chSchWakeupS</a>(tp, <a class="code" href="group__scheduler.html#ga3a606c833796229f23adcb3f6c404a81">RDY_RESET</a>);                                            \</div>
<div class="line">  }                                                                         \</div>
<div class="line">}</div>
<div class="ttc" id="group__scheduler_html_ga3a606c833796229f23adcb3f6c404a81"><div class="ttname"><a href="group__scheduler.html#ga3a606c833796229f23adcb3f6c404a81">RDY_RESET</a></div><div class="ttdeci">#define RDY_RESET</div><div class="ttdoc">Wakeup caused by a reset condition. </div><div class="ttdef"><b>Definition:</b> <a href="chschd_8h_source.html#l00047">chschd.h:47</a></div></div>
<div class="ttc" id="group__scheduler_html_gae47a8819a21ef2d521124e76bfb37c95"><div class="ttname"><a href="group__scheduler.html#gae47a8819a21ef2d521124e76bfb37c95">chSchWakeupS</a></div><div class="ttdeci">void chSchWakeupS(Thread *tp, msg_t msg)</div><div class="ttdoc">Wakes up a thread. </div><div class="ttdef"><b>Definition:</b> <a href="chschd_8c_source.html#l00225">chschd.c:225</a></div></div>
</div><!-- fragment -->
<p>Resumes a thread waiting for a conversion completion. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adcp</td><td>pointer to the <code><a class="el" href="struct_a_d_c_driver.html" title="Structure representing an ADC driver. ">ADCDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="adc_8h_source.html#l00128">128</a> of file <a class="el" href="adc_8h_source.html">adc.h</a>.</p>

<p>Referenced by <a class="el" href="group___a_d_c.html#gabce14d8f240e85715cded02c85b6585a">adcStopConversion()</a>.</p>

</div>
</div>
<a class="anchor" id="ga19312216fa59865ba166c14d50b3be89"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _adc_wakeup_isr</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">adcp</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                             <a class="code" href="group__system.html#gab826c6d946aa1eb839751246ea158a72">\</a></div>
<div class="line"><a class="code" href="group__system.html#gab826c6d946aa1eb839751246ea158a72">  chSysLockFromIsr</a>();                                                       \</div>
<div class="line">  if ((adcp)-&gt;thread != NULL) {                                             \</div>
<div class="line">    Thread *tp;                                                             \</div>
<div class="line">    tp = (adcp)-&gt;thread;                                                    \</div>
<div class="line">    (adcp)-&gt;thread = NULL;                                                  \</div>
<div class="line">    tp-&gt;p_u.rdymsg = <a class="code" href="group__scheduler.html#gae1c86078318e11c2fa57ee3c2ec69f61">RDY_OK</a>;                                                <a class="code" href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298">\</a></div>
<div class="line"><a class="code" href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298">    chSchReadyI</a>(tp);                                                        \</div>
<div class="line">  }                                                                         <a class="code" href="group__system.html#ga984fb4af1420b6a217714ed317224ec0">\</a></div>
<div class="line"><a class="code" href="group__system.html#ga984fb4af1420b6a217714ed317224ec0">  chSysUnlockFromIsr</a>();                                                     \</div>
<div class="line">}</div>
<div class="ttc" id="group__system_html_gab826c6d946aa1eb839751246ea158a72"><div class="ttname"><a href="group__system.html#gab826c6d946aa1eb839751246ea158a72">chSysLockFromIsr</a></div><div class="ttdeci">#define chSysLockFromIsr()</div><div class="ttdoc">Enters the kernel lock mode from within an interrupt handler. </div><div class="ttdef"><b>Definition:</b> <a href="chsys_8h_source.html#l00169">chsys.h:169</a></div></div>
<div class="ttc" id="group__system_html_ga984fb4af1420b6a217714ed317224ec0"><div class="ttname"><a href="group__system.html#ga984fb4af1420b6a217714ed317224ec0">chSysUnlockFromIsr</a></div><div class="ttdeci">#define chSysUnlockFromIsr()</div><div class="ttdoc">Leaves the kernel lock mode from within an interrupt handler. </div><div class="ttdef"><b>Definition:</b> <a href="chsys_8h_source.html#l00187">chsys.h:187</a></div></div>
<div class="ttc" id="group__scheduler_html_gae1c86078318e11c2fa57ee3c2ec69f61"><div class="ttname"><a href="group__scheduler.html#gae1c86078318e11c2fa57ee3c2ec69f61">RDY_OK</a></div><div class="ttdeci">#define RDY_OK</div><div class="ttdoc">Normal wakeup message. </div><div class="ttdef"><b>Definition:</b> <a href="chschd_8h_source.html#l00043">chschd.h:43</a></div></div>
<div class="ttc" id="group__scheduler_html_ga535d58cfb3436c8d4e4586c31c062298"><div class="ttname"><a href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298">chSchReadyI</a></div><div class="ttdeci">Thread * chSchReadyI(Thread *tp)</div><div class="ttdoc">Inserts a thread in the Ready List. </div><div class="ttdef"><b>Definition:</b> <a href="chschd_8c_source.html#l00081">chschd.c:81</a></div></div>
</div><!-- fragment -->
<p>Wakes up the waiting thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adcp</td><td>pointer to the <code><a class="el" href="struct_a_d_c_driver.html" title="Structure representing an ADC driver. ">ADCDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="adc_8h_source.html#l00143">143</a> of file <a class="el" href="adc_8h_source.html">adc.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaffbf5f3279001baf781deacbe9051aae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _adc_timeout_isr</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">adcp</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                            <a class="code" href="group__system.html#gab826c6d946aa1eb839751246ea158a72">\</a></div>
<div class="line"><a class="code" href="group__system.html#gab826c6d946aa1eb839751246ea158a72">  chSysLockFromIsr</a>();                                                       \</div>
<div class="line">  if ((adcp)-&gt;thread != NULL) {                                             \</div>
<div class="line">    Thread *tp;                                                             \</div>
<div class="line">    tp = (adcp)-&gt;thread;                                                    \</div>
<div class="line">    (adcp)-&gt;thread = NULL;                                                  \</div>
<div class="line">    tp-&gt;p_u.rdymsg = <a class="code" href="group__scheduler.html#gaf28d5427eeeb8f737cc7db495157780c">RDY_TIMEOUT</a>;                                           <a class="code" href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298">\</a></div>
<div class="line"><a class="code" href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298">    chSchReadyI</a>(tp);                                                        \</div>
<div class="line">  }                                                                         <a class="code" href="group__system.html#ga984fb4af1420b6a217714ed317224ec0">\</a></div>
<div class="line"><a class="code" href="group__system.html#ga984fb4af1420b6a217714ed317224ec0">  chSysUnlockFromIsr</a>();                                                     \</div>
<div class="line">}</div>
<div class="ttc" id="group__system_html_gab826c6d946aa1eb839751246ea158a72"><div class="ttname"><a href="group__system.html#gab826c6d946aa1eb839751246ea158a72">chSysLockFromIsr</a></div><div class="ttdeci">#define chSysLockFromIsr()</div><div class="ttdoc">Enters the kernel lock mode from within an interrupt handler. </div><div class="ttdef"><b>Definition:</b> <a href="chsys_8h_source.html#l00169">chsys.h:169</a></div></div>
<div class="ttc" id="group__system_html_ga984fb4af1420b6a217714ed317224ec0"><div class="ttname"><a href="group__system.html#ga984fb4af1420b6a217714ed317224ec0">chSysUnlockFromIsr</a></div><div class="ttdeci">#define chSysUnlockFromIsr()</div><div class="ttdoc">Leaves the kernel lock mode from within an interrupt handler. </div><div class="ttdef"><b>Definition:</b> <a href="chsys_8h_source.html#l00187">chsys.h:187</a></div></div>
<div class="ttc" id="group__scheduler_html_gaf28d5427eeeb8f737cc7db495157780c"><div class="ttname"><a href="group__scheduler.html#gaf28d5427eeeb8f737cc7db495157780c">RDY_TIMEOUT</a></div><div class="ttdeci">#define RDY_TIMEOUT</div><div class="ttdoc">Wakeup caused by a timeout condition. </div><div class="ttdef"><b>Definition:</b> <a href="chschd_8h_source.html#l00044">chschd.h:44</a></div></div>
<div class="ttc" id="group__scheduler_html_ga535d58cfb3436c8d4e4586c31c062298"><div class="ttname"><a href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298">chSchReadyI</a></div><div class="ttdeci">Thread * chSchReadyI(Thread *tp)</div><div class="ttdoc">Inserts a thread in the Ready List. </div><div class="ttdef"><b>Definition:</b> <a href="chschd_8c_source.html#l00081">chschd.c:81</a></div></div>
</div><!-- fragment -->
<p>Wakes up the waiting thread with a timeout message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adcp</td><td>pointer to the <code><a class="el" href="struct_a_d_c_driver.html" title="Structure representing an ADC driver. ">ADCDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="adc_8h_source.html#l00162">162</a> of file <a class="el" href="adc_8h_source.html">adc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga3b1a649f2ffb18b7fe4b898dd2184534"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _adc_isr_half_code</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">adcp</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                          \</div>
<div class="line">  if ((adcp)-&gt;grpp-&gt;end_cb != NULL) {                                       \</div>
<div class="line">    (adcp)-&gt;grpp-&gt;end_cb(adcp, (adcp)-&gt;samples, (adcp)-&gt;depth / 2);         \</div>
<div class="line">  }                                                                         \</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>Common ISR code, half buffer event. </p>
<p>This code handles the portable part of the ISR code:</p><ul>
<li>Callback invocation.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>This macro is meant to be used in the low level drivers implementation only.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adcp</td><td>pointer to the <code><a class="el" href="struct_a_d_c_driver.html" title="Structure representing an ADC driver. ">ADCDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="adc_8h_source.html#l00193">193</a> of file <a class="el" href="adc_8h_source.html">adc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga17ebe1e2b28ce85f91f706d124c3f0f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _adc_isr_full_code</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">adcp</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Common ISR code, full buffer event. </p>
<p>This code handles the portable part of the ISR code:</p><ul>
<li>Callback invocation.</li>
<li>Waiting thread wakeup, if any.</li>
<li>Driver state transitions.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>This macro is meant to be used in the low level drivers implementation only.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adcp</td><td>pointer to the <code><a class="el" href="struct_a_d_c_driver.html" title="Structure representing an ADC driver. ">ADCDriver</a></code> object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="adc_8h_source.html#l00213">213</a> of file <a class="el" href="adc_8h_source.html">adc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga3762831d165fcd0cbc2f021d086dfb02"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _adc_isr_error_code</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">adcp, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">err&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                    <a class="code" href="group___a_d_c.html#ga16ce41e3fdca5b04f046f1e9099f3e92">\</a></div>
<div class="line"><a class="code" href="group___a_d_c.html#ga16ce41e3fdca5b04f046f1e9099f3e92">  adc_lld_stop_conversion</a>(adcp);                                            \</div>
<div class="line">  if ((adcp)-&gt;grpp-&gt;error_cb != NULL) {                                     \</div>
<div class="line">    (adcp)-&gt;state = <a class="code" href="group___a_d_c.html#gga4cc65f146a01d46dccf54d6f67a1ce30a4d58af9a4142fe5fd998b80e054008c7">ADC_ERROR</a>;                                              \</div>
<div class="line">    (adcp)-&gt;grpp-&gt;error_cb(adcp, err);                                      \</div>
<div class="line">    if ((adcp)-&gt;state == <a class="code" href="group___a_d_c.html#gga4cc65f146a01d46dccf54d6f67a1ce30a4d58af9a4142fe5fd998b80e054008c7">ADC_ERROR</a>)                                         \</div>
<div class="line">      (adcp)-&gt;state = <a class="code" href="group___a_d_c.html#gga4cc65f146a01d46dccf54d6f67a1ce30a7f2a1a2c5aece4f36847bf5cea31cd14">ADC_READY</a>;                                            \</div>
<div class="line">  }                                                                         \</div>
<div class="line">  (adcp)-&gt;grpp = NULL;                                                      <a class="code" href="group___a_d_c.html#gaffbf5f3279001baf781deacbe9051aae">\</a></div>
<div class="line"><a class="code" href="group___a_d_c.html#gaffbf5f3279001baf781deacbe9051aae">  _adc_timeout_isr</a>(adcp);                                                   \</div>
<div class="line">}</div>
<div class="ttc" id="group___a_d_c_html_gaffbf5f3279001baf781deacbe9051aae"><div class="ttname"><a href="group___a_d_c.html#gaffbf5f3279001baf781deacbe9051aae">_adc_timeout_isr</a></div><div class="ttdeci">#define _adc_timeout_isr(adcp)</div><div class="ttdoc">Wakes up the waiting thread with a timeout message. </div><div class="ttdef"><b>Definition:</b> <a href="adc_8h_source.html#l00162">adc.h:162</a></div></div>
<div class="ttc" id="group___a_d_c_html_gga4cc65f146a01d46dccf54d6f67a1ce30a4d58af9a4142fe5fd998b80e054008c7"><div class="ttname"><a href="group___a_d_c.html#gga4cc65f146a01d46dccf54d6f67a1ce30a4d58af9a4142fe5fd998b80e054008c7">ADC_ERROR</a></div><div class="ttdef"><b>Definition:</b> <a href="adc_8h_source.html#l00091">adc.h:91</a></div></div>
<div class="ttc" id="group___a_d_c_html_ga16ce41e3fdca5b04f046f1e9099f3e92"><div class="ttname"><a href="group___a_d_c.html#ga16ce41e3fdca5b04f046f1e9099f3e92">adc_lld_stop_conversion</a></div><div class="ttdeci">void adc_lld_stop_conversion(ADCDriver *adcp)</div><div class="ttdoc">Stops an ongoing conversion. </div><div class="ttdef"><b>Definition:</b> <a href="adc__lld_8c_source.html#l00135">adc_lld.c:135</a></div></div>
<div class="ttc" id="group___a_d_c_html_gga4cc65f146a01d46dccf54d6f67a1ce30a7f2a1a2c5aece4f36847bf5cea31cd14"><div class="ttname"><a href="group___a_d_c.html#gga4cc65f146a01d46dccf54d6f67a1ce30a7f2a1a2c5aece4f36847bf5cea31cd14">ADC_READY</a></div><div class="ttdef"><b>Definition:</b> <a href="adc_8h_source.html#l00088">adc.h:88</a></div></div>
</div><!-- fragment -->
<p>Common ISR code, error event. </p>
<p>This code handles the portable part of the ISR code:</p><ul>
<li>Callback invocation.</li>
<li>Waiting thread timeout signaling, if any.</li>
<li>Driver state transitions.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>This macro is meant to be used in the low level drivers implementation only.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adcp</td><td>pointer to the <code><a class="el" href="struct_a_d_c_driver.html" title="Structure representing an ADC driver. ">ADCDriver</a></code> object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">err</td><td>platform dependent error code</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="adc_8h_source.html#l00264">264</a> of file <a class="el" href="adc_8h_source.html">adc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga1c30d87e4cabafceae44ab0edf3d76d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PLATFORM_ADC_USE_ADC1&#160;&#160;&#160;<a class="el" href="group__kernel__info.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ADC1 driver enable switch. </p>
<p>If set to <code>TRUE</code> the support for ADC1 is included. </p><dl class="section note"><dt>Note</dt><dd>The default is <code>FALSE</code>. </dd></dl>

<p>Definition at line <a class="el" href="adc__lld_8h_source.html#l00048">48</a> of file <a class="el" href="adc__lld_8h_source.html">adc_lld.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="gac232ced5da9f2b4f5d5adf499c7cb745"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint16_t <a class="el" href="group___a_d_c.html#gac232ced5da9f2b4f5d5adf499c7cb745">adcsample_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ADC sample data type. </p>

<p>Definition at line <a class="el" href="adc__lld_8h_source.html#l00063">63</a> of file <a class="el" href="adc__lld_8h_source.html">adc_lld.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga846a9eca7d0cf63206680e49deb513ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint16_t <a class="el" href="group___a_d_c.html#ga846a9eca7d0cf63206680e49deb513ec">adc_channels_num_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Channels number in a conversion group. </p>

<p>Definition at line <a class="el" href="adc__lld_8h_source.html#l00068">68</a> of file <a class="el" href="adc__lld_8h_source.html">adc_lld.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga0bef32b45158d8b26a42ee65683831a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> <a class="el" href="struct_a_d_c_driver.html">ADCDriver</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of a structure representing an ADC driver. </p>

<p>Definition at line <a class="el" href="adc__lld_8h_source.html#l00083">83</a> of file <a class="el" href="adc__lld_8h_source.html">adc_lld.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaf59779cc8853b340ff8b3aadad35c49d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* adccallback_t) (<a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *adcp, <a class="el" href="group___a_d_c.html#gac232ced5da9f2b4f5d5adf499c7cb745">adcsample_t</a> *buffer, size_t n)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ADC notification callback type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adcp</td><td>pointer to the <code><a class="el" href="struct_a_d_c_driver.html" title="Structure representing an ADC driver. ">ADCDriver</a></code> object triggering the callback </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>pointer to the most recent samples data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>number of buffer rows available starting from <code>buffer</code> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="adc__lld_8h_source.html#l00093">93</a> of file <a class="el" href="adc__lld_8h_source.html">adc_lld.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga402656e718696a9df6b0a7b9fb72b1cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* adcerrorcallback_t) (<a class="el" href="struct_a_d_c_driver.html">ADCDriver</a> *adcp, <a class="el" href="group___a_d_c.html#ga13ec955b8541fff412684213a5e24443">adcerror_t</a> err)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ADC error callback type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adcp</td><td>pointer to the <code><a class="el" href="struct_a_d_c_driver.html" title="Structure representing an ADC driver. ">ADCDriver</a></code> object triggering the callback </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">err</td><td>ADC error code </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="adc__lld_8h_source.html#l00102">102</a> of file <a class="el" href="adc__lld_8h_source.html">adc_lld.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga4cc65f146a01d46dccf54d6f67a1ce30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___a_d_c.html#ga4cc65f146a01d46dccf54d6f67a1ce30">adcstate_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Driver state machine possible states. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga4cc65f146a01d46dccf54d6f67a1ce30a2593f544e0e7d2bde3737b36188db7ca"></a>ADC_UNINIT&#160;</td><td class="fielddoc">
<p>Not initialized. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4cc65f146a01d46dccf54d6f67a1ce30a3ce5b3b06ffd24b358cf65efdee69f30"></a>ADC_STOP&#160;</td><td class="fielddoc">
<p>Stopped. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4cc65f146a01d46dccf54d6f67a1ce30a7f2a1a2c5aece4f36847bf5cea31cd14"></a>ADC_READY&#160;</td><td class="fielddoc">
<p>Ready. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4cc65f146a01d46dccf54d6f67a1ce30ad2e01ff8a043747e726bd8f6d42573b5"></a>ADC_ACTIVE&#160;</td><td class="fielddoc">
<p>Converting. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4cc65f146a01d46dccf54d6f67a1ce30a90848166c82f38aa379ec0f89ca29ac8"></a>ADC_COMPLETE&#160;</td><td class="fielddoc">
<p>Conversion complete. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga4cc65f146a01d46dccf54d6f67a1ce30a4d58af9a4142fe5fd998b80e054008c7"></a>ADC_ERROR&#160;</td><td class="fielddoc">
<p>Conversion complete. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="adc_8h_source.html#l00085">85</a> of file <a class="el" href="adc_8h_source.html">adc.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga13ec955b8541fff412684213a5e24443"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___a_d_c.html#ga13ec955b8541fff412684213a5e24443">adcerror_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Possible ADC failure causes. </p>
<dl class="section note"><dt>Note</dt><dd>Error codes are architecture dependent and should not relied upon. </dd></dl>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga13ec955b8541fff412684213a5e24443a727e3dacbd48bd0d098a35b7e1a1faa6"></a>ADC_ERR_DMAFAILURE&#160;</td><td class="fielddoc">
<p>DMA operations failure. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="gga13ec955b8541fff412684213a5e24443a8ad340e1778ebae5153d0de8f3fdb301"></a>ADC_ERR_OVERFLOW&#160;</td><td class="fielddoc">
<p>ADC overflow condition. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="adc__lld_8h_source.html#l00075">75</a> of file <a class="el" href="adc__lld_8h_source.html">adc_lld.h</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
    <li class="footer">
      <a href="http://sourceforge.net/projects/chibios">
        <img src="http://sflogo.sourceforge.net/sflogo.php?group_id=205897&amp;type=11"
             border="0" width="120" height="30"
             alt="Get ChibiOS/RT embedded RTOS at SourceForge.net. Fast,
                  secure and Free Open Source software downloads"/>
      </a>
    </li>
  </ul>
</div>
<!-- Piwik -->
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? "https://apps.sourceforge.net/piwik/chibios/" : "http://apps.sourceforge.net/piwik/chibios/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
piwik_action_name = '';
piwik_idsite = 1;
piwik_url = pkBaseURL + "piwik.php";
piwik_log(piwik_action_name, piwik_idsite, piwik_url);
</script>
<object><noscript><p><img src="http://apps.sourceforge.net/piwik/chibios/piwik.php?idsite=1" alt="piwik"/></p></noscript></object>
<!-- End Piwik Tag -->
</body>
</html>
