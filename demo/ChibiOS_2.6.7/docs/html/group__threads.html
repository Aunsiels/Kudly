<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Threads</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 92px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ChibiOS/RT<br><span id="projectnumber">2.6.7</span></div>
  </td>
  <td style="padding-left: 3em;">
<script type="text/javascript"><!--
google_ad_client = "pub-3840594581853944";
/* Documentation, bottom, 728x90, created 9/19/10 */
google_ad_slot = "1902290615";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__threads.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle">
<div class="title">Threads<div class="ingroups"><a class="el" href="group__kernel.html">Kernel</a> &raquo; <a class="el" href="group__base.html">Base Kernel Services</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for Threads:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__threads.png" border="0" alt="" usemap="#group____threads"/>
<map name="group____threads" id="group____threads">
<area shape="rect" id="node2" href="group__base.html" title="Base Kernel Services" alt="" coords="5,5,148,29"/></map>
</td></tr></table></center>
</div>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Threads related APIs and services. </p><pre class="fragment">     &lt;h2&gt;Operation mode&lt;/h2&gt;
     A thread is an abstraction of an independent instructions flow.
     In ChibiOS/RT a thread is represented by a "C" function owning
     a processor context, state informations and a dedicated stack
     area. In this scenario static variables are shared among all
     threads while automatic variables are local to the thread.&lt;br&gt;
     Operations defined for threads:
     - &lt;b&gt;Create&lt;/b&gt;, a thread is started on the specified thread
       function. This operation is available in multiple variants,
       both static and dynamic.
     - &lt;b&gt;Exit&lt;/b&gt;, a thread terminates by returning from its top
       level function or invoking a specific API, the thread can
       return a value that can be retrieved by other threads.
     - &lt;b&gt;Wait&lt;/b&gt;, a thread waits for the termination of another
       thread and retrieves its return value.
     - &lt;b&gt;Resume&lt;/b&gt;, a thread created in suspended state is started.
     - &lt;b&gt;Sleep&lt;/b&gt;, the execution of a thread is suspended for the
       specified amount of time or the specified future absolute time
       is reached.
     - &lt;b&gt;SetPriority&lt;/b&gt;, a thread changes its own priority level.
     - &lt;b&gt;Yield&lt;/b&gt;, a thread voluntarily renounces to its time slot.
     .
     The threads subsystem is implicitly included in kernel however
     some of its part may be excluded by disabling them in @p chconf.h,
     see the @p CH_USE_WAITEXIT and @p CH_USE_DYNAMIC configuration
     options.</pre> <table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_thread.html">Thread</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure representing a thread.  <a href="struct_thread.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga83ee3aef5f09a1547c8cb35360edea45"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_thread.html">Thread</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga83ee3aef5f09a1547c8cb35360edea45">_thread_init</a> (<a class="el" href="struct_thread.html">Thread</a> *tp, <a class="el" href="group__types.html#ga5f2488ba73e5969cbc0f7033735374ee">tprio_t</a> prio)</td></tr>
<tr class="memdesc:ga83ee3aef5f09a1547c8cb35360edea45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a thread structure.  <a href="#ga83ee3aef5f09a1547c8cb35360edea45">More...</a><br /></td></tr>
<tr class="separator:ga83ee3aef5f09a1547c8cb35360edea45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac6de13d4044b32d3ae9e2066b5d4c030"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_thread.html">Thread</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#gac6de13d4044b32d3ae9e2066b5d4c030">chThdCreateI</a> (void *wsp, size_t size, <a class="el" href="group__types.html#ga5f2488ba73e5969cbc0f7033735374ee">tprio_t</a> prio, <a class="el" href="group__threads.html#ga310bf068112d2ba5302bfe4ccd42b82e">tfunc_t</a> pf, void *arg)</td></tr>
<tr class="memdesc:gac6de13d4044b32d3ae9e2066b5d4c030"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new thread into a static memory area.  <a href="#gac6de13d4044b32d3ae9e2066b5d4c030">More...</a><br /></td></tr>
<tr class="separator:gac6de13d4044b32d3ae9e2066b5d4c030"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga048e588238dd336c6059133b3d0c3435"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_thread.html">Thread</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga048e588238dd336c6059133b3d0c3435">chThdCreateStatic</a> (void *wsp, size_t size, <a class="el" href="group__types.html#ga5f2488ba73e5969cbc0f7033735374ee">tprio_t</a> prio, <a class="el" href="group__threads.html#ga310bf068112d2ba5302bfe4ccd42b82e">tfunc_t</a> pf, void *arg)</td></tr>
<tr class="memdesc:ga048e588238dd336c6059133b3d0c3435"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new thread into a static memory area.  <a href="#ga048e588238dd336c6059133b3d0c3435">More...</a><br /></td></tr>
<tr class="separator:ga048e588238dd336c6059133b3d0c3435"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5a5d9388c64e4c1a3aec129d2831eefe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#ga5f2488ba73e5969cbc0f7033735374ee">tprio_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga5a5d9388c64e4c1a3aec129d2831eefe">chThdSetPriority</a> (<a class="el" href="group__types.html#ga5f2488ba73e5969cbc0f7033735374ee">tprio_t</a> newprio)</td></tr>
<tr class="memdesc:ga5a5d9388c64e4c1a3aec129d2831eefe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the running thread priority level then reschedules if necessary.  <a href="#ga5a5d9388c64e4c1a3aec129d2831eefe">More...</a><br /></td></tr>
<tr class="separator:ga5a5d9388c64e4c1a3aec129d2831eefe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2c1ce2be73cd177af7e577b282232a7d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_thread.html">Thread</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga2c1ce2be73cd177af7e577b282232a7d">chThdResume</a> (<a class="el" href="struct_thread.html">Thread</a> *tp)</td></tr>
<tr class="memdesc:ga2c1ce2be73cd177af7e577b282232a7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resumes a suspended thread.  <a href="#ga2c1ce2be73cd177af7e577b282232a7d">More...</a><br /></td></tr>
<tr class="separator:ga2c1ce2be73cd177af7e577b282232a7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7ea7371fa41598ebd523622587ce3f22"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga7ea7371fa41598ebd523622587ce3f22">chThdTerminate</a> (<a class="el" href="struct_thread.html">Thread</a> *tp)</td></tr>
<tr class="memdesc:ga7ea7371fa41598ebd523622587ce3f22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests a thread termination.  <a href="#ga7ea7371fa41598ebd523622587ce3f22">More...</a><br /></td></tr>
<tr class="separator:ga7ea7371fa41598ebd523622587ce3f22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8b10a49e2ec522a5ddecabdc453afcab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga8b10a49e2ec522a5ddecabdc453afcab">chThdSleep</a> (<a class="el" href="group__types.html#gae3e32a98d431a02106616da3071832dd">systime_t</a> time)</td></tr>
<tr class="memdesc:ga8b10a49e2ec522a5ddecabdc453afcab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Suspends the invoking thread for the specified time.  <a href="#ga8b10a49e2ec522a5ddecabdc453afcab">More...</a><br /></td></tr>
<tr class="separator:ga8b10a49e2ec522a5ddecabdc453afcab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9e6e2f8d46d415e8f0862daf0be1d984"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga9e6e2f8d46d415e8f0862daf0be1d984">chThdSleepUntil</a> (<a class="el" href="group__types.html#gae3e32a98d431a02106616da3071832dd">systime_t</a> time)</td></tr>
<tr class="memdesc:ga9e6e2f8d46d415e8f0862daf0be1d984"><td class="mdescLeft">&#160;</td><td class="mdescRight">Suspends the invoking thread until the system time arrives to the specified value.  <a href="#ga9e6e2f8d46d415e8f0862daf0be1d984">More...</a><br /></td></tr>
<tr class="separator:ga9e6e2f8d46d415e8f0862daf0be1d984"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacb0a8f22a8358487eaebab3c84b1c4a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#gacb0a8f22a8358487eaebab3c84b1c4a1">chThdYield</a> (void)</td></tr>
<tr class="memdesc:gacb0a8f22a8358487eaebab3c84b1c4a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Yields the time slot.  <a href="#gacb0a8f22a8358487eaebab3c84b1c4a1">More...</a><br /></td></tr>
<tr class="separator:gacb0a8f22a8358487eaebab3c84b1c4a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga24ab3a3a4d70214ee360867a1c3c75ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga24ab3a3a4d70214ee360867a1c3c75ac">chThdExit</a> (<a class="el" href="group__types.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a> msg)</td></tr>
<tr class="memdesc:ga24ab3a3a4d70214ee360867a1c3c75ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminates the current thread.  <a href="#ga24ab3a3a4d70214ee360867a1c3c75ac">More...</a><br /></td></tr>
<tr class="separator:ga24ab3a3a4d70214ee360867a1c3c75ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0275693521c0965a5aa3881d7f331f1a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga0275693521c0965a5aa3881d7f331f1a">chThdExitS</a> (<a class="el" href="group__types.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a> msg)</td></tr>
<tr class="memdesc:ga0275693521c0965a5aa3881d7f331f1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminates the current thread.  <a href="#ga0275693521c0965a5aa3881d7f331f1a">More...</a><br /></td></tr>
<tr class="separator:ga0275693521c0965a5aa3881d7f331f1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab1a711303711a9b5fcd284c55ec965df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#gab1a711303711a9b5fcd284c55ec965df">_thread_memfill</a> (uint8_t *startp, uint8_t *endp, uint8_t v)</td></tr>
<tr class="memdesc:gab1a711303711a9b5fcd284c55ec965df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Memory fill utility.  <a href="#gab1a711303711a9b5fcd284c55ec965df">More...</a><br /></td></tr>
<tr class="separator:gab1a711303711a9b5fcd284c55ec965df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga94a5727ecdbe0f738dfc8e1ede1c3409"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga94a5727ecdbe0f738dfc8e1ede1c3409">chThdWait</a> (<a class="el" href="struct_thread.html">Thread</a> *tp)</td></tr>
<tr class="memdesc:ga94a5727ecdbe0f738dfc8e1ede1c3409"><td class="mdescLeft">&#160;</td><td class="mdescRight">Blocks the execution of the invoking thread until the specified thread terminates then the exit code is returned.  <a href="#ga94a5727ecdbe0f738dfc8e1ede1c3409">More...</a><br /></td></tr>
<tr class="separator:ga94a5727ecdbe0f738dfc8e1ede1c3409"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Thread states</h2></td></tr>
<tr class="memitem:ga1f7b83c73a5b850a3f33bddbdb024fb3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga1f7b83c73a5b850a3f33bddbdb024fb3">THD_STATE_READY</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:ga1f7b83c73a5b850a3f33bddbdb024fb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waiting on the ready list.  <a href="#ga1f7b83c73a5b850a3f33bddbdb024fb3">More...</a><br /></td></tr>
<tr class="separator:ga1f7b83c73a5b850a3f33bddbdb024fb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga247c4d33e862f51e90df9a602175f80b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga247c4d33e862f51e90df9a602175f80b">THD_STATE_CURRENT</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:ga247c4d33e862f51e90df9a602175f80b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Currently running.  <a href="#ga247c4d33e862f51e90df9a602175f80b">More...</a><br /></td></tr>
<tr class="separator:ga247c4d33e862f51e90df9a602175f80b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gace00089d9d68ba83bb866396332c15d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#gace00089d9d68ba83bb866396332c15d8">THD_STATE_SUSPENDED</a>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:gace00089d9d68ba83bb866396332c15d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Created in suspended state.  <a href="#gace00089d9d68ba83bb866396332c15d8">More...</a><br /></td></tr>
<tr class="separator:gace00089d9d68ba83bb866396332c15d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad0b81cae859c0a6bc6a0d2036aa8e272"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#gad0b81cae859c0a6bc6a0d2036aa8e272">THD_STATE_WTSEM</a>&#160;&#160;&#160;3</td></tr>
<tr class="memdesc:gad0b81cae859c0a6bc6a0d2036aa8e272"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waiting on a semaphore.  <a href="#gad0b81cae859c0a6bc6a0d2036aa8e272">More...</a><br /></td></tr>
<tr class="separator:gad0b81cae859c0a6bc6a0d2036aa8e272"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac18de5096ff3c841e69672cab0868cdf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#gac18de5096ff3c841e69672cab0868cdf">THD_STATE_WTMTX</a>&#160;&#160;&#160;4</td></tr>
<tr class="memdesc:gac18de5096ff3c841e69672cab0868cdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waiting on a mutex.  <a href="#gac18de5096ff3c841e69672cab0868cdf">More...</a><br /></td></tr>
<tr class="separator:gac18de5096ff3c841e69672cab0868cdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga286c5b1a6459d654d5794fc17e93c939"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga286c5b1a6459d654d5794fc17e93c939">THD_STATE_WTCOND</a>&#160;&#160;&#160;5</td></tr>
<tr class="memdesc:ga286c5b1a6459d654d5794fc17e93c939"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waiting on a condition variable.  <a href="#ga286c5b1a6459d654d5794fc17e93c939">More...</a><br /></td></tr>
<tr class="separator:ga286c5b1a6459d654d5794fc17e93c939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b56c4f78480669018aea61711430048"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga1b56c4f78480669018aea61711430048">THD_STATE_SLEEPING</a>&#160;&#160;&#160;6</td></tr>
<tr class="memdesc:ga1b56c4f78480669018aea61711430048"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waiting in <code><a class="el" href="group__threads.html#ga8b10a49e2ec522a5ddecabdc453afcab" title="Suspends the invoking thread for the specified time. ">chThdSleep()</a></code> or <code><a class="el" href="group__threads.html#ga9e6e2f8d46d415e8f0862daf0be1d984" title="Suspends the invoking thread until the system time arrives to the specified value. ">chThdSleepUntil()</a></code>.  <a href="#ga1b56c4f78480669018aea61711430048">More...</a><br /></td></tr>
<tr class="separator:ga1b56c4f78480669018aea61711430048"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf726245829b74db3a77a5f4bcc17bf67"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#gaf726245829b74db3a77a5f4bcc17bf67">THD_STATE_WTEXIT</a>&#160;&#160;&#160;7</td></tr>
<tr class="memdesc:gaf726245829b74db3a77a5f4bcc17bf67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waiting in <code><a class="el" href="group__threads.html#ga94a5727ecdbe0f738dfc8e1ede1c3409" title="Blocks the execution of the invoking thread until the specified thread terminates then the exit code ...">chThdWait()</a></code>.  <a href="#gaf726245829b74db3a77a5f4bcc17bf67">More...</a><br /></td></tr>
<tr class="separator:gaf726245829b74db3a77a5f4bcc17bf67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd5f28475be26c300aa3444b9bad8feb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#gacd5f28475be26c300aa3444b9bad8feb">THD_STATE_WTOREVT</a>&#160;&#160;&#160;8</td></tr>
<tr class="memdesc:gacd5f28475be26c300aa3444b9bad8feb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waiting for an event.  <a href="#gacd5f28475be26c300aa3444b9bad8feb">More...</a><br /></td></tr>
<tr class="separator:gacd5f28475be26c300aa3444b9bad8feb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1227eb701b7ecaa8e8cd03edeeb79a92"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga1227eb701b7ecaa8e8cd03edeeb79a92">THD_STATE_WTANDEVT</a>&#160;&#160;&#160;9</td></tr>
<tr class="memdesc:ga1227eb701b7ecaa8e8cd03edeeb79a92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waiting for several events.  <a href="#ga1227eb701b7ecaa8e8cd03edeeb79a92">More...</a><br /></td></tr>
<tr class="separator:ga1227eb701b7ecaa8e8cd03edeeb79a92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac1ef7f400c8679cae9225f939b32eced"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#gac1ef7f400c8679cae9225f939b32eced">THD_STATE_SNDMSGQ</a>&#160;&#160;&#160;10</td></tr>
<tr class="memdesc:gac1ef7f400c8679cae9225f939b32eced"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sending a message, in queue.  <a href="#gac1ef7f400c8679cae9225f939b32eced">More...</a><br /></td></tr>
<tr class="separator:gac1ef7f400c8679cae9225f939b32eced"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaff813590802bfd53cbf0560b680b89f5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#gaff813590802bfd53cbf0560b680b89f5">THD_STATE_SNDMSG</a>&#160;&#160;&#160;11</td></tr>
<tr class="memdesc:gaff813590802bfd53cbf0560b680b89f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sent a message, waiting answer.  <a href="#gaff813590802bfd53cbf0560b680b89f5">More...</a><br /></td></tr>
<tr class="separator:gaff813590802bfd53cbf0560b680b89f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf46c55b4468f0dad5cd0b3ef73e1be26"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#gaf46c55b4468f0dad5cd0b3ef73e1be26">THD_STATE_WTMSG</a>&#160;&#160;&#160;12</td></tr>
<tr class="memdesc:gaf46c55b4468f0dad5cd0b3ef73e1be26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waiting for a message.  <a href="#gaf46c55b4468f0dad5cd0b3ef73e1be26">More...</a><br /></td></tr>
<tr class="separator:gaf46c55b4468f0dad5cd0b3ef73e1be26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga79bc4e5eab706a80d99f2f0f60275a04"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga79bc4e5eab706a80d99f2f0f60275a04">THD_STATE_WTQUEUE</a>&#160;&#160;&#160;13</td></tr>
<tr class="memdesc:ga79bc4e5eab706a80d99f2f0f60275a04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Waiting on an I/O queue.  <a href="#ga79bc4e5eab706a80d99f2f0f60275a04">More...</a><br /></td></tr>
<tr class="separator:ga79bc4e5eab706a80d99f2f0f60275a04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga10583a3a3fb4c62693bb08796f8d13ae"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga10583a3a3fb4c62693bb08796f8d13ae">THD_STATE_FINAL</a>&#160;&#160;&#160;14</td></tr>
<tr class="memdesc:ga10583a3a3fb4c62693bb08796f8d13ae"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="struct_thread.html" title="Structure representing a thread. ">Thread</a> terminated.  <a href="#ga10583a3a3fb4c62693bb08796f8d13ae">More...</a><br /></td></tr>
<tr class="separator:ga10583a3a3fb4c62693bb08796f8d13ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga98eacce076e85df9e6d922bae1397d25"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga98eacce076e85df9e6d922bae1397d25">THD_STATE_NAMES</a></td></tr>
<tr class="memdesc:ga98eacce076e85df9e6d922bae1397d25"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="struct_thread.html" title="Structure representing a thread. ">Thread</a> states as array of strings.  <a href="#ga98eacce076e85df9e6d922bae1397d25">More...</a><br /></td></tr>
<tr class="separator:ga98eacce076e85df9e6d922bae1397d25"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Thread flags and attributes</h2></td></tr>
<tr class="memitem:ga03fc66bb40f45829816cd4e8353fead2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga03fc66bb40f45829816cd4e8353fead2">THD_MEM_MODE_MASK</a>&#160;&#160;&#160;3</td></tr>
<tr class="memdesc:ga03fc66bb40f45829816cd4e8353fead2"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="struct_thread.html" title="Structure representing a thread. ">Thread</a> memory mode mask.  <a href="#ga03fc66bb40f45829816cd4e8353fead2">More...</a><br /></td></tr>
<tr class="separator:ga03fc66bb40f45829816cd4e8353fead2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga222e36a338ac4048b1da998f112771ea"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga222e36a338ac4048b1da998f112771ea">THD_MEM_MODE_STATIC</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:ga222e36a338ac4048b1da998f112771ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Static thread.  <a href="#ga222e36a338ac4048b1da998f112771ea">More...</a><br /></td></tr>
<tr class="separator:ga222e36a338ac4048b1da998f112771ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga706ca53f21d35623480e8e5a239c3fcb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga706ca53f21d35623480e8e5a239c3fcb">THD_MEM_MODE_HEAP</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:ga706ca53f21d35623480e8e5a239c3fcb"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="struct_thread.html" title="Structure representing a thread. ">Thread</a> allocated from a Memory Heap.  <a href="#ga706ca53f21d35623480e8e5a239c3fcb">More...</a><br /></td></tr>
<tr class="separator:ga706ca53f21d35623480e8e5a239c3fcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70a7c2fa69d7ca90e6f191c2ebd8cc6f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga70a7c2fa69d7ca90e6f191c2ebd8cc6f">THD_MEM_MODE_MEMPOOL</a>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:ga70a7c2fa69d7ca90e6f191c2ebd8cc6f"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="struct_thread.html" title="Structure representing a thread. ">Thread</a> allocated from a Memory Pool.  <a href="#ga70a7c2fa69d7ca90e6f191c2ebd8cc6f">More...</a><br /></td></tr>
<tr class="separator:ga70a7c2fa69d7ca90e6f191c2ebd8cc6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga756a0e7dec9a4d374b6b9e913c5adf81"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga756a0e7dec9a4d374b6b9e913c5adf81">THD_TERMINATE</a>&#160;&#160;&#160;4</td></tr>
<tr class="memdesc:ga756a0e7dec9a4d374b6b9e913c5adf81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Termination requested flag.  <a href="#ga756a0e7dec9a4d374b6b9e913c5adf81">More...</a><br /></td></tr>
<tr class="separator:ga756a0e7dec9a4d374b6b9e913c5adf81"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Macro Functions</h2></td></tr>
<tr class="memitem:gaa36662628234799d205ff8c0cc6745c5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#gaa36662628234799d205ff8c0cc6745c5">chThdSelf</a>()&#160;&#160;&#160;<a class="el" href="group__scheduler.html#ga1a5fddde56420e8accd0c09c1abb32a7">currp</a></td></tr>
<tr class="memdesc:gaa36662628234799d205ff8c0cc6745c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a pointer to the current <code><a class="el" href="struct_thread.html" title="Structure representing a thread. ">Thread</a></code>.  <a href="#gaa36662628234799d205ff8c0cc6745c5">More...</a><br /></td></tr>
<tr class="separator:gaa36662628234799d205ff8c0cc6745c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac71903de6268d886ff58022854b8b6dd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#gac71903de6268d886ff58022854b8b6dd">chThdGetPriority</a>()&#160;&#160;&#160;(<a class="el" href="group__scheduler.html#ga1a5fddde56420e8accd0c09c1abb32a7">currp</a>-&gt;p_prio)</td></tr>
<tr class="memdesc:gac71903de6268d886ff58022854b8b6dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current thread priority.  <a href="#gac71903de6268d886ff58022854b8b6dd">More...</a><br /></td></tr>
<tr class="separator:gac71903de6268d886ff58022854b8b6dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga51797affddb3451bafdf2a9585d77def"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga51797affddb3451bafdf2a9585d77def">chThdGetTicks</a>(tp)&#160;&#160;&#160;((tp)-&gt;p_time)</td></tr>
<tr class="memdesc:ga51797affddb3451bafdf2a9585d77def"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of ticks consumed by the specified thread.  <a href="#ga51797affddb3451bafdf2a9585d77def">More...</a><br /></td></tr>
<tr class="separator:ga51797affddb3451bafdf2a9585d77def"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga44ea29c71507ec19cf668de199fcbcca"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga44ea29c71507ec19cf668de199fcbcca">chThdLS</a>()&#160;&#160;&#160;(void *)(<a class="el" href="group__scheduler.html#ga1a5fddde56420e8accd0c09c1abb32a7">currp</a> + 1)</td></tr>
<tr class="memdesc:ga44ea29c71507ec19cf668de199fcbcca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the pointer to the <code><a class="el" href="struct_thread.html" title="Structure representing a thread. ">Thread</a></code> local storage area, if any.  <a href="#ga44ea29c71507ec19cf668de199fcbcca">More...</a><br /></td></tr>
<tr class="separator:ga44ea29c71507ec19cf668de199fcbcca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91fad809cfc40e5e989b5bc893741f30"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga91fad809cfc40e5e989b5bc893741f30">chThdTerminated</a>(tp)&#160;&#160;&#160;((tp)-&gt;p_state == <a class="el" href="group__threads.html#ga10583a3a3fb4c62693bb08796f8d13ae">THD_STATE_FINAL</a>)</td></tr>
<tr class="memdesc:ga91fad809cfc40e5e989b5bc893741f30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verifies if the specified thread is in the <code>THD_STATE_FINAL</code> state.  <a href="#ga91fad809cfc40e5e989b5bc893741f30">More...</a><br /></td></tr>
<tr class="separator:ga91fad809cfc40e5e989b5bc893741f30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5591a9f97ff77b40bd5fc29f16f12a6b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga5591a9f97ff77b40bd5fc29f16f12a6b">chThdShouldTerminate</a>()&#160;&#160;&#160;(<a class="el" href="group__scheduler.html#ga1a5fddde56420e8accd0c09c1abb32a7">currp</a>-&gt;p_flags &amp; <a class="el" href="group__threads.html#ga756a0e7dec9a4d374b6b9e913c5adf81">THD_TERMINATE</a>)</td></tr>
<tr class="memdesc:ga5591a9f97ff77b40bd5fc29f16f12a6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verifies if the current thread has a termination request pending.  <a href="#ga5591a9f97ff77b40bd5fc29f16f12a6b">More...</a><br /></td></tr>
<tr class="separator:ga5591a9f97ff77b40bd5fc29f16f12a6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaca27314f95f0b691d5a83a017157fd09"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#gaca27314f95f0b691d5a83a017157fd09">chThdResumeI</a>(tp)&#160;&#160;&#160;<a class="el" href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298">chSchReadyI</a>(tp)</td></tr>
<tr class="memdesc:gaca27314f95f0b691d5a83a017157fd09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resumes a thread created with <code><a class="el" href="group__threads.html#gac6de13d4044b32d3ae9e2066b5d4c030" title="Creates a new thread into a static memory area. ">chThdCreateI()</a></code>.  <a href="#gaca27314f95f0b691d5a83a017157fd09">More...</a><br /></td></tr>
<tr class="separator:gaca27314f95f0b691d5a83a017157fd09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga851dc0c4ac72885bf09feebdef4673ac"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga851dc0c4ac72885bf09feebdef4673ac">chThdSleepS</a>(time)&#160;&#160;&#160;<a class="el" href="group__scheduler.html#ga306e564f678c1a39139639490c77e78b">chSchGoSleepTimeoutS</a>(<a class="el" href="group__threads.html#ga1b56c4f78480669018aea61711430048">THD_STATE_SLEEPING</a>, time)</td></tr>
<tr class="memdesc:ga851dc0c4ac72885bf09feebdef4673ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Suspends the invoking thread for the specified time.  <a href="#ga851dc0c4ac72885bf09feebdef4673ac">More...</a><br /></td></tr>
<tr class="separator:ga851dc0c4ac72885bf09feebdef4673ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5fc3d014124e558bc59c423a74668c8d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga5fc3d014124e558bc59c423a74668c8d">chThdSleepSeconds</a>(sec)&#160;&#160;&#160;<a class="el" href="group__threads.html#ga8b10a49e2ec522a5ddecabdc453afcab">chThdSleep</a>(<a class="el" href="group__time.html#gab64090e53ca84e2179acbbf61aa9c71f">S2ST</a>(sec))</td></tr>
<tr class="memdesc:ga5fc3d014124e558bc59c423a74668c8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delays the invoking thread for the specified number of seconds.  <a href="#ga5fc3d014124e558bc59c423a74668c8d">More...</a><br /></td></tr>
<tr class="separator:ga5fc3d014124e558bc59c423a74668c8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5aebc25e053a0094714abce4cad9f56f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga5aebc25e053a0094714abce4cad9f56f">chThdSleepMilliseconds</a>(msec)&#160;&#160;&#160;<a class="el" href="group__threads.html#ga8b10a49e2ec522a5ddecabdc453afcab">chThdSleep</a>(<a class="el" href="group__time.html#ga0a7e7bc6c6225bd9652c4f1567f1bc6a">MS2ST</a>(msec))</td></tr>
<tr class="memdesc:ga5aebc25e053a0094714abce4cad9f56f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delays the invoking thread for the specified number of milliseconds.  <a href="#ga5aebc25e053a0094714abce4cad9f56f">More...</a><br /></td></tr>
<tr class="separator:ga5aebc25e053a0094714abce4cad9f56f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga596f4015871a919694911bc50ba8bd94"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga596f4015871a919694911bc50ba8bd94">chThdSleepMicroseconds</a>(usec)&#160;&#160;&#160;<a class="el" href="group__threads.html#ga8b10a49e2ec522a5ddecabdc453afcab">chThdSleep</a>(<a class="el" href="group__time.html#ga093b2a96d7a52eb5988739fff1b5a995">US2ST</a>(usec))</td></tr>
<tr class="memdesc:ga596f4015871a919694911bc50ba8bd94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delays the invoking thread for the specified number of microseconds.  <a href="#ga596f4015871a919694911bc50ba8bd94">More...</a><br /></td></tr>
<tr class="separator:ga596f4015871a919694911bc50ba8bd94"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga310bf068112d2ba5302bfe4ccd42b82e"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="group__types.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__threads.html#ga310bf068112d2ba5302bfe4ccd42b82e">tfunc_t</a>) (void *)</td></tr>
<tr class="memdesc:ga310bf068112d2ba5302bfe4ccd42b82e"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="struct_thread.html" title="Structure representing a thread. ">Thread</a> function.  <a href="#ga310bf068112d2ba5302bfe4ccd42b82e">More...</a><br /></td></tr>
<tr class="separator:ga310bf068112d2ba5302bfe4ccd42b82e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga83ee3aef5f09a1547c8cb35360edea45"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_thread.html">Thread</a> * _thread_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_thread.html">Thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#ga5f2488ba73e5969cbc0f7033735374ee">tprio_t</a>&#160;</td>
          <td class="paramname"><em>prio</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a thread structure. </p>
<dl class="section note"><dt>Note</dt><dd>This is an internal functions, do not use it in application code.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tp</td><td>pointer to the thread </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">prio</td><td>the priority level for the new thread </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The same thread pointer passed as parameter.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="chthreads_8c_source.html#l00076">76</a> of file <a class="el" href="chthreads_8c_source.html">chthreads.c</a>.</p>

<p>References <a class="el" href="group__config.html#ga3c6800242611cf244a38c4a870e8515a">CH_TIME_QUANTUM</a>, <a class="el" href="group__internals.html#gaaef72a9005ecd65e7b5c22e95ad82388">list_init</a>, <a class="el" href="struct_thread.html#aa571d2963bd8100fa210715dc5669522">Thread::p_epending</a>, <a class="el" href="struct_thread.html#a1e044ddc7521288d6fb473756a214d23">Thread::p_flags</a>, <a class="el" href="struct_thread.html#a282cb59bdbe00fcdf9741c47b735fa1f">Thread::p_msgqueue</a>, <a class="el" href="struct_thread.html#a3ae80b4b3de4c7a23c542ca251e1f017">Thread::p_mtxlist</a>, <a class="el" href="struct_thread.html#a88e4683740e56d7ca15c7cca907cdbbb">Thread::p_name</a>, <a class="el" href="struct_thread.html#a72464b9bc1c0593c0526ace866c97512">Thread::p_preempt</a>, <a class="el" href="struct_thread.html#ae60cc22956f4c19965cb94045333aa9c">Thread::p_prio</a>, <a class="el" href="struct_thread.html#a38de11dd7f8cdcfbc45b2c467f400fe8">Thread::p_realprio</a>, <a class="el" href="struct_thread.html#af86d1da435197d113bc42fe8139a21c5">Thread::p_refs</a>, <a class="el" href="struct_thread.html#a3c3e9d6abccb62c3a5fab6ef043a391f">Thread::p_state</a>, <a class="el" href="struct_thread.html#a9d7548336cfa13ca65436a3b0a9a00af">Thread::p_stklimit</a>, <a class="el" href="struct_thread.html#a723aab9bf515e789c3d9ea81f9dbd6a0">Thread::p_time</a>, <a class="el" href="struct_thread.html#ad1088bc1f9970cc102dc28000134e9ab">Thread::p_waiting</a>, <a class="el" href="group__internals.html#ga6d19d0f3ff1fa599b6d9783dec180451">queue_init</a>, <a class="el" href="group__registry.html#ga365d4805b1329b068d9211b680f43388">REG_INSERT</a>, <a class="el" href="group__threads.html#ga222e36a338ac4048b1da998f112771ea">THD_MEM_MODE_STATIC</a>, <a class="el" href="group__threads.html#gace00089d9d68ba83bb866396332c15d8">THD_STATE_SUSPENDED</a>, and <a class="el" href="group__config.html#gaeb57466a9200b8c073ac96a3f1a9c34c">THREAD_EXT_INIT_HOOK</a>.</p>

<p>Referenced by <a class="el" href="group__system.html#gafe2c7de6567e98e487e009e81e3be10b">chSysInit()</a>, and <a class="el" href="group__threads.html#gac6de13d4044b32d3ae9e2066b5d4c030">chThdCreateI()</a>.</p>

</div>
</div>
<a class="anchor" id="gac6de13d4044b32d3ae9e2066b5d4c030"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_thread.html">Thread</a> * chThdCreateI </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>wsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#ga5f2488ba73e5969cbc0f7033735374ee">tprio_t</a>&#160;</td>
          <td class="paramname"><em>prio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__threads.html#ga310bf068112d2ba5302bfe4ccd42b82e">tfunc_t</a>&#160;</td>
          <td class="paramname"><em>pf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new thread into a static memory area. </p>
<p>The new thread is initialized but not inserted in the ready list, the initial state is <code>THD_STATE_SUSPENDED</code>. </p><dl class="section post"><dt>Postcondition</dt><dd>The initialized thread can be subsequently started by invoking <code><a class="el" href="group__threads.html#ga2c1ce2be73cd177af7e577b282232a7d" title="Resumes a suspended thread. ">chThdResume()</a></code>, <code><a class="el" href="group__threads.html#gaca27314f95f0b691d5a83a017157fd09" title="Resumes a thread created with chThdCreateI(). ">chThdResumeI()</a></code> or <code><a class="el" href="group__scheduler.html#gae47a8819a21ef2d521124e76bfb37c95" title="Wakes up a thread. ">chSchWakeupS()</a></code> depending on the execution context. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>A thread can terminate by calling <code><a class="el" href="group__threads.html#ga24ab3a3a4d70214ee360867a1c3c75ac" title="Terminates the current thread. ">chThdExit()</a></code> or by simply returning from its main function. </dd>
<dd>
Threads created using this function do not obey to the <code>CH_DBG_FILL_THREADS</code> debug option because it would keep the kernel locked for too much time.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">wsp</td><td>pointer to a working area dedicated to the thread stack </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>size of the working area </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">prio</td><td>the priority level for the new thread </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pf</td><td>the thread function </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>an argument passed to the thread function. It can be <code>NULL</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The pointer to the <code><a class="el" href="struct_thread.html" title="Structure representing a thread. ">Thread</a></code> structure allocated for the thread into the working space area.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>This is an <b>I-Class</b> API, this function can be invoked from within a system lock zone by both threads and interrupt handlers. </dd></dl>

<p>Definition at line <a class="el" href="chthreads_8c_source.html#l00157">157</a> of file <a class="el" href="chthreads_8c_source.html">chthreads.c</a>.</p>

<p>References <a class="el" href="group__threads.html#ga83ee3aef5f09a1547c8cb35360edea45">_thread_init()</a>, <a class="el" href="group__debug.html#ga6bb6c0f97caab3a66332c8bfbf7a3844">chDbgCheck</a>, <a class="el" href="group__debug.html#ga3e4782dccbb385051e1eb01ac5b05470">chDbgCheckClassI()</a>, <a class="el" href="group__scheduler.html#ga0621c307e30868052b802fbc821297e8">HIGHPRIO</a>, <a class="el" href="group__core.html#gaf5777aa68e4c4786b577953c7237a95d">SETUP_CONTEXT</a>, and <a class="el" href="group__core.html#gaf7a83c1c8bde96b77299c36dc598d33d">THD_WA_SIZE</a>.</p>

<p>Referenced by <a class="el" href="group__dynamic__threads.html#gad17d7c7fbbe8cec74473e1a1e6002d49">chThdCreateFromHeap()</a>, <a class="el" href="group__dynamic__threads.html#ga5cb2e30c7917aa04361db480629c9e40">chThdCreateFromMemoryPool()</a>, and <a class="el" href="group__threads.html#ga048e588238dd336c6059133b3d0c3435">chThdCreateStatic()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__threads_gac6de13d4044b32d3ae9e2066b5d4c030_cgraph.png" border="0" usemap="#group__threads_gac6de13d4044b32d3ae9e2066b5d4c030_cgraph" alt=""/></div>
<map name="group__threads_gac6de13d4044b32d3ae9e2066b5d4c030_cgraph" id="group__threads_gac6de13d4044b32d3ae9e2066b5d4c030_cgraph">
<area shape="rect" id="node2" href="group__threads.html#ga83ee3aef5f09a1547c8cb35360edea45" title="Initializes a thread structure. " alt="" coords="170,5,258,29"/><area shape="rect" id="node3" href="group__debug.html#ga3e4782dccbb385051e1eb01ac5b05470" title="I&#45;class functions context check. " alt="" coords="151,53,277,77"/><area shape="rect" id="node4" href="group__debug.html#ga897718bcb144b5523b914633b0d824e1" title="Prints a panic message on the console and then halts the system. " alt="" coords="325,53,412,77"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga048e588238dd336c6059133b3d0c3435"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_thread.html">Thread</a> * chThdCreateStatic </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>wsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#ga5f2488ba73e5969cbc0f7033735374ee">tprio_t</a>&#160;</td>
          <td class="paramname"><em>prio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__threads.html#ga310bf068112d2ba5302bfe4ccd42b82e">tfunc_t</a>&#160;</td>
          <td class="paramname"><em>pf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new thread into a static memory area. </p>
<dl class="section note"><dt>Note</dt><dd>A thread can terminate by calling <code><a class="el" href="group__threads.html#ga24ab3a3a4d70214ee360867a1c3c75ac" title="Terminates the current thread. ">chThdExit()</a></code> or by simply returning from its main function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">wsp</td><td>pointer to a working area dedicated to the thread stack </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>size of the working area </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">prio</td><td>the priority level for the new thread </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pf</td><td>the thread function </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">arg</td><td>an argument passed to the thread function. It can be <code>NULL</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The pointer to the <code><a class="el" href="struct_thread.html" title="Structure representing a thread. ">Thread</a></code> structure allocated for the thread into the working space area.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="chthreads_8c_source.html#l00187">187</a> of file <a class="el" href="chthreads_8c_source.html">chthreads.c</a>.</p>

<p>References <a class="el" href="group__threads.html#gab1a711303711a9b5fcd284c55ec965df">_thread_memfill()</a>, <a class="el" href="group__debug.html#ga9d41149f69524d4f5f001c59e85b149d">CH_STACK_FILL_VALUE</a>, <a class="el" href="group__debug.html#ga720f460210dd2d51b3790b7327d36321">CH_THREAD_FILL_VALUE</a>, <a class="el" href="group__scheduler.html#gae47a8819a21ef2d521124e76bfb37c95">chSchWakeupS()</a>, <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>, <a class="el" href="group__threads.html#gac6de13d4044b32d3ae9e2066b5d4c030">chThdCreateI()</a>, and <a class="el" href="group__scheduler.html#gae1c86078318e11c2fa57ee3c2ec69f61">RDY_OK</a>.</p>

<p>Referenced by <a class="el" href="group__system.html#gafe2c7de6567e98e487e009e81e3be10b">chSysInit()</a>, <a class="el" href="group___s_h_e_l_l.html#ga0f40c7957c4569daf53d5ebbb05e217f">shellCreateStatic()</a>, and <a class="el" href="classchibios__rt_1_1_base_static_thread.html#acc93553ba49f4a994b4007160d6030fc">chibios_rt::BaseStaticThread&lt; N &gt;::start()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__threads_ga048e588238dd336c6059133b3d0c3435_cgraph.png" border="0" usemap="#group__threads_ga048e588238dd336c6059133b3d0c3435_cgraph" alt=""/></div>
<map name="group__threads_ga048e588238dd336c6059133b3d0c3435_cgraph" id="group__threads_ga048e588238dd336c6059133b3d0c3435_cgraph">
<area shape="rect" id="node2" href="group__threads.html#gab1a711303711a9b5fcd284c55ec965df" title="Memory fill utility. " alt="" coords="180,5,293,29"/><area shape="rect" id="node3" href="group__scheduler.html#gae47a8819a21ef2d521124e76bfb37c95" title="Wakes up a thread. " alt="" coords="183,53,290,77"/><area shape="rect" id="node8" href="group__threads.html#gac6de13d4044b32d3ae9e2066b5d4c030" title="Creates a new thread into a static memory area. " alt="" coords="188,103,285,127"/><area shape="rect" id="node4" href="group__debug.html#ga14fe880e1dbd127d46077a1d300b1167" title="S&#45;class functions context check. " alt="" coords="483,5,613,29"/><area shape="rect" id="node6" href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298" title="Inserts a thread in the Ready List. " alt="" coords="341,53,435,77"/><area shape="rect" id="node5" href="group__debug.html#ga897718bcb144b5523b914633b0d824e1" title="Prints a panic message on the console and then halts the system. " alt="" coords="661,29,748,53"/><area shape="rect" id="node7" href="group__debug.html#ga3e4782dccbb385051e1eb01ac5b05470" title="I&#45;class functions context check. " alt="" coords="485,53,611,77"/><area shape="rect" id="node9" href="group__threads.html#ga83ee3aef5f09a1547c8cb35360edea45" title="Initializes a thread structure. " alt="" coords="344,152,432,176"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga5a5d9388c64e4c1a3aec129d2831eefe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#ga5f2488ba73e5969cbc0f7033735374ee">tprio_t</a> chThdSetPriority </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga5f2488ba73e5969cbc0f7033735374ee">tprio_t</a>&#160;</td>
          <td class="paramname"><em>newprio</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes the running thread priority level then reschedules if necessary. </p>
<dl class="section note"><dt>Note</dt><dd>The function returns the real thread priority regardless of the current priority that could be higher than the real priority because the priority inheritance mechanism.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">newprio</td><td>the new priority level of the running thread </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The old priority level.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="chthreads_8c_source.html#l00217">217</a> of file <a class="el" href="chthreads_8c_source.html">chthreads.c</a>.</p>

<p>References <a class="el" href="group__debug.html#ga6bb6c0f97caab3a66332c8bfbf7a3844">chDbgCheck</a>, <a class="el" href="group__scheduler.html#ga4e38b4bee3d2330f6a0f1cdb7660af20">chSchRescheduleS()</a>, <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>, <a class="el" href="group__scheduler.html#ga1a5fddde56420e8accd0c09c1abb32a7">currp</a>, and <a class="el" href="group__scheduler.html#ga0621c307e30868052b802fbc821297e8">HIGHPRIO</a>.</p>

<p>Referenced by <a class="el" href="group___l_w_i_p___t_h_r_e_a_d.html#ga8ecc2f3b6187f6dcccd0e6be80b404f1">lwip_thread()</a>, and <a class="el" href="classchibios__rt_1_1_base_thread.html#a9dec0ae438de5aee5adcfd1dde50949c">chibios_rt::BaseThread::setPriority()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__threads_ga5a5d9388c64e4c1a3aec129d2831eefe_cgraph.png" border="0" usemap="#group__threads_ga5a5d9388c64e4c1a3aec129d2831eefe_cgraph" alt=""/></div>
<map name="group__threads_ga5a5d9388c64e4c1a3aec129d2831eefe_cgraph" id="group__threads_ga5a5d9388c64e4c1a3aec129d2831eefe_cgraph">
<area shape="rect" id="node2" href="group__scheduler.html#ga4e38b4bee3d2330f6a0f1cdb7660af20" title="Performs a reschedule if a higher priority thread is runnable. " alt="" coords="168,29,297,53"/><area shape="rect" id="node3" href="group__debug.html#ga14fe880e1dbd127d46077a1d300b1167" title="S&#45;class functions context check. " alt="" coords="365,5,496,29"/><area shape="rect" id="node5" href="group__scheduler.html#ga6827a67e839462e65b5765ef15709c97" title="Switches to the first thread on the runnable queue. " alt="" coords="345,53,516,77"/><area shape="rect" id="node4" href="group__debug.html#ga897718bcb144b5523b914633b0d824e1" title="Prints a panic message on the console and then halts the system. " alt="" coords="565,5,652,29"/><area shape="rect" id="node6" href="group__internals.html#ga042479f09357fc59befebf4dfe0e9f4a" title="Removes the first&#45;out Thread from a queue and returns it. " alt="" coords="564,53,653,77"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga2c1ce2be73cd177af7e577b282232a7d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_thread.html">Thread</a> * chThdResume </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_thread.html">Thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resumes a suspended thread. </p>
<dl class="section pre"><dt>Precondition</dt><dd>The specified thread pointer must refer to an initialized thread in the <code>THD_STATE_SUSPENDED</code> state. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>The specified thread is immediately started or put in the ready list depending on the relative priority levels. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Use this function to start threads created with <code><a class="el" href="group__threads.html#gac6de13d4044b32d3ae9e2066b5d4c030" title="Creates a new thread into a static memory area. ">chThdCreateI()</a></code>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tp</td><td>pointer to the thread </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The pointer to the thread.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="chthreads_8c_source.html#l00250">250</a> of file <a class="el" href="chthreads_8c_source.html">chthreads.c</a>.</p>

<p>References <a class="el" href="group__debug.html#ga43d50c69eb730d0f024eb832d61f30c9">chDbgAssert</a>, <a class="el" href="group__scheduler.html#gae47a8819a21ef2d521124e76bfb37c95">chSchWakeupS()</a>, <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>, <a class="el" href="struct_thread.html#a3c3e9d6abccb62c3a5fab6ef043a391f">Thread::p_state</a>, <a class="el" href="group__scheduler.html#gae1c86078318e11c2fa57ee3c2ec69f61">RDY_OK</a>, and <a class="el" href="group__threads.html#gace00089d9d68ba83bb866396332c15d8">THD_STATE_SUSPENDED</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__threads_ga2c1ce2be73cd177af7e577b282232a7d_cgraph.png" border="0" usemap="#group__threads_ga2c1ce2be73cd177af7e577b282232a7d_cgraph" alt=""/></div>
<map name="group__threads_ga2c1ce2be73cd177af7e577b282232a7d_cgraph" id="group__threads_ga2c1ce2be73cd177af7e577b282232a7d_cgraph">
<area shape="rect" id="node2" href="group__scheduler.html#gae47a8819a21ef2d521124e76bfb37c95" title="Wakes up a thread. " alt="" coords="156,29,263,53"/><area shape="rect" id="node3" href="group__debug.html#ga14fe880e1dbd127d46077a1d300b1167" title="S&#45;class functions context check. " alt="" coords="452,5,583,29"/><area shape="rect" id="node5" href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298" title="Inserts a thread in the Ready List. " alt="" coords="311,53,404,77"/><area shape="rect" id="node4" href="group__debug.html#ga897718bcb144b5523b914633b0d824e1" title="Prints a panic message on the console and then halts the system. " alt="" coords="631,29,717,53"/><area shape="rect" id="node6" href="group__debug.html#ga3e4782dccbb385051e1eb01ac5b05470" title="I&#45;class functions context check. " alt="" coords="454,53,581,77"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga7ea7371fa41598ebd523622587ce3f22"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void chThdTerminate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_thread.html">Thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Requests a thread termination. </p>
<dl class="section pre"><dt>Precondition</dt><dd>The target thread must be written to invoke periodically <code><a class="el" href="group__threads.html#ga5591a9f97ff77b40bd5fc29f16f12a6b" title="Verifies if the current thread has a termination request pending. ">chThdShouldTerminate()</a></code> and terminate cleanly if it returns <code>TRUE</code>. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>The specified thread will terminate after detecting the termination condition.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tp</td><td>pointer to the thread</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="chthreads_8c_source.html#l00273">273</a> of file <a class="el" href="chthreads_8c_source.html">chthreads.c</a>.</p>

<p>References <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>, <a class="el" href="struct_thread.html#a1e044ddc7521288d6fb473756a214d23">Thread::p_flags</a>, and <a class="el" href="group__threads.html#ga756a0e7dec9a4d374b6b9e913c5adf81">THD_TERMINATE</a>.</p>

<p>Referenced by <a class="el" href="classchibios__rt_1_1_thread_reference.html#aeff6b29df6d10e918edc89d876c7b498">chibios_rt::ThreadReference::requestTerminate()</a>, and <a class="el" href="group__test.html#ga9415896a22ab615391028ec0852bc678">test_terminate_threads()</a>.</p>

</div>
</div>
<a class="anchor" id="ga8b10a49e2ec522a5ddecabdc453afcab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void chThdSleep </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#gae3e32a98d431a02106616da3071832dd">systime_t</a>&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Suspends the invoking thread for the specified time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>the delay in system ticks, the special values are handled as follow:<ul>
<li><em>TIME_INFINITE</em> the thread enters an infinite sleep state.</li>
<li><em>TIME_IMMEDIATE</em> this value is not allowed.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="chthreads_8c_source.html#l00292">292</a> of file <a class="el" href="chthreads_8c_source.html">chthreads.c</a>.</p>

<p>References <a class="el" href="group__debug.html#ga6bb6c0f97caab3a66332c8bfbf7a3844">chDbgCheck</a>, <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>, <a class="el" href="group__threads.html#ga851dc0c4ac72885bf09feebdef4673ac">chThdSleepS</a>, and <a class="el" href="group__scheduler.html#gad1ac15e9e5fc17810a94a779257f3d29">TIME_IMMEDIATE</a>.</p>

<p>Referenced by <a class="el" href="classchibios__rt_1_1_base_thread.html#a663e43c294c7f61e50a10072ef293754">chibios_rt::BaseThread::sleep()</a>, and <a class="el" href="group__test.html#gac067dd7ee03b2c56d4d26ce9815ed3f7">test_wait_tick()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9e6e2f8d46d415e8f0862daf0be1d984"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void chThdSleepUntil </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#gae3e32a98d431a02106616da3071832dd">systime_t</a>&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Suspends the invoking thread until the system time arrives to the specified value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>absolute system time</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="chthreads_8c_source.html#l00309">309</a> of file <a class="el" href="chthreads_8c_source.html">chthreads.c</a>.</p>

<p>References <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>, <a class="el" href="group__threads.html#ga851dc0c4ac72885bf09feebdef4673ac">chThdSleepS</a>, and <a class="el" href="group__time.html#ga137c8f67c450f34416a786d169be90e2">chTimeNow</a>.</p>

<p>Referenced by <a class="el" href="classchibios__rt_1_1_base_thread.html#aeeaca4fa4bd0f83d13f3387f7c605744">chibios_rt::BaseThread::sleepUntil()</a>.</p>

</div>
</div>
<a class="anchor" id="gacb0a8f22a8358487eaebab3c84b1c4a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void chThdYield </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Yields the time slot. </p>
<p>Yields the CPU control to the next thread in the ready list with equal priority, if any.</p>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="chthreads_8c_source.html#l00324">324</a> of file <a class="el" href="chthreads_8c_source.html">chthreads.c</a>.</p>

<p>References <a class="el" href="group__scheduler.html#ga8fd763c1a004a010fc13575578edefbd">chSchDoYieldS</a>, <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, and <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>.</p>

<p>Referenced by <a class="el" href="classchibios__rt_1_1_base_thread.html#a67570b23e339b0773007f4e4229696d8">chibios_rt::BaseThread::yield()</a>.</p>

</div>
</div>
<a class="anchor" id="ga24ab3a3a4d70214ee360867a1c3c75ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void chThdExit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a>&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Terminates the current thread. </p>
<p>The thread goes in the <code>THD_STATE_FINAL</code> state holding the specified exit status code, other threads can retrieve the exit status code by invoking the function <code><a class="el" href="group__threads.html#ga94a5727ecdbe0f738dfc8e1ede1c3409" title="Blocks the execution of the invoking thread until the specified thread terminates then the exit code ...">chThdWait()</a></code>. </p><dl class="section post"><dt>Postcondition</dt><dd>Eventual code after this function will never be executed, this function never returns. The compiler has no way to know this so do not assume that the compiler would remove the dead code.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>thread exit code</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="chthreads_8c_source.html#l00345">345</a> of file <a class="el" href="chthreads_8c_source.html">chthreads.c</a>.</p>

<p>References <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, and <a class="el" href="group__threads.html#ga0275693521c0965a5aa3881d7f331f1a">chThdExitS()</a>.</p>

<p>Referenced by <a class="el" href="classchibios__rt_1_1_base_thread.html#ae7d688f9cebe186311c228f6940b271c">chibios_rt::BaseThread::exit()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__threads_ga24ab3a3a4d70214ee360867a1c3c75ac_cgraph.png" border="0" usemap="#group__threads_ga24ab3a3a4d70214ee360867a1c3c75ac_cgraph" alt=""/></div>
<map name="group__threads_ga24ab3a3a4d70214ee360867a1c3c75ac_cgraph" id="group__threads_ga24ab3a3a4d70214ee360867a1c3c75ac_cgraph">
<area shape="rect" id="node2" href="group__threads.html#ga0275693521c0965a5aa3881d7f331f1a" title="Terminates the current thread. " alt="" coords="129,53,213,77"/><area shape="rect" id="node3" href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298" title="Inserts a thread in the Ready List. " alt="" coords="271,5,364,29"/><area shape="rect" id="node5" href="group__internals.html#gad9aa523aebdaeefa3cc4a311bc210e8a" title="Pops a Thread from the top of a stack list and returns it. " alt="" coords="273,53,361,77"/><area shape="rect" id="node6" href="group__scheduler.html#ga97c1c514b755a1e71caf2f19c1ccf986" title="Puts the current thread to sleep into the specified state. " alt="" coords="261,101,373,125"/><area shape="rect" id="node4" href="group__debug.html#ga3e4782dccbb385051e1eb01ac5b05470" title="I&#45;class functions context check. " alt="" coords="423,5,550,29"/><area shape="rect" id="node7" href="group__debug.html#ga14fe880e1dbd127d46077a1d300b1167" title="S&#45;class functions context check. " alt="" coords="421,77,552,101"/><area shape="rect" id="node8" href="group__internals.html#ga042479f09357fc59befebf4dfe0e9f4a" title="Removes the first&#45;out Thread from a queue and returns it. " alt="" coords="442,125,531,149"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga0275693521c0965a5aa3881d7f331f1a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void chThdExitS </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__types.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a>&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Terminates the current thread. </p>
<p>The thread goes in the <code>THD_STATE_FINAL</code> state holding the specified exit status code, other threads can retrieve the exit status code by invoking the function <code><a class="el" href="group__threads.html#ga94a5727ecdbe0f738dfc8e1ede1c3409" title="Blocks the execution of the invoking thread until the specified thread terminates then the exit code ...">chThdWait()</a></code>. </p><dl class="section post"><dt>Postcondition</dt><dd>Eventual code after this function will never be executed, this function never returns. The compiler has no way to know this so do not assume that the compiler would remove the dead code.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>thread exit code</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>This is an <b>S-Class</b> API, this function can be invoked from within a system lock zone by threads only. </dd></dl>

<p>Definition at line <a class="el" href="chthreads_8c_source.html#l00366">366</a> of file <a class="el" href="chthreads_8c_source.html">chthreads.c</a>.</p>

<p>References <a class="el" href="group__debug.html#ga43d50c69eb730d0f024eb832d61f30c9">chDbgAssert</a>, <a class="el" href="group__scheduler.html#ga97c1c514b755a1e71caf2f19c1ccf986">chSchGoSleepS()</a>, <a class="el" href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298">chSchReadyI()</a>, <a class="el" href="group__scheduler.html#ga1a5fddde56420e8accd0c09c1abb32a7">currp</a>, <a class="el" href="struct_thread.html#addbf4614b204bdc2a3480c434cf7baaf">Thread::exitcode</a>, <a class="el" href="group__kernel__info.html#gaa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, <a class="el" href="group__internals.html#gad9aa523aebdaeefa3cc4a311bc210e8a">list_remove()</a>, <a class="el" href="group__internals.html#ga8f6bea56a53acc44758fe61c98d68a4e">notempty</a>, <a class="el" href="struct_thread.html#a1e044ddc7521288d6fb473756a214d23">Thread::p_flags</a>, <a class="el" href="struct_thread.html#a72cd0424b6098ca241fac1f74d21b56a">Thread::p_u</a>, <a class="el" href="struct_thread.html#ad1088bc1f9970cc102dc28000134e9ab">Thread::p_waiting</a>, <a class="el" href="group__registry.html#ga472c6eb9a86e5963f452aa78719c92da">REG_REMOVE</a>, <a class="el" href="group__threads.html#ga03fc66bb40f45829816cd4e8353fead2">THD_MEM_MODE_MASK</a>, <a class="el" href="group__threads.html#ga222e36a338ac4048b1da998f112771ea">THD_MEM_MODE_STATIC</a>, <a class="el" href="group__threads.html#ga10583a3a3fb4c62693bb08796f8d13ae">THD_STATE_FINAL</a>, and <a class="el" href="group__config.html#gab8f241a87da52027625c9cc3d8403ebb">THREAD_EXT_EXIT_HOOK</a>.</p>

<p>Referenced by <a class="el" href="group__threads.html#ga24ab3a3a4d70214ee360867a1c3c75ac">chThdExit()</a>, <a class="el" href="classchibios__rt_1_1_base_thread.html#afa3ff57733f9a369e7e0928a1ba1d050">chibios_rt::BaseThread::exitS()</a>, and <a class="el" href="group___s_h_e_l_l.html#ga9dde095294784d8cb0ef7516201a9ef9">shellExit()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__threads_ga0275693521c0965a5aa3881d7f331f1a_cgraph.png" border="0" usemap="#group__threads_ga0275693521c0965a5aa3881d7f331f1a_cgraph" alt=""/></div>
<map name="group__threads_ga0275693521c0965a5aa3881d7f331f1a_cgraph" id="group__threads_ga0275693521c0965a5aa3881d7f331f1a_cgraph">
<area shape="rect" id="node2" href="group__scheduler.html#ga97c1c514b755a1e71caf2f19c1ccf986" title="Puts the current thread to sleep into the specified state. " alt="" coords="137,53,249,77"/><area shape="rect" id="node6" href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298" title="Inserts a thread in the Ready List. " alt="" coords="147,101,240,125"/><area shape="rect" id="node8" href="group__internals.html#gad9aa523aebdaeefa3cc4a311bc210e8a" title="Pops a Thread from the top of a stack list and returns it. " alt="" coords="149,149,237,173"/><area shape="rect" id="node3" href="group__debug.html#ga14fe880e1dbd127d46077a1d300b1167" title="S&#45;class functions context check. " alt="" coords="297,5,428,29"/><area shape="rect" id="node5" href="group__internals.html#ga042479f09357fc59befebf4dfe0e9f4a" title="Removes the first&#45;out Thread from a queue and returns it. " alt="" coords="318,53,407,77"/><area shape="rect" id="node4" href="group__debug.html#ga897718bcb144b5523b914633b0d824e1" title="Prints a panic message on the console and then halts the system. " alt="" coords="476,53,563,77"/><area shape="rect" id="node7" href="group__debug.html#ga3e4782dccbb385051e1eb01ac5b05470" title="I&#45;class functions context check. " alt="" coords="299,101,426,125"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gab1a711303711a9b5fcd284c55ec965df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _thread_memfill </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>startp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>endp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Memory fill utility. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">startp</td><td>first address to fill </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">endp</td><td>last address to fill +1 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">v</td><td>filler value</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="chthreads_8c_source.html#l00126">126</a> of file <a class="el" href="chthreads_8c_source.html">chthreads.c</a>.</p>

<p>Referenced by <a class="el" href="group__dynamic__threads.html#gad17d7c7fbbe8cec74473e1a1e6002d49">chThdCreateFromHeap()</a>, <a class="el" href="group__dynamic__threads.html#ga5cb2e30c7917aa04361db480629c9e40">chThdCreateFromMemoryPool()</a>, and <a class="el" href="group__threads.html#ga048e588238dd336c6059133b3d0c3435">chThdCreateStatic()</a>.</p>

</div>
</div>
<a class="anchor" id="ga94a5727ecdbe0f738dfc8e1ede1c3409"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a> chThdWait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_thread.html">Thread</a> *&#160;</td>
          <td class="paramname"><em>tp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Blocks the execution of the invoking thread until the specified thread terminates then the exit code is returned. </p>
<p>This function waits for the specified thread to terminate then decrements its reference counter, if the counter reaches zero then the thread working area is returned to the proper allocator.<br />
 The memory used by the exited thread is handled in different ways depending on the API that spawned the thread:</p><ul>
<li>If the thread was spawned by <code><a class="el" href="group__threads.html#ga048e588238dd336c6059133b3d0c3435" title="Creates a new thread into a static memory area. ">chThdCreateStatic()</a></code> or by <code><a class="el" href="group__threads.html#gac6de13d4044b32d3ae9e2066b5d4c030" title="Creates a new thread into a static memory area. ">chThdCreateI()</a></code> then nothing happens and the thread working area is not released or modified in any way. This is the default, totally static, behavior.</li>
<li>If the thread was spawned by <code><a class="el" href="group__dynamic__threads.html#gad17d7c7fbbe8cec74473e1a1e6002d49" title="Creates a new thread allocating the memory from the heap. ">chThdCreateFromHeap()</a></code> then the working area is returned to the system heap.</li>
<li>If the thread was spawned by <code><a class="el" href="group__dynamic__threads.html#ga5cb2e30c7917aa04361db480629c9e40" title="Creates a new thread allocating the memory from the specified memory pool. ">chThdCreateFromMemoryPool()</a></code> then the working area is returned to the owning memory pool.</li>
</ul>
<dl class="section pre"><dt>Precondition</dt><dd>The configuration option <code>CH_USE_WAITEXIT</code> must be enabled in order to use this function. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Enabling <code><a class="el" href="group__threads.html#ga94a5727ecdbe0f738dfc8e1ede1c3409" title="Blocks the execution of the invoking thread until the specified thread terminates then the exit code ...">chThdWait()</a></code> requires 2-4 (depending on the architecture) extra bytes in the <code><a class="el" href="struct_thread.html" title="Structure representing a thread. ">Thread</a></code> structure. </dd>
<dd>
After invoking <code><a class="el" href="group__threads.html#ga94a5727ecdbe0f738dfc8e1ede1c3409" title="Blocks the execution of the invoking thread until the specified thread terminates then the exit code ...">chThdWait()</a></code> the thread pointer becomes invalid and must not be used as parameter for further system calls. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>If <code>CH_USE_DYNAMIC</code> is not specified this function just waits for the thread termination, no memory allocators are involved.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tp</td><td>pointer to the thread </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The exit code from the terminated thread.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="chthreads_8c_source.html#l00420">420</a> of file <a class="el" href="chthreads_8c_source.html">chthreads.c</a>.</p>

<p>References <a class="el" href="group__debug.html#ga43d50c69eb730d0f024eb832d61f30c9">chDbgAssert</a>, <a class="el" href="group__debug.html#ga6bb6c0f97caab3a66332c8bfbf7a3844">chDbgCheck</a>, <a class="el" href="group__scheduler.html#ga97c1c514b755a1e71caf2f19c1ccf986">chSchGoSleepS()</a>, <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>, <a class="el" href="group__dynamic__threads.html#gaa22f80040cf192015be4607f31a0ac80">chThdRelease()</a>, <a class="el" href="group__scheduler.html#ga1a5fddde56420e8accd0c09c1abb32a7">currp</a>, <a class="el" href="struct_thread.html#addbf4614b204bdc2a3480c434cf7baaf">Thread::exitcode</a>, <a class="el" href="group__internals.html#ga5818ce2d363d36402baece614b06e41b">list_insert()</a>, <a class="el" href="struct_thread.html#af86d1da435197d113bc42fe8139a21c5">Thread::p_refs</a>, <a class="el" href="struct_thread.html#a3c3e9d6abccb62c3a5fab6ef043a391f">Thread::p_state</a>, <a class="el" href="struct_thread.html#a72cd0424b6098ca241fac1f74d21b56a">Thread::p_u</a>, <a class="el" href="struct_thread.html#ad1088bc1f9970cc102dc28000134e9ab">Thread::p_waiting</a>, <a class="el" href="group__threads.html#ga10583a3a3fb4c62693bb08796f8d13ae">THD_STATE_FINAL</a>, and <a class="el" href="group__threads.html#gaf726245829b74db3a77a5f4bcc17bf67">THD_STATE_WTEXIT</a>.</p>

<p>Referenced by <a class="el" href="group__test.html#ga361d9d2685d79754206ae8af370a303c">test_wait_threads()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__threads_ga94a5727ecdbe0f738dfc8e1ede1c3409_cgraph.png" border="0" usemap="#group__threads_ga94a5727ecdbe0f738dfc8e1ede1c3409_cgraph" alt=""/></div>
<map name="group__threads_ga94a5727ecdbe0f738dfc8e1ede1c3409_cgraph" id="group__threads_ga94a5727ecdbe0f738dfc8e1ede1c3409_cgraph">
<area shape="rect" id="node2" href="group__scheduler.html#ga97c1c514b755a1e71caf2f19c1ccf986" title="Puts the current thread to sleep into the specified state. " alt="" coords="132,53,244,77"/><area shape="rect" id="node6" href="group__dynamic__threads.html#gaa22f80040cf192015be4607f31a0ac80" title="Releases a reference to a thread object. " alt="" coords="137,101,239,125"/><area shape="rect" id="node10" href="group__internals.html#ga5818ce2d363d36402baece614b06e41b" title="Pushes a Thread on top of a stack list. " alt="" coords="149,149,227,173"/><area shape="rect" id="node3" href="group__debug.html#ga14fe880e1dbd127d46077a1d300b1167" title="S&#45;class functions context check. " alt="" coords="292,5,423,29"/><area shape="rect" id="node5" href="group__internals.html#ga042479f09357fc59befebf4dfe0e9f4a" title="Removes the first&#45;out Thread from a queue and returns it. " alt="" coords="313,53,402,77"/><area shape="rect" id="node4" href="group__debug.html#ga897718bcb144b5523b914633b0d824e1" title="Prints a panic message on the console and then halts the system. " alt="" coords="471,5,557,29"/><area shape="rect" id="node7" href="group__heaps.html#ga0fc553df0138f02e0b233be91e413c79" title="Frees a previously allocated memory block. " alt="" coords="313,101,401,125"/><area shape="rect" id="node8" href="group__pools.html#ga978f8d038e8e981bf9e5a104b81c6cb6" title="Releases an object into a memory pool. " alt="" coords="316,149,399,173"/><area shape="rect" id="node9" href="group__pools.html#gab5c6c04fd14fbeee2183ca955371c515" title="Releases an object into a memory pool. " alt="" coords="471,149,557,173"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga1f7b83c73a5b850a3f33bddbdb024fb3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THD_STATE_READY&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waiting on the ready list. </p>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00043">43</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

<p>Referenced by <a class="el" href="group__mutexes.html#ga2d6350c2d147d1165c359f30798205f5">chMtxLockS()</a>, <a class="el" href="group__scheduler.html#ga6827a67e839462e65b5765ef15709c97">chSchDoRescheduleAhead()</a>, and <a class="el" href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298">chSchReadyI()</a>.</p>

</div>
</div>
<a class="anchor" id="ga247c4d33e862f51e90df9a602175f80b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THD_STATE_CURRENT&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Currently running. </p>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00044">44</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

<p>Referenced by <a class="el" href="group__mutexes.html#ga2d6350c2d147d1165c359f30798205f5">chMtxLockS()</a>, <a class="el" href="group__scheduler.html#ga6827a67e839462e65b5765ef15709c97">chSchDoRescheduleAhead()</a>, <a class="el" href="group__scheduler.html#ga00ba2b2d1831c7d7821f9be234750404">chSchDoRescheduleBehind()</a>, <a class="el" href="group__scheduler.html#ga97c1c514b755a1e71caf2f19c1ccf986">chSchGoSleepS()</a>, <a class="el" href="group__scheduler.html#gae47a8819a21ef2d521124e76bfb37c95">chSchWakeupS()</a>, and <a class="el" href="group__system.html#gafe2c7de6567e98e487e009e81e3be10b">chSysInit()</a>.</p>

</div>
</div>
<a class="anchor" id="gace00089d9d68ba83bb866396332c15d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THD_STATE_SUSPENDED&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Created in suspended state. </p>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00045">45</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

<p>Referenced by <a class="el" href="group__threads.html#ga83ee3aef5f09a1547c8cb35360edea45">_thread_init()</a>, <a class="el" href="group___a_d_c.html#gae4f5c1e2d4283b40625a1d238bc49a7a">adcConvert()</a>, <a class="el" href="group__threads.html#ga2c1ce2be73cd177af7e577b282232a7d">chThdResume()</a>, <a class="el" href="classchibios__rt_1_1_thread_reference.html#a3f70d02ab3ec6f64a3a6a130fda4c8af">chibios_rt::ThreadReference::suspend()</a>, and <a class="el" href="classchibios__rt_1_1_thread_reference.html#aa52d7a830b1516fe1e4b0d74a43e2580">chibios_rt::ThreadReference::suspendS()</a>.</p>

</div>
</div>
<a class="anchor" id="gad0b81cae859c0a6bc6a0d2036aa8e272"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THD_STATE_WTSEM&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waiting on a semaphore. </p>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00046">46</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

<p>Referenced by <a class="el" href="group__mutexes.html#ga2d6350c2d147d1165c359f30798205f5">chMtxLockS()</a>, <a class="el" href="group__semaphores.html#ga0dc7b4339506de346d67b4560b271e44">chSemSignalWait()</a>, <a class="el" href="group__semaphores.html#gaa2c0367078533e291d2e889e251d8b67">chSemWaitS()</a>, and <a class="el" href="group__semaphores.html#ga924ec5d191bb8debe8727ae4dd5d6d03">chSemWaitTimeoutS()</a>.</p>

</div>
</div>
<a class="anchor" id="gac18de5096ff3c841e69672cab0868cdf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THD_STATE_WTMTX&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waiting on a mutex. </p>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00047">47</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

<p>Referenced by <a class="el" href="group__mutexes.html#ga2d6350c2d147d1165c359f30798205f5">chMtxLockS()</a>.</p>

</div>
</div>
<a class="anchor" id="ga286c5b1a6459d654d5794fc17e93c939"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THD_STATE_WTCOND&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waiting on a condition variable. </p>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00048">48</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

<p>Referenced by <a class="el" href="group__condvars.html#gab6357d80b01ed8d225ef1e30a66248f9">chCondWaitS()</a>, <a class="el" href="group__condvars.html#ga9cf6ebe4c9f28cb206fab14984a18d29">chCondWaitTimeoutS()</a>, and <a class="el" href="group__mutexes.html#ga2d6350c2d147d1165c359f30798205f5">chMtxLockS()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1b56c4f78480669018aea61711430048"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THD_STATE_SLEEPING&#160;&#160;&#160;6</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waiting in <code><a class="el" href="group__threads.html#ga8b10a49e2ec522a5ddecabdc453afcab" title="Suspends the invoking thread for the specified time. ">chThdSleep()</a></code> or <code><a class="el" href="group__threads.html#ga9e6e2f8d46d415e8f0862daf0be1d984" title="Suspends the invoking thread until the system time arrives to the specified value. ">chThdSleepUntil()</a></code>. </p>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00051">51</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaf726245829b74db3a77a5f4bcc17bf67"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THD_STATE_WTEXIT&#160;&#160;&#160;7</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waiting in <code><a class="el" href="group__threads.html#ga94a5727ecdbe0f738dfc8e1ede1c3409" title="Blocks the execution of the invoking thread until the specified thread terminates then the exit code ...">chThdWait()</a></code>. </p>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00054">54</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

<p>Referenced by <a class="el" href="group__threads.html#ga94a5727ecdbe0f738dfc8e1ede1c3409">chThdWait()</a>.</p>

</div>
</div>
<a class="anchor" id="gacd5f28475be26c300aa3444b9bad8feb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THD_STATE_WTOREVT&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waiting for an event. </p>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00055">55</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

<p>Referenced by <a class="el" href="group__events.html#ga6c219038c3e618e2142c6e1601997907">chEvtSignalI()</a>, <a class="el" href="group__events.html#gabd731d3ed2f037b2409e370676575f8d">chEvtWaitAny()</a>, <a class="el" href="group__events.html#gaf690406ccc833e2c9235e7e2041a6715">chEvtWaitAnyTimeout()</a>, <a class="el" href="group__events.html#ga77651e22578713ebe355c1213286c2e9">chEvtWaitOne()</a>, and <a class="el" href="group__events.html#ga2944a7fc82e7cc15537f5a7c04f457d3">chEvtWaitOneTimeout()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1227eb701b7ecaa8e8cd03edeeb79a92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THD_STATE_WTANDEVT&#160;&#160;&#160;9</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waiting for several events. </p>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00056">56</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

<p>Referenced by <a class="el" href="group__events.html#ga6c219038c3e618e2142c6e1601997907">chEvtSignalI()</a>, <a class="el" href="group__events.html#ga8c5c6bf310a08cdc836d23f98a87dbf5">chEvtWaitAll()</a>, and <a class="el" href="group__events.html#ga90d702300eecee3d05f83e95b155c3ee">chEvtWaitAllTimeout()</a>.</p>

</div>
</div>
<a class="anchor" id="gac1ef7f400c8679cae9225f939b32eced"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THD_STATE_SNDMSGQ&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sending a message, in queue. </p>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00057">57</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

<p>Referenced by <a class="el" href="group__messages.html#ga29a48a438e97dc47cb798a84e13764cb">chMsgSend()</a>, and <a class="el" href="group__mutexes.html#ga2d6350c2d147d1165c359f30798205f5">chMtxLockS()</a>.</p>

</div>
</div>
<a class="anchor" id="gaff813590802bfd53cbf0560b680b89f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THD_STATE_SNDMSG&#160;&#160;&#160;11</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sent a message, waiting answer. </p>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00058">58</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

<p>Referenced by <a class="el" href="group__messages.html#gaadfcf7feab147586dde476551d59f25a">chMsgRelease()</a>, and <a class="el" href="group__messages.html#ga4e20a5be643950f007b094fd07751de8">chMsgWait()</a>.</p>

</div>
</div>
<a class="anchor" id="gaf46c55b4468f0dad5cd0b3ef73e1be26"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THD_STATE_WTMSG&#160;&#160;&#160;12</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waiting for a message. </p>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00061">61</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

<p>Referenced by <a class="el" href="group__messages.html#ga29a48a438e97dc47cb798a84e13764cb">chMsgSend()</a>, and <a class="el" href="group__messages.html#ga4e20a5be643950f007b094fd07751de8">chMsgWait()</a>.</p>

</div>
</div>
<a class="anchor" id="ga79bc4e5eab706a80d99f2f0f60275a04"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THD_STATE_WTQUEUE&#160;&#160;&#160;13</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Waiting on an I/O queue. </p>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00062">62</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga10583a3a3fb4c62693bb08796f8d13ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THD_STATE_FINAL&#160;&#160;&#160;14</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="struct_thread.html" title="Structure representing a thread. ">Thread</a> terminated. </p>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00063">63</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

<p>Referenced by <a class="el" href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298">chSchReadyI()</a>, <a class="el" href="group__threads.html#ga0275693521c0965a5aa3881d7f331f1a">chThdExitS()</a>, <a class="el" href="group__dynamic__threads.html#gaa22f80040cf192015be4607f31a0ac80">chThdRelease()</a>, and <a class="el" href="group__threads.html#ga94a5727ecdbe0f738dfc8e1ede1c3409">chThdWait()</a>.</p>

</div>
</div>
<a class="anchor" id="ga98eacce076e85df9e6d922bae1397d25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THD_STATE_NAMES</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="stringliteral">&quot;READY&quot;</span>, <span class="stringliteral">&quot;CURRENT&quot;</span>, <span class="stringliteral">&quot;SUSPENDED&quot;</span>, <span class="stringliteral">&quot;WTSEM&quot;</span>, <span class="stringliteral">&quot;WTMTX&quot;</span>, <span class="stringliteral">&quot;WTCOND&quot;</span>, <span class="stringliteral">&quot;SLEEPING&quot;</span>,  \</div>
<div class="line">  <span class="stringliteral">&quot;WTEXIT&quot;</span>, <span class="stringliteral">&quot;WTOREVT&quot;</span>, <span class="stringliteral">&quot;WTANDEVT&quot;</span>, <span class="stringliteral">&quot;SNDMSGQ&quot;</span>, <span class="stringliteral">&quot;SNDMSG&quot;</span>, <span class="stringliteral">&quot;WTMSG&quot;</span>, <span class="stringliteral">&quot;WTQUEUE&quot;</span>, \</div>
<div class="line">  <span class="stringliteral">&quot;FINAL&quot;</span></div>
</div><!-- fragment -->
<p><a class="el" href="struct_thread.html" title="Structure representing a thread. ">Thread</a> states as array of strings. </p>
<p>Each element in an array initialized with this macro can be indexed using the numeric thread state values. </p>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00070">70</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga03fc66bb40f45829816cd4e8353fead2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THD_MEM_MODE_MASK&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="struct_thread.html" title="Structure representing a thread. ">Thread</a> memory mode mask. </p>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00080">80</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

<p>Referenced by <a class="el" href="group__threads.html#ga0275693521c0965a5aa3881d7f331f1a">chThdExitS()</a>, and <a class="el" href="group__dynamic__threads.html#gaa22f80040cf192015be4607f31a0ac80">chThdRelease()</a>.</p>

</div>
</div>
<a class="anchor" id="ga222e36a338ac4048b1da998f112771ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THD_MEM_MODE_STATIC&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Static thread. </p>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00081">81</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

<p>Referenced by <a class="el" href="group__threads.html#ga83ee3aef5f09a1547c8cb35360edea45">_thread_init()</a>, and <a class="el" href="group__threads.html#ga0275693521c0965a5aa3881d7f331f1a">chThdExitS()</a>.</p>

</div>
</div>
<a class="anchor" id="ga706ca53f21d35623480e8e5a239c3fcb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THD_MEM_MODE_HEAP&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="struct_thread.html" title="Structure representing a thread. ">Thread</a> allocated from a Memory Heap. </p>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00082">82</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

<p>Referenced by <a class="el" href="group__dynamic__threads.html#gad17d7c7fbbe8cec74473e1a1e6002d49">chThdCreateFromHeap()</a>, and <a class="el" href="group__dynamic__threads.html#gaa22f80040cf192015be4607f31a0ac80">chThdRelease()</a>.</p>

</div>
</div>
<a class="anchor" id="ga70a7c2fa69d7ca90e6f191c2ebd8cc6f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THD_MEM_MODE_MEMPOOL&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="struct_thread.html" title="Structure representing a thread. ">Thread</a> allocated from a Memory Pool. </p>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00085">85</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

<p>Referenced by <a class="el" href="group__dynamic__threads.html#ga5cb2e30c7917aa04361db480629c9e40">chThdCreateFromMemoryPool()</a>, and <a class="el" href="group__dynamic__threads.html#gaa22f80040cf192015be4607f31a0ac80">chThdRelease()</a>.</p>

</div>
</div>
<a class="anchor" id="ga756a0e7dec9a4d374b6b9e913c5adf81"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define THD_TERMINATE&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Termination requested flag. </p>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00088">88</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

<p>Referenced by <a class="el" href="group__threads.html#ga7ea7371fa41598ebd523622587ce3f22">chThdTerminate()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa36662628234799d205ff8c0cc6745c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define chThdSelf</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__scheduler.html#ga1a5fddde56420e8accd0c09c1abb32a7">currp</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a pointer to the current <code><a class="el" href="struct_thread.html" title="Structure representing a thread. ">Thread</a></code>. </p>
<dl class="section note"><dt>Note</dt><dd>Can be invoked in any context.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Special function, this function has special requirements see the notes. </dd></dl>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00246">246</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

<p>Referenced by <a class="el" href="group___a_d_c.html#gae4f5c1e2d4283b40625a1d238bc49a7a">adcConvert()</a>, <a class="el" href="classchibios__rt_1_1_thread_reference.html#a3f70d02ab3ec6f64a3a6a130fda4c8af">chibios_rt::ThreadReference::suspend()</a>, and <a class="el" href="classchibios__rt_1_1_thread_reference.html#aa52d7a830b1516fe1e4b0d74a43e2580">chibios_rt::ThreadReference::suspendS()</a>.</p>

</div>
</div>
<a class="anchor" id="gac71903de6268d886ff58022854b8b6dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define chThdGetPriority</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;(<a class="el" href="group__scheduler.html#ga1a5fddde56420e8accd0c09c1abb32a7">currp</a>-&gt;p_prio)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current thread priority. </p>
<dl class="section note"><dt>Note</dt><dd>Can be invoked in any context.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Special function, this function has special requirements see the notes. </dd></dl>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00254">254</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga51797affddb3451bafdf2a9585d77def"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define chThdGetTicks</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tp</td><td>)</td>
          <td>&#160;&#160;&#160;((tp)-&gt;p_time)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the number of ticks consumed by the specified thread. </p>
<dl class="section note"><dt>Note</dt><dd>This function is only available when the <code>CH_DBG_THREADS_PROFILING</code> configuration option is enabled. </dd>
<dd>
Can be invoked in any context.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tp</td><td>pointer to the thread</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Special function, this function has special requirements see the notes. </dd></dl>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00266">266</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga44ea29c71507ec19cf668de199fcbcca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define chThdLS</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;(void *)(<a class="el" href="group__scheduler.html#ga1a5fddde56420e8accd0c09c1abb32a7">currp</a> + 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the pointer to the <code><a class="el" href="struct_thread.html" title="Structure representing a thread. ">Thread</a></code> local storage area, if any. </p>
<dl class="section note"><dt>Note</dt><dd>Can be invoked in any context.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Special function, this function has special requirements see the notes. </dd></dl>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00274">274</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga91fad809cfc40e5e989b5bc893741f30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define chThdTerminated</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tp</td><td>)</td>
          <td>&#160;&#160;&#160;((tp)-&gt;p_state == <a class="el" href="group__threads.html#ga10583a3a3fb4c62693bb08796f8d13ae">THD_STATE_FINAL</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Verifies if the specified thread is in the <code>THD_STATE_FINAL</code> state. </p>
<dl class="section note"><dt>Note</dt><dd>Can be invoked in any context.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tp</td><td>pointer to the thread </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TRUE</td><td>thread terminated. </td></tr>
    <tr><td class="paramname">FALSE</td><td>thread not terminated.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Special function, this function has special requirements see the notes. </dd></dl>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00286">286</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga5591a9f97ff77b40bd5fc29f16f12a6b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define chThdShouldTerminate</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;(<a class="el" href="group__scheduler.html#ga1a5fddde56420e8accd0c09c1abb32a7">currp</a>-&gt;p_flags &amp; <a class="el" href="group__threads.html#ga756a0e7dec9a4d374b6b9e913c5adf81">THD_TERMINATE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Verifies if the current thread has a termination request pending. </p>
<dl class="section note"><dt>Note</dt><dd>Can be invoked in any context.</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>termination request not pending. </td></tr>
    <tr><td class="paramname">!0</td><td>termination request pending.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Special function, this function has special requirements see the notes. </dd></dl>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00297">297</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

<p>Referenced by <a class="el" href="classchibios__rt_1_1_base_thread.html#a26c87e86735f98d24c4ff078a553b87e">chibios_rt::BaseThread::shouldTerminate()</a>.</p>

</div>
</div>
<a class="anchor" id="gaca27314f95f0b691d5a83a017157fd09"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define chThdResumeI</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">tp</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298">chSchReadyI</a>(tp)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resumes a thread created with <code><a class="el" href="group__threads.html#gac6de13d4044b32d3ae9e2066b5d4c030" title="Creates a new thread into a static memory area. ">chThdCreateI()</a></code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">tp</td><td>pointer to the thread</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>This is an <b>I-Class</b> API, this function can be invoked from within a system lock zone by both threads and interrupt handlers. </dd></dl>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00306">306</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga851dc0c4ac72885bf09feebdef4673ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define chThdSleepS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">time</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__scheduler.html#ga306e564f678c1a39139639490c77e78b">chSchGoSleepTimeoutS</a>(<a class="el" href="group__threads.html#ga1b56c4f78480669018aea61711430048">THD_STATE_SLEEPING</a>, time)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Suspends the invoking thread for the specified time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>the delay in system ticks, the special values are handled as follow:<ul>
<li><em>TIME_INFINITE</em> the thread enters an infinite sleep state.</li>
<li><em>TIME_IMMEDIATE</em> this value is not allowed.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>This is an <b>S-Class</b> API, this function can be invoked from within a system lock zone by threads only. </dd></dl>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00320">320</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

<p>Referenced by <a class="el" href="group___c_a_n.html#ga05d2448864b2cae4674ed7e6f3c576b8">canStart()</a>, <a class="el" href="group__threads.html#ga8b10a49e2ec522a5ddecabdc453afcab">chThdSleep()</a>, and <a class="el" href="group__threads.html#ga9e6e2f8d46d415e8f0862daf0be1d984">chThdSleepUntil()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5fc3d014124e558bc59c423a74668c8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define chThdSleepSeconds</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sec</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__threads.html#ga8b10a49e2ec522a5ddecabdc453afcab">chThdSleep</a>(<a class="el" href="group__time.html#gab64090e53ca84e2179acbbf61aa9c71f">S2ST</a>(sec))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delays the invoking thread for the specified number of seconds. </p>
<dl class="section note"><dt>Note</dt><dd>The specified time is rounded up to a value allowed by the real system tick clock. </dd>
<dd>
The maximum specifiable value is implementation dependent.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sec</td><td>time in seconds, must be different from zero</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00332">332</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga5aebc25e053a0094714abce4cad9f56f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define chThdSleepMilliseconds</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msec</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__threads.html#ga8b10a49e2ec522a5ddecabdc453afcab">chThdSleep</a>(<a class="el" href="group__time.html#ga0a7e7bc6c6225bd9652c4f1567f1bc6a">MS2ST</a>(msec))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delays the invoking thread for the specified number of milliseconds. </p>
<dl class="section note"><dt>Note</dt><dd>The specified time is rounded up to a value allowed by the real system tick clock. </dd>
<dd>
The maximum specifiable value is implementation dependent.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msec</td><td>time in milliseconds, must be different from zero</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00345">345</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

<p>Referenced by <a class="el" href="group___s_d_c.html#gad12afd737b2a919ef18ec5d5589debb0">_sdc_wait_for_transfer_state()</a>, <a class="el" href="group___m_m_c___s_p_i.html#ga9ff4f12fa759c3cb4aca2b64b11f1d22">mmcConnect()</a>, <a class="el" href="group___s_d_c.html#ga5283ffc5cd3ab7bdfe012b714978ef60">sdcConnect()</a>, and <a class="el" href="group__test.html#ga6b0a5b39f57674777d7b044e1a15603a">TestThread()</a>.</p>

</div>
</div>
<a class="anchor" id="ga596f4015871a919694911bc50ba8bd94"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define chThdSleepMicroseconds</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">usec</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__threads.html#ga8b10a49e2ec522a5ddecabdc453afcab">chThdSleep</a>(<a class="el" href="group__time.html#ga093b2a96d7a52eb5988739fff1b5a995">US2ST</a>(usec))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delays the invoking thread for the specified number of microseconds. </p>
<dl class="section note"><dt>Note</dt><dd>The specified time is rounded up to a value allowed by the real system tick clock. </dd>
<dd>
The maximum specifiable value is implementation dependent.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">usec</td><td>time in microseconds, must be different from zero</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00358">358</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga310bf068112d2ba5302bfe4ccd42b82e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="group__types.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a>(* tfunc_t) (void *)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="struct_thread.html" title="Structure representing a thread. ">Thread</a> function. </p>

<p>Definition at line <a class="el" href="chthreads_8h_source.html#l00234">234</a> of file <a class="el" href="chthreads_8h_source.html">chthreads.h</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
    <li class="footer">
      <a href="http://sourceforge.net/projects/chibios">
        <img src="http://sflogo.sourceforge.net/sflogo.php?group_id=205897&amp;type=11"
             border="0" width="120" height="30"
             alt="Get ChibiOS/RT embedded RTOS at SourceForge.net. Fast,
                  secure and Free Open Source software downloads"/>
      </a>
    </li>
  </ul>
</div>
<!-- Piwik -->
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? "https://apps.sourceforge.net/piwik/chibios/" : "http://apps.sourceforge.net/piwik/chibios/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
piwik_action_name = '';
piwik_idsite = 1;
piwik_url = pkBaseURL + "piwik.php";
piwik_log(piwik_action_name, piwik_idsite, piwik_url);
</script>
<object><noscript><p><img src="http://apps.sourceforge.net/piwik/chibios/piwik.php?idsite=1" alt="piwik"/></p></noscript></object>
<!-- End Piwik Tag -->
</body>
</html>
