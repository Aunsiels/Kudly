<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>HAL Driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 92px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ChibiOS/RT<br><span id="projectnumber">2.6.7</span></div>
  </td>
  <td style="padding-left: 3em;">
<script type="text/javascript"><!--
google_ad_client = "pub-3840594581853944";
/* Documentation, bottom, 728x90, created 9/19/10 */
google_ad_slot = "1902290615";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___h_a_l.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle">
<div class="title">HAL Driver<div class="ingroups"><a class="el" href="group___i_o.html">HAL</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for HAL Driver:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group___h_a_l.png" border="0" alt="" usemap="#group______h__a__l"/>
<map name="group______h__a__l" id="group______h__a__l">
<area shape="rect" id="node1" href="group___i_o.html" title="Hardware Abstraction Layer. " alt="" coords="5,5,48,29"/></map>
</td></tr></table></center>
</div>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Hardware Abstraction Layer. </p>
<p>The HAL (Hardware Abstraction Layer) driver performs the system initialization and includes the platform support code shared by the other drivers. This driver does contain any API function except for a general initialization function <code><a class="el" href="group___h_a_l.html#gafd89c1650df524d95aef39b8bc38170d" title="HAL initialization. ">halInit()</a></code> that must be invoked before any HAL service can be used, usually the HAL initialization should be performed immediately before the kernel initialization.<br />
 Some HAL driver implementations also offer a custom early clock setup function that can be invoked before the C runtime initialization in order to accelerate the startup time. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gafd89c1650df524d95aef39b8bc38170d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l.html#gafd89c1650df524d95aef39b8bc38170d">halInit</a> (void)</td></tr>
<tr class="memdesc:gafd89c1650df524d95aef39b8bc38170d"><td class="mdescLeft">&#160;</td><td class="mdescRight">HAL initialization.  <a href="#gafd89c1650df524d95aef39b8bc38170d">More...</a><br /></td></tr>
<tr class="separator:gafd89c1650df524d95aef39b8bc38170d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0fed7897b2478db5bf8015a91895bc5b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#ga7556af1cb61728b53228fa3af1c851de">bool_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l.html#ga0fed7897b2478db5bf8015a91895bc5b">halIsCounterWithin</a> (<a class="el" href="group___h_a_l.html#ga5a210ed32313aab79a661eea02778f76">halrtcnt_t</a> start, <a class="el" href="group___h_a_l.html#ga5a210ed32313aab79a661eea02778f76">halrtcnt_t</a> end)</td></tr>
<tr class="memdesc:ga0fed7897b2478db5bf8015a91895bc5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Realtime window test.  <a href="#ga0fed7897b2478db5bf8015a91895bc5b">More...</a><br /></td></tr>
<tr class="separator:ga0fed7897b2478db5bf8015a91895bc5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga071b854742b12dee2d5e2e8cad0cae58"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l.html#ga071b854742b12dee2d5e2e8cad0cae58">halPolledDelay</a> (<a class="el" href="group___h_a_l.html#ga5a210ed32313aab79a661eea02778f76">halrtcnt_t</a> ticks)</td></tr>
<tr class="memdesc:ga071b854742b12dee2d5e2e8cad0cae58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Polled delay.  <a href="#ga071b854742b12dee2d5e2e8cad0cae58">More...</a><br /></td></tr>
<tr class="separator:ga071b854742b12dee2d5e2e8cad0cae58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga07d5821e5a06754e2ce920c97890d06f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l.html#ga07d5821e5a06754e2ce920c97890d06f">hal_lld_init</a> (void)</td></tr>
<tr class="memdesc:ga07d5821e5a06754e2ce920c97890d06f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Low level HAL driver initialization.  <a href="#ga07d5821e5a06754e2ce920c97890d06f">More...</a><br /></td></tr>
<tr class="separator:ga07d5821e5a06754e2ce920c97890d06f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1c744bc5008001cbc26af25ba4819b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l.html#gad1c744bc5008001cbc26af25ba4819b4">platform_early_init</a> (void)</td></tr>
<tr class="memdesc:gad1c744bc5008001cbc26af25ba4819b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Platform early initialization.  <a href="#gad1c744bc5008001cbc26af25ba4819b4">More...</a><br /></td></tr>
<tr class="separator:gad1c744bc5008001cbc26af25ba4819b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Time conversion utilities for the realtime counter</h2></td></tr>
<tr class="memitem:gae05bd87d703bf59bd0024110c20e21a7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l.html#gae05bd87d703bf59bd0024110c20e21a7">S2RTT</a>(sec)&#160;&#160;&#160;(<a class="el" href="group___h_a_l.html#ga9575de381850dacdb20fbe77471070d0">halGetCounterFrequency</a>() * (sec))</td></tr>
<tr class="memdesc:gae05bd87d703bf59bd0024110c20e21a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Seconds to realtime ticks.  <a href="#gae05bd87d703bf59bd0024110c20e21a7">More...</a><br /></td></tr>
<tr class="separator:gae05bd87d703bf59bd0024110c20e21a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafafb79469751b0cddaffe27294c657fb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l.html#gafafb79469751b0cddaffe27294c657fb">MS2RTT</a>(msec)&#160;&#160;&#160;(((<a class="el" href="group___h_a_l.html#ga9575de381850dacdb20fbe77471070d0">halGetCounterFrequency</a>() + 999UL) / 1000UL) * (msec))</td></tr>
<tr class="memdesc:gafafb79469751b0cddaffe27294c657fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Milliseconds to realtime ticks.  <a href="#gafafb79469751b0cddaffe27294c657fb">More...</a><br /></td></tr>
<tr class="separator:gafafb79469751b0cddaffe27294c657fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad785b0c0bf6d4cae193823c680e81275"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l.html#gad785b0c0bf6d4cae193823c680e81275">US2RTT</a>(usec)</td></tr>
<tr class="memdesc:gad785b0c0bf6d4cae193823c680e81275"><td class="mdescLeft">&#160;</td><td class="mdescRight">Microseconds to realtime ticks.  <a href="#gad785b0c0bf6d4cae193823c680e81275">More...</a><br /></td></tr>
<tr class="separator:gad785b0c0bf6d4cae193823c680e81275"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0118a5e00963d2f4b196506d6bbad0b4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l.html#ga0118a5e00963d2f4b196506d6bbad0b4">RTT2S</a>(ticks)&#160;&#160;&#160;((ticks) / <a class="el" href="group___h_a_l.html#ga9575de381850dacdb20fbe77471070d0">halGetCounterFrequency</a>())</td></tr>
<tr class="memdesc:ga0118a5e00963d2f4b196506d6bbad0b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Realtime ticks to seconds to.  <a href="#ga0118a5e00963d2f4b196506d6bbad0b4">More...</a><br /></td></tr>
<tr class="separator:ga0118a5e00963d2f4b196506d6bbad0b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa5c3ce1777a87f4395831c9eeafc462a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l.html#gaa5c3ce1777a87f4395831c9eeafc462a">RTT2MS</a>(ticks)&#160;&#160;&#160;((ticks) / (<a class="el" href="group___h_a_l.html#ga9575de381850dacdb20fbe77471070d0">halGetCounterFrequency</a>() / 1000UL))</td></tr>
<tr class="memdesc:gaa5c3ce1777a87f4395831c9eeafc462a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Realtime ticks to milliseconds.  <a href="#gaa5c3ce1777a87f4395831c9eeafc462a">More...</a><br /></td></tr>
<tr class="separator:gaa5c3ce1777a87f4395831c9eeafc462a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga23ef60eeefb0684f6dad7f58c6ea8077"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l.html#ga23ef60eeefb0684f6dad7f58c6ea8077">RTT2US</a>(ticks)&#160;&#160;&#160;((ticks) / (<a class="el" href="group___h_a_l.html#ga9575de381850dacdb20fbe77471070d0">halGetCounterFrequency</a>() / 1000000UL))</td></tr>
<tr class="memdesc:ga23ef60eeefb0684f6dad7f58c6ea8077"><td class="mdescLeft">&#160;</td><td class="mdescRight">Realtime ticks to microseconds.  <a href="#ga23ef60eeefb0684f6dad7f58c6ea8077">More...</a><br /></td></tr>
<tr class="separator:ga23ef60eeefb0684f6dad7f58c6ea8077"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Macro Functions</h2></td></tr>
<tr class="memitem:gac17ba4e84d8f357a545eeda55b7fd74c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l.html#gac17ba4e84d8f357a545eeda55b7fd74c">halGetCounterValue</a>()&#160;&#160;&#160;<a class="el" href="group___h_a_l.html#ga0b58144c58561ea2698a000ee077f15a">hal_lld_get_counter_value</a>()</td></tr>
<tr class="memdesc:gac17ba4e84d8f357a545eeda55b7fd74c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current value of the system free running counter.  <a href="#gac17ba4e84d8f357a545eeda55b7fd74c">More...</a><br /></td></tr>
<tr class="separator:gac17ba4e84d8f357a545eeda55b7fd74c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9575de381850dacdb20fbe77471070d0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l.html#ga9575de381850dacdb20fbe77471070d0">halGetCounterFrequency</a>()&#160;&#160;&#160;<a class="el" href="group___h_a_l.html#ga6736dc08fce519d8aa265d68cf8d2619">hal_lld_get_counter_frequency</a>()</td></tr>
<tr class="memdesc:ga9575de381850dacdb20fbe77471070d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Realtime counter frequency.  <a href="#ga9575de381850dacdb20fbe77471070d0">More...</a><br /></td></tr>
<tr class="separator:ga9575de381850dacdb20fbe77471070d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Platform identification</h2></td></tr>
<tr class="memitem:gaa4688daf0f1e6dda714351a6e5a394c2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa4688daf0f1e6dda714351a6e5a394c2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PLATFORM_NAME</b>&#160;&#160;&#160;&quot;&quot;</td></tr>
<tr class="separator:gaa4688daf0f1e6dda714351a6e5a394c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gab9381cecf5d8ee734b286623300f5740"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l.html#gab9381cecf5d8ee734b286623300f5740">HAL_IMPLEMENTS_COUNTERS</a>&#160;&#160;&#160;<a class="el" href="group__kernel__info.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></td></tr>
<tr class="memdesc:gab9381cecf5d8ee734b286623300f5740"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the support for realtime counters in the HAL.  <a href="#gab9381cecf5d8ee734b286623300f5740">More...</a><br /></td></tr>
<tr class="separator:gab9381cecf5d8ee734b286623300f5740"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b58144c58561ea2698a000ee077f15a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l.html#ga0b58144c58561ea2698a000ee077f15a">hal_lld_get_counter_value</a>()&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:ga0b58144c58561ea2698a000ee077f15a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current value of the system free running counter.  <a href="#ga0b58144c58561ea2698a000ee077f15a">More...</a><br /></td></tr>
<tr class="separator:ga0b58144c58561ea2698a000ee077f15a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6736dc08fce519d8aa265d68cf8d2619"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l.html#ga6736dc08fce519d8aa265d68cf8d2619">hal_lld_get_counter_frequency</a>()&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:ga6736dc08fce519d8aa265d68cf8d2619"><td class="mdescLeft">&#160;</td><td class="mdescRight">Realtime counter frequency.  <a href="#ga6736dc08fce519d8aa265d68cf8d2619">More...</a><br /></td></tr>
<tr class="separator:ga6736dc08fce519d8aa265d68cf8d2619"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaf3eca55d81a3c9d0c0b6131b079bfb9e"><td class="memItemLeft" align="right" valign="top">typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l.html#gaf3eca55d81a3c9d0c0b6131b079bfb9e">halclock_t</a></td></tr>
<tr class="memdesc:gaf3eca55d81a3c9d0c0b6131b079bfb9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type representing a system clock frequency.  <a href="#gaf3eca55d81a3c9d0c0b6131b079bfb9e">More...</a><br /></td></tr>
<tr class="separator:gaf3eca55d81a3c9d0c0b6131b079bfb9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5a210ed32313aab79a661eea02778f76"><td class="memItemLeft" align="right" valign="top">typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l.html#ga5a210ed32313aab79a661eea02778f76">halrtcnt_t</a></td></tr>
<tr class="memdesc:ga5a210ed32313aab79a661eea02778f76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of the realtime free counter value.  <a href="#ga5a210ed32313aab79a661eea02778f76">More...</a><br /></td></tr>
<tr class="separator:ga5a210ed32313aab79a661eea02778f76"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gafd89c1650df524d95aef39b8bc38170d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>HAL initialization. </p>
<p>This function invokes the low level initialization code then initializes all the drivers enabled in the HAL. Finally the board-specific initialization is performed by invoking <code>boardInit()</code> (usually defined in <code>board.c</code>).</p>
<dl class="section user"><dt>Function Class:</dt><dd>Initializer, this function just initializes an object and can be invoked before the kernel is initialized. </dd></dl>

<p>Definition at line <a class="el" href="hal_8c_source.html#l00068">68</a> of file <a class="el" href="hal_8c_source.html">hal.c</a>.</p>

<p>References <a class="el" href="group___a_d_c.html#gafd645b17cf0581bcaa22c56011c775e4">adcInit()</a>, <a class="el" href="group___c_a_n.html#ga2d3efc34f7704ab23c293aac2be47764">canInit()</a>, <a class="el" href="group___e_x_t.html#ga2b4bbaeee648e129158a8e188c1ff952">extInit()</a>, <a class="el" href="group___g_p_t.html#ga4a57bda7b0af99d1b280fae5c2d7c4b3">gptInit()</a>, <a class="el" href="group___h_a_l.html#ga07d5821e5a06754e2ce920c97890d06f">hal_lld_init()</a>, <a class="el" href="group___i2_c.html#ga1e0a81a1ad1fd7710ca189236e3e5476">i2cInit()</a>, <a class="el" href="group___i_c_u.html#ga28c2664fcfec4879984aa10acac57390">icuInit()</a>, <a class="el" href="group___m_a_c.html#ga2f76703cfc76da57feedb57e9d37c8a4">macInit()</a>, <a class="el" href="group___m_m_c___s_p_i.html#ga351951c841ece80fc692195ab37b2f06">mmcInit()</a>, <a class="el" href="group___p_a_l.html#ga5a9743283a30e13f2513f5abbcac9f97">palInit</a>, <a class="el" href="group___p_w_m.html#ga1c8ae46921c4ae7d57bd44dd994e10bd">pwmInit()</a>, <a class="el" href="group___r_t_c.html#ga5f6cddc7c2e2cbff9fcc8edc2ac6b841">rtcInit()</a>, <a class="el" href="group___s_d_c.html#ga98f72333da8e5670502db1c31fe05acf">sdcInit()</a>, <a class="el" href="group___s_e_r_i_a_l.html#gaced9c1cfde941c7614183b1c887e862b">sdInit()</a>, <a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ga558c25112215dc3b86a30cac68553540">sduInit()</a>, <a class="el" href="group___s_p_i.html#ga3c484a97cdec02c5dbf46a11245e3395">spiInit()</a>, <a class="el" href="group___t_m.html#ga29b1080a5968ae5b0ea238c379ff4d65">tmInit()</a>, <a class="el" href="group___u_a_r_t.html#ga09a7a9ed4194733a7b753c3b795b1734">uartInit()</a>, and <a class="el" href="group___u_s_b.html#ga4552b1c9fe142a402c84c15444d3d927">usbInit()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___h_a_l_gafd89c1650df524d95aef39b8bc38170d_cgraph.png" border="0" usemap="#group___h_a_l_gafd89c1650df524d95aef39b8bc38170d_cgraph" alt=""/></div>
<map name="group___h_a_l_gafd89c1650df524d95aef39b8bc38170d_cgraph" id="group___h_a_l_gafd89c1650df524d95aef39b8bc38170d_cgraph">
<area shape="rect" id="node2" href="group___a_d_c.html#gafd645b17cf0581bcaa22c56011c775e4" title="ADC Driver initialization. " alt="" coords="121,5,179,29"/><area shape="rect" id="node4" href="group___c_a_n.html#ga2d3efc34f7704ab23c293aac2be47764" title="CAN Driver initialization. " alt="" coords="121,53,179,77"/><area shape="rect" id="node5" href="group___e_x_t.html#ga2b4bbaeee648e129158a8e188c1ff952" title="EXT Driver initialization. " alt="" coords="122,101,178,125"/><area shape="rect" id="node6" href="group___g_p_t.html#ga4a57bda7b0af99d1b280fae5c2d7c4b3" title="GPT Driver initialization. " alt="" coords="121,149,179,173"/><area shape="rect" id="node7" href="group___h_a_l.html#ga07d5821e5a06754e2ce920c97890d06f" title="Low level HAL driver initialization. " alt="" coords="109,197,191,221"/><area shape="rect" id="node8" href="group___i2_c.html#ga1e0a81a1ad1fd7710ca189236e3e5476" title="I2C Driver initialization. " alt="" coords="123,245,177,269"/><area shape="rect" id="node9" href="group___i_c_u.html#ga28c2664fcfec4879984aa10acac57390" title="ICU Driver initialization. " alt="" coords="123,293,177,317"/><area shape="rect" id="node10" href="group___m_a_c.html#ga2f76703cfc76da57feedb57e9d37c8a4" title="MAC Driver initialization. " alt="" coords="119,341,181,365"/><area shape="rect" id="node11" href="group___m_m_c___s_p_i.html#ga351951c841ece80fc692195ab37b2f06" title="MMC over SPI driver initialization. " alt="" coords="117,389,183,413"/><area shape="rect" id="node12" href="group___p_w_m.html#ga1c8ae46921c4ae7d57bd44dd994e10bd" title="PWM Driver initialization. " alt="" coords="117,437,183,461"/><area shape="rect" id="node13" href="group___r_t_c.html#ga5f6cddc7c2e2cbff9fcc8edc2ac6b841" title="RTC Driver initialization. " alt="" coords="123,485,177,509"/><area shape="rect" id="node14" href="group___s_d_c.html#ga98f72333da8e5670502db1c31fe05acf" title="SDC Driver initialization. " alt="" coords="121,533,179,557"/><area shape="rect" id="node15" href="group___s_e_r_i_a_l.html#gaced9c1cfde941c7614183b1c887e862b" title="Serial Driver initialization. " alt="" coords="123,581,177,605"/><area shape="rect" id="node16" href="group___s_e_r_i_a_l___u_s_b.html#ga558c25112215dc3b86a30cac68553540" title="Serial Driver initialization. " alt="" coords="120,629,180,653"/><area shape="rect" id="node17" href="group___s_p_i.html#ga3c484a97cdec02c5dbf46a11245e3395" title="SPI Driver initialization. " alt="" coords="122,677,178,701"/><area shape="rect" id="node18" href="group___t_m.html#ga29b1080a5968ae5b0ea238c379ff4d65" title="Initializes the Time Measurement unit. " alt="" coords="123,725,177,749"/><area shape="rect" id="node19" href="group___u_a_r_t.html#ga09a7a9ed4194733a7b753c3b795b1734" title="UART Driver initialization. " alt="" coords="119,773,181,797"/><area shape="rect" id="node20" href="group___u_s_b.html#ga4552b1c9fe142a402c84c15444d3d927" title="USB Driver initialization. " alt="" coords="120,821,180,845"/><area shape="rect" id="node3" href="group___a_d_c.html#ga2bfcc655059180451273682ca7e0068c" title="Low level ADC driver initialization. " alt="" coords="239,5,323,29"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga0fed7897b2478db5bf8015a91895bc5b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#ga7556af1cb61728b53228fa3af1c851de">bool_t</a> halIsCounterWithin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___h_a_l.html#ga5a210ed32313aab79a661eea02778f76">halrtcnt_t</a>&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___h_a_l.html#ga5a210ed32313aab79a661eea02778f76">halrtcnt_t</a>&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Realtime window test. </p>
<p>This function verifies if the current realtime counter value lies within the specified range or not. The test takes care of the realtime counter wrapping to zero on overflow. </p><dl class="section note"><dt>Note</dt><dd>When start==end then the function returns always true because the whole time range is specified. </dd>
<dd>
This is an optional service that could not be implemented in all HAL implementations. </dd>
<dd>
This function can be called from any context.</dd></dl>
<dl class="section user"><dt>Example 1</dt><dd>Example of a guarded loop using the realtime counter. The loop implements a timeout after one second. <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;halrtcnt_t start = halGetCounterValue();</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;halrtcnt_t timeout  = start + S2RTT(1);</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;while (my_condition) {</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;  if (!halIsCounterWithin(start, timeout)</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    return TIMEOUT;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;  // Do something.</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;}</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;// Continue.</div>
</div><!-- fragment --></dd></dl>
<dl class="section user"><dt>Example 2</dt><dd>Example of a loop that lasts exactly 50 microseconds. <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;halrtcnt_t start = halGetCounterValue();</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;halrtcnt_t timeout  = start + US2RTT(50);</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;while (halIsCounterWithin(start, timeout)) {</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;  // Do something.</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;}</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;// Continue.</div>
</div><!-- fragment --></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">start</td><td>the start of the time window (inclusive) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">end</td><td>the end of the time window (non inclusive) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">TRUE</td><td>current time within the specified time window. </td></tr>
    <tr><td class="paramname">FALSE</td><td>current time not within the specified time window.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Special function, this function has special requirements see the notes. </dd></dl>

<p>Definition at line <a class="el" href="hal_8c_source.html#l00174">174</a> of file <a class="el" href="hal_8c_source.html">hal.c</a>.</p>

<p>References <a class="el" href="group___h_a_l.html#gac17ba4e84d8f357a545eeda55b7fd74c">halGetCounterValue</a>.</p>

<p>Referenced by <a class="el" href="group___h_a_l.html#ga071b854742b12dee2d5e2e8cad0cae58">halPolledDelay()</a>.</p>

</div>
</div>
<a class="anchor" id="ga071b854742b12dee2d5e2e8cad0cae58"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halPolledDelay </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___h_a_l.html#ga5a210ed32313aab79a661eea02778f76">halrtcnt_t</a>&#160;</td>
          <td class="paramname"><em>ticks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Polled delay. </p>
<dl class="section note"><dt>Note</dt><dd>The real delays is always few cycles in excess of the specified value. </dd>
<dd>
This is an optional service that could not be implemented in all HAL implementations. </dd>
<dd>
This function can be called from any context.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ticks</td><td>number of ticks</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Special function, this function has special requirements see the notes. </dd></dl>

<p>Definition at line <a class="el" href="hal_8c_source.html#l00193">193</a> of file <a class="el" href="hal_8c_source.html">hal.c</a>.</p>

<p>References <a class="el" href="group___h_a_l.html#gac17ba4e84d8f357a545eeda55b7fd74c">halGetCounterValue</a>, and <a class="el" href="group___h_a_l.html#ga0fed7897b2478db5bf8015a91895bc5b">halIsCounterWithin()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group___h_a_l_ga071b854742b12dee2d5e2e8cad0cae58_cgraph.png" border="0" usemap="#group___h_a_l_ga071b854742b12dee2d5e2e8cad0cae58_cgraph" alt=""/></div>
<map name="group___h_a_l_ga071b854742b12dee2d5e2e8cad0cae58_cgraph" id="group___h_a_l_ga071b854742b12dee2d5e2e8cad0cae58_cgraph">
<area shape="rect" id="node2" href="group___h_a_l.html#ga0fed7897b2478db5bf8015a91895bc5b" title="Realtime window test. " alt="" coords="157,5,284,29"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga07d5821e5a06754e2ce920c97890d06f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hal_lld_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Low level HAL driver initialization. </p>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="hal__lld_8c_source.html#l00057">57</a> of file <a class="el" href="hal__lld_8c_source.html">hal_lld.c</a>.</p>

<p>Referenced by <a class="el" href="group___h_a_l.html#gafd89c1650df524d95aef39b8bc38170d">halInit()</a>.</p>

</div>
</div>
<a class="anchor" id="gad1c744bc5008001cbc26af25ba4819b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void platform_early_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Platform early initialization. </p>
<dl class="section note"><dt>Note</dt><dd>All the involved constants come from the file <code>board.h</code>. </dd>
<dd>
This function is meant to be invoked early during the system initialization, it is usually invoked from the file <code>board.c</code>.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Special function, this function has special requirements see the notes. </dd></dl>

<p>Definition at line <a class="el" href="hal__lld_8c_source.html#l00070">70</a> of file <a class="el" href="hal__lld_8c_source.html">hal_lld.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="gae05bd87d703bf59bd0024110c20e21a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define S2RTT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sec</td><td>)</td>
          <td>&#160;&#160;&#160;(<a class="el" href="group___h_a_l.html#ga9575de381850dacdb20fbe77471070d0">halGetCounterFrequency</a>() * (sec))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Seconds to realtime ticks. </p>
<p>Converts from seconds to realtime ticks number. </p><dl class="section note"><dt>Note</dt><dd>The result is rounded upward to the next tick boundary.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sec</td><td>number of seconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of ticks.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="hal_8h_source.html#l00109">109</a> of file <a class="el" href="hal_8h_source.html">hal.h</a>.</p>

</div>
</div>
<a class="anchor" id="gafafb79469751b0cddaffe27294c657fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MS2RTT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msec</td><td>)</td>
          <td>&#160;&#160;&#160;(((<a class="el" href="group___h_a_l.html#ga9575de381850dacdb20fbe77471070d0">halGetCounterFrequency</a>() + 999UL) / 1000UL) * (msec))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Milliseconds to realtime ticks. </p>
<p>Converts from milliseconds to realtime ticks number. </p><dl class="section note"><dt>Note</dt><dd>The result is rounded upward to the next tick boundary.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msec</td><td>number of milliseconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of ticks.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="hal_8h_source.html#l00121">121</a> of file <a class="el" href="hal_8h_source.html">hal.h</a>.</p>

</div>
</div>
<a class="anchor" id="gad785b0c0bf6d4cae193823c680e81275"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define US2RTT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">usec</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(((<a class="code" href="group___h_a_l.html#ga9575de381850dacdb20fbe77471070d0">halGetCounterFrequency</a>() + 999999UL) / 1000000UL) * \</div>
<div class="line">                      (usec))</div>
<div class="ttc" id="group___h_a_l_html_ga9575de381850dacdb20fbe77471070d0"><div class="ttname"><a href="group___h_a_l.html#ga9575de381850dacdb20fbe77471070d0">halGetCounterFrequency</a></div><div class="ttdeci">#define halGetCounterFrequency()</div><div class="ttdoc">Realtime counter frequency. </div><div class="ttdef"><b>Definition:</b> <a href="hal_8h_source.html#l00197">hal.h:197</a></div></div>
</div><!-- fragment -->
<p>Microseconds to realtime ticks. </p>
<p>Converts from microseconds to realtime ticks number. </p><dl class="section note"><dt>Note</dt><dd>The result is rounded upward to the next tick boundary.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">usec</td><td>number of microseconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of ticks.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="hal_8h_source.html#l00133">133</a> of file <a class="el" href="hal_8h_source.html">hal.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga0118a5e00963d2f4b196506d6bbad0b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTT2S</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ticks</td><td>)</td>
          <td>&#160;&#160;&#160;((ticks) / <a class="el" href="group___h_a_l.html#ga9575de381850dacdb20fbe77471070d0">halGetCounterFrequency</a>())</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Realtime ticks to seconds to. </p>
<p>Converts from realtime ticks number to seconds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ticks</td><td>number of ticks </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of seconds.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="hal_8h_source.html#l00145">145</a> of file <a class="el" href="hal_8h_source.html">hal.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaa5c3ce1777a87f4395831c9eeafc462a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTT2MS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ticks</td><td>)</td>
          <td>&#160;&#160;&#160;((ticks) / (<a class="el" href="group___h_a_l.html#ga9575de381850dacdb20fbe77471070d0">halGetCounterFrequency</a>() / 1000UL))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Realtime ticks to milliseconds. </p>
<p>Converts from realtime ticks number to milliseconds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ticks</td><td>number of ticks </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of milliseconds.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="hal_8h_source.html#l00156">156</a> of file <a class="el" href="hal_8h_source.html">hal.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga23ef60eeefb0684f6dad7f58c6ea8077"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTT2US</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ticks</td><td>)</td>
          <td>&#160;&#160;&#160;((ticks) / (<a class="el" href="group___h_a_l.html#ga9575de381850dacdb20fbe77471070d0">halGetCounterFrequency</a>() / 1000000UL))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Realtime ticks to microseconds. </p>
<p>Converts from realtime ticks number to microseconds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ticks</td><td>number of ticks </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of microseconds.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="hal_8h_source.html#l00167">167</a> of file <a class="el" href="hal_8h_source.html">hal.h</a>.</p>

</div>
</div>
<a class="anchor" id="gac17ba4e84d8f357a545eeda55b7fd74c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define halGetCounterValue</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group___h_a_l.html#ga0b58144c58561ea2698a000ee077f15a">hal_lld_get_counter_value</a>()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current value of the system free running counter. </p>
<dl class="section note"><dt>Note</dt><dd>This is an optional service that could not be implemented in all HAL implementations. </dd>
<dd>
This function can be called from any context.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The value of the system free running counter of type halrtcnt_t.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Special function, this function has special requirements see the notes. </dd></dl>

<p>Definition at line <a class="el" href="hal_8h_source.html#l00185">185</a> of file <a class="el" href="hal_8h_source.html">hal.h</a>.</p>

<p>Referenced by <a class="el" href="group___h_a_l.html#ga0fed7897b2478db5bf8015a91895bc5b">halIsCounterWithin()</a>, and <a class="el" href="group___h_a_l.html#ga071b854742b12dee2d5e2e8cad0cae58">halPolledDelay()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9575de381850dacdb20fbe77471070d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define halGetCounterFrequency</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group___h_a_l.html#ga6736dc08fce519d8aa265d68cf8d2619">hal_lld_get_counter_frequency</a>()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Realtime counter frequency. </p>
<dl class="section note"><dt>Note</dt><dd>This is an optional service that could not be implemented in all HAL implementations. </dd>
<dd>
This function can be called from any context.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The realtime counter frequency of type halclock_t.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Special function, this function has special requirements see the notes. </dd></dl>

<p>Definition at line <a class="el" href="hal_8h_source.html#l00197">197</a> of file <a class="el" href="hal_8h_source.html">hal.h</a>.</p>

</div>
</div>
<a class="anchor" id="gab9381cecf5d8ee734b286623300f5740"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HAL_IMPLEMENTS_COUNTERS&#160;&#160;&#160;<a class="el" href="group__kernel__info.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines the support for realtime counters in the HAL. </p>

<p>Definition at line <a class="el" href="hal__lld_8h_source.html#l00035">35</a> of file <a class="el" href="hal__lld_8h_source.html">hal_lld.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga0b58144c58561ea2698a000ee077f15a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define hal_lld_get_counter_value</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current value of the system free running counter. </p>
<dl class="section note"><dt>Note</dt><dd>This service is implemented by returning the content of the DWT_CYCCNT register.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The value of the system free running counter of type halrtcnt_t.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="hal__lld_8h_source.html#l00087">87</a> of file <a class="el" href="hal__lld_8h_source.html">hal_lld.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga6736dc08fce519d8aa265d68cf8d2619"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define hal_lld_get_counter_frequency</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td>&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Realtime counter frequency. </p>
<dl class="section note"><dt>Note</dt><dd>The DWT_CYCCNT register is incremented directly by the system clock so this function returns STM32_HCLK.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The realtime counter frequency of type halclock_t.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Not an API, this function is for internal use only. </dd></dl>

<p>Definition at line <a class="el" href="hal__lld_8h_source.html#l00098">98</a> of file <a class="el" href="hal__lld_8h_source.html">hal_lld.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="gaf3eca55d81a3c9d0c0b6131b079bfb9e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t <a class="el" href="group___h_a_l.html#gaf3eca55d81a3c9d0c0b6131b079bfb9e">halclock_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type representing a system clock frequency. </p>

<p>Definition at line <a class="el" href="hal__lld_8h_source.html#l00066">66</a> of file <a class="el" href="hal__lld_8h_source.html">hal_lld.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga5a210ed32313aab79a661eea02778f76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t <a class="el" href="group___h_a_l.html#ga5a210ed32313aab79a661eea02778f76">halrtcnt_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of the realtime free counter value. </p>

<p>Definition at line <a class="el" href="hal__lld_8h_source.html#l00071">71</a> of file <a class="el" href="hal__lld_8h_source.html">hal_lld.h</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
    <li class="footer">
      <a href="http://sourceforge.net/projects/chibios">
        <img src="http://sflogo.sourceforge.net/sflogo.php?group_id=205897&amp;type=11"
             border="0" width="120" height="30"
             alt="Get ChibiOS/RT embedded RTOS at SourceForge.net. Fast,
                  secure and Free Open Source software downloads"/>
      </a>
    </li>
  </ul>
</div>
<!-- Piwik -->
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? "https://apps.sourceforge.net/piwik/chibios/" : "http://apps.sourceforge.net/piwik/chibios/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
piwik_action_name = '';
piwik_idsite = 1;
piwik_url = pkBaseURL + "piwik.php";
piwik_log(piwik_action_name, piwik_idsite, piwik_url);
</script>
<object><noscript><p><img src="http://apps.sourceforge.net/piwik/chibios/piwik.php?idsite=1" alt="piwik"/></p></noscript></object>
<!-- End Piwik Tag -->
</body>
</html>
