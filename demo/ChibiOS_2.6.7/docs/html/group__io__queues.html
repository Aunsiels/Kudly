<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>I/O Queues</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 92px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ChibiOS/RT<br><span id="projectnumber">2.6.7</span></div>
  </td>
  <td style="padding-left: 3em;">
<script type="text/javascript"><!--
google_ad_client = "pub-3840594581853944";
/* Documentation, bottom, 728x90, created 9/19/10 */
google_ad_slot = "1902290615";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__io__queues.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle">
<div class="title">I/O Queues<div class="ingroups"><a class="el" href="group__kernel.html">Kernel</a> &raquo; <a class="el" href="group__synchronization.html">Synchronization</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for I/O Queues:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__io__queues.png" border="0" alt="" usemap="#group____io____queues"/>
<map name="group____io____queues" id="group____io____queues">
<area shape="rect" id="node2" href="group__synchronization.html" title="Synchronization" alt="" coords="5,5,116,29"/></map>
</td></tr></table></center>
</div>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>ChibiOS/RT queues are mostly used in serial-like device drivers. The device drivers are usually designed to have a lower side (lower driver, it is usually an interrupt service routine) and an upper side (upper driver, accessed by the application threads).<br />
 There are several kind of queues:<br />
</p><ul>
<li><b>Input queue</b>, unidirectional queue where the writer is the lower side and the reader is the upper side.</li>
<li><b>Output queue</b>, unidirectional queue where the writer is the upper side and the reader is the lower side.</li>
<li><b>Full duplex queue</b>, bidirectional queue. Full duplex queues are implemented by pairing an input queue and an output queue together.</li>
</ul>
<dl class="section pre"><dt>Precondition</dt><dd>In order to use the I/O queues the <code>CH_USE_QUEUES</code> option must be enabled in <code><a class="el" href="chconf_8h.html" title="Configuration file template. ">chconf.h</a></code>. </dd></dl>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_generic_queue.html">GenericQueue</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generic I/O queue structure.  <a href="struct_generic_queue.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaec09b1418fcd7ccd8295c433e51bb2de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#gaec09b1418fcd7ccd8295c433e51bb2de">chIQInit</a> (<a class="el" href="group__io__queues.html#gab15bb5ea346b37cd021c6a658e86084b">InputQueue</a> *iqp, uint8_t *bp, size_t size, <a class="el" href="group__io__queues.html#ga634b0cba8cf69b191e1fa76ca21d682a">qnotify_t</a> infy, void *link)</td></tr>
<tr class="memdesc:gaec09b1418fcd7ccd8295c433e51bb2de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes an input queue.  <a href="#gaec09b1418fcd7ccd8295c433e51bb2de">More...</a><br /></td></tr>
<tr class="separator:gaec09b1418fcd7ccd8295c433e51bb2de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2252ca3e5d6ee6d8d323d025365aee59"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#ga2252ca3e5d6ee6d8d323d025365aee59">chIQResetI</a> (<a class="el" href="group__io__queues.html#gab15bb5ea346b37cd021c6a658e86084b">InputQueue</a> *iqp)</td></tr>
<tr class="memdesc:ga2252ca3e5d6ee6d8d323d025365aee59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets an input queue.  <a href="#ga2252ca3e5d6ee6d8d323d025365aee59">More...</a><br /></td></tr>
<tr class="separator:ga2252ca3e5d6ee6d8d323d025365aee59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga23b72ba9803de5a20caa84ffd0c193fc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#ga23b72ba9803de5a20caa84ffd0c193fc">chIQPutI</a> (<a class="el" href="group__io__queues.html#gab15bb5ea346b37cd021c6a658e86084b">InputQueue</a> *iqp, uint8_t b)</td></tr>
<tr class="memdesc:ga23b72ba9803de5a20caa84ffd0c193fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Input queue write.  <a href="#ga23b72ba9803de5a20caa84ffd0c193fc">More...</a><br /></td></tr>
<tr class="separator:ga23b72ba9803de5a20caa84ffd0c193fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga142d0e885ac3a695f5f033a65f49abd0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#ga142d0e885ac3a695f5f033a65f49abd0">chIQGetTimeout</a> (<a class="el" href="group__io__queues.html#gab15bb5ea346b37cd021c6a658e86084b">InputQueue</a> *iqp, <a class="el" href="group__types.html#gae3e32a98d431a02106616da3071832dd">systime_t</a> time)</td></tr>
<tr class="memdesc:ga142d0e885ac3a695f5f033a65f49abd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Input queue read with timeout.  <a href="#ga142d0e885ac3a695f5f033a65f49abd0">More...</a><br /></td></tr>
<tr class="separator:ga142d0e885ac3a695f5f033a65f49abd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaddf6fc39af7d905c9f23afde14d8d764"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#gaddf6fc39af7d905c9f23afde14d8d764">chIQReadTimeout</a> (<a class="el" href="group__io__queues.html#gab15bb5ea346b37cd021c6a658e86084b">InputQueue</a> *iqp, uint8_t *bp, size_t n, <a class="el" href="group__types.html#gae3e32a98d431a02106616da3071832dd">systime_t</a> time)</td></tr>
<tr class="memdesc:gaddf6fc39af7d905c9f23afde14d8d764"><td class="mdescLeft">&#160;</td><td class="mdescRight">Input queue read with timeout.  <a href="#gaddf6fc39af7d905c9f23afde14d8d764">More...</a><br /></td></tr>
<tr class="separator:gaddf6fc39af7d905c9f23afde14d8d764"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga804d2c02eecae1ca8354eaf0ad4a06c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#ga804d2c02eecae1ca8354eaf0ad4a06c8">chOQInit</a> (<a class="el" href="group__io__queues.html#gac7723f9b71300f4231db2b6e502f23c9">OutputQueue</a> *oqp, uint8_t *bp, size_t size, <a class="el" href="group__io__queues.html#ga634b0cba8cf69b191e1fa76ca21d682a">qnotify_t</a> onfy, void *link)</td></tr>
<tr class="memdesc:ga804d2c02eecae1ca8354eaf0ad4a06c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes an output queue.  <a href="#ga804d2c02eecae1ca8354eaf0ad4a06c8">More...</a><br /></td></tr>
<tr class="separator:ga804d2c02eecae1ca8354eaf0ad4a06c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0a35a7de945e4b56b5fb5f5c8567e296"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#ga0a35a7de945e4b56b5fb5f5c8567e296">chOQResetI</a> (<a class="el" href="group__io__queues.html#gac7723f9b71300f4231db2b6e502f23c9">OutputQueue</a> *oqp)</td></tr>
<tr class="memdesc:ga0a35a7de945e4b56b5fb5f5c8567e296"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets an output queue.  <a href="#ga0a35a7de945e4b56b5fb5f5c8567e296">More...</a><br /></td></tr>
<tr class="separator:ga0a35a7de945e4b56b5fb5f5c8567e296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3df1926602eb698119990b311b097ad9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#ga3df1926602eb698119990b311b097ad9">chOQPutTimeout</a> (<a class="el" href="group__io__queues.html#gac7723f9b71300f4231db2b6e502f23c9">OutputQueue</a> *oqp, uint8_t b, <a class="el" href="group__types.html#gae3e32a98d431a02106616da3071832dd">systime_t</a> time)</td></tr>
<tr class="memdesc:ga3df1926602eb698119990b311b097ad9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output queue write with timeout.  <a href="#ga3df1926602eb698119990b311b097ad9">More...</a><br /></td></tr>
<tr class="separator:ga3df1926602eb698119990b311b097ad9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga34a5a71f39e94fcfdd88935da92a8ce9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__types.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#ga34a5a71f39e94fcfdd88935da92a8ce9">chOQGetI</a> (<a class="el" href="group__io__queues.html#gac7723f9b71300f4231db2b6e502f23c9">OutputQueue</a> *oqp)</td></tr>
<tr class="memdesc:ga34a5a71f39e94fcfdd88935da92a8ce9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output queue read.  <a href="#ga34a5a71f39e94fcfdd88935da92a8ce9">More...</a><br /></td></tr>
<tr class="separator:ga34a5a71f39e94fcfdd88935da92a8ce9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1e90d41fa021107d72b1bed81186aae8"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#ga1e90d41fa021107d72b1bed81186aae8">chOQWriteTimeout</a> (<a class="el" href="group__io__queues.html#gac7723f9b71300f4231db2b6e502f23c9">OutputQueue</a> *oqp, const uint8_t *bp, size_t n, <a class="el" href="group__types.html#gae3e32a98d431a02106616da3071832dd">systime_t</a> time)</td></tr>
<tr class="memdesc:ga1e90d41fa021107d72b1bed81186aae8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output queue write with timeout.  <a href="#ga1e90d41fa021107d72b1bed81186aae8">More...</a><br /></td></tr>
<tr class="separator:ga1e90d41fa021107d72b1bed81186aae8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Queue functions returned status value</h2></td></tr>
<tr class="memitem:gadfbe2a9b3e7477d3fd4026d61caf1fcd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#gadfbe2a9b3e7477d3fd4026d61caf1fcd">Q_OK</a>&#160;&#160;&#160;<a class="el" href="group__scheduler.html#gae1c86078318e11c2fa57ee3c2ec69f61">RDY_OK</a></td></tr>
<tr class="memdesc:gadfbe2a9b3e7477d3fd4026d61caf1fcd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Operation successful.  <a href="#gadfbe2a9b3e7477d3fd4026d61caf1fcd">More...</a><br /></td></tr>
<tr class="separator:gadfbe2a9b3e7477d3fd4026d61caf1fcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaed5efaf47ab37022f69e8080610bcb8b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#gaed5efaf47ab37022f69e8080610bcb8b">Q_TIMEOUT</a>&#160;&#160;&#160;<a class="el" href="group__scheduler.html#gaf28d5427eeeb8f737cc7db495157780c">RDY_TIMEOUT</a></td></tr>
<tr class="memdesc:gaed5efaf47ab37022f69e8080610bcb8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timeout condition.  <a href="#gaed5efaf47ab37022f69e8080610bcb8b">More...</a><br /></td></tr>
<tr class="separator:gaed5efaf47ab37022f69e8080610bcb8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaef6ed06ced720075658356892318f92d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#gaef6ed06ced720075658356892318f92d">Q_RESET</a>&#160;&#160;&#160;<a class="el" href="group__scheduler.html#ga3a606c833796229f23adcb3f6c404a81">RDY_RESET</a></td></tr>
<tr class="memdesc:gaef6ed06ced720075658356892318f92d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue has been reset.  <a href="#gaef6ed06ced720075658356892318f92d">More...</a><br /></td></tr>
<tr class="separator:gaef6ed06ced720075658356892318f92d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9d3fcfacb433cb513882db4515ac348b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#ga9d3fcfacb433cb513882db4515ac348b">Q_EMPTY</a>&#160;&#160;&#160;-3</td></tr>
<tr class="memdesc:ga9d3fcfacb433cb513882db4515ac348b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue empty.  <a href="#ga9d3fcfacb433cb513882db4515ac348b">More...</a><br /></td></tr>
<tr class="separator:ga9d3fcfacb433cb513882db4515ac348b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6c462ef0a5b01afbd0d94a8e1ac8575a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#ga6c462ef0a5b01afbd0d94a8e1ac8575a">Q_FULL</a>&#160;&#160;&#160;-4</td></tr>
<tr class="memdesc:ga6c462ef0a5b01afbd0d94a8e1ac8575a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue full,.  <a href="#ga6c462ef0a5b01afbd0d94a8e1ac8575a">More...</a><br /></td></tr>
<tr class="separator:ga6c462ef0a5b01afbd0d94a8e1ac8575a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Macro Functions</h2></td></tr>
<tr class="memitem:ga3a267ae4c2b3c863968cff6c916fa632"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#ga3a267ae4c2b3c863968cff6c916fa632">chQSizeI</a>(qp)&#160;&#160;&#160;((size_t)((qp)-&gt;q_top - (qp)-&gt;q_buffer))</td></tr>
<tr class="memdesc:ga3a267ae4c2b3c863968cff6c916fa632"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the queue's buffer size.  <a href="#ga3a267ae4c2b3c863968cff6c916fa632">More...</a><br /></td></tr>
<tr class="separator:ga3a267ae4c2b3c863968cff6c916fa632"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4bd033c46fb1ca5eef53baa6d4e52e40"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#ga4bd033c46fb1ca5eef53baa6d4e52e40">chQSpaceI</a>(qp)&#160;&#160;&#160;((qp)-&gt;q_counter)</td></tr>
<tr class="memdesc:ga4bd033c46fb1ca5eef53baa6d4e52e40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue space.  <a href="#ga4bd033c46fb1ca5eef53baa6d4e52e40">More...</a><br /></td></tr>
<tr class="separator:ga4bd033c46fb1ca5eef53baa6d4e52e40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2bcdd3d4b90fbe7760b19bfeacdcd56"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#gad2bcdd3d4b90fbe7760b19bfeacdcd56">chQGetLink</a>(qp)&#160;&#160;&#160;((qp)-&gt;q_link)</td></tr>
<tr class="memdesc:gad2bcdd3d4b90fbe7760b19bfeacdcd56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the queue application-defined link.  <a href="#gad2bcdd3d4b90fbe7760b19bfeacdcd56">More...</a><br /></td></tr>
<tr class="separator:gad2bcdd3d4b90fbe7760b19bfeacdcd56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeb171620efe16ae202b5e61e80f93cdc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#gaeb171620efe16ae202b5e61e80f93cdc">chIQGetFullI</a>(iqp)&#160;&#160;&#160;<a class="el" href="group__io__queues.html#ga4bd033c46fb1ca5eef53baa6d4e52e40">chQSpaceI</a>(iqp)</td></tr>
<tr class="memdesc:gaeb171620efe16ae202b5e61e80f93cdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the filled space into an input queue.  <a href="#gaeb171620efe16ae202b5e61e80f93cdc">More...</a><br /></td></tr>
<tr class="separator:gaeb171620efe16ae202b5e61e80f93cdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf41d17a23f240f355b822608b01cc581"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#gaf41d17a23f240f355b822608b01cc581">chIQGetEmptyI</a>(iqp)&#160;&#160;&#160;(<a class="el" href="group__io__queues.html#ga3a267ae4c2b3c863968cff6c916fa632">chQSizeI</a>(iqp) - <a class="el" href="group__io__queues.html#ga4bd033c46fb1ca5eef53baa6d4e52e40">chQSpaceI</a>(iqp))</td></tr>
<tr class="memdesc:gaf41d17a23f240f355b822608b01cc581"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the empty space into an input queue.  <a href="#gaf41d17a23f240f355b822608b01cc581">More...</a><br /></td></tr>
<tr class="separator:gaf41d17a23f240f355b822608b01cc581"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga99d63c63c25506a3dddd8b24ec346651"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#ga99d63c63c25506a3dddd8b24ec346651">chIQIsEmptyI</a>(iqp)&#160;&#160;&#160;((<a class="el" href="group__types.html#ga7556af1cb61728b53228fa3af1c851de">bool_t</a>)(<a class="el" href="group__io__queues.html#ga4bd033c46fb1ca5eef53baa6d4e52e40">chQSpaceI</a>(iqp) &lt;= 0))</td></tr>
<tr class="memdesc:ga99d63c63c25506a3dddd8b24ec346651"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluates to <code>TRUE</code> if the specified input queue is empty.  <a href="#ga99d63c63c25506a3dddd8b24ec346651">More...</a><br /></td></tr>
<tr class="separator:ga99d63c63c25506a3dddd8b24ec346651"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga13389ed212747059b9bc2ac05c102dc1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#ga13389ed212747059b9bc2ac05c102dc1">chIQIsFullI</a>(iqp)</td></tr>
<tr class="memdesc:ga13389ed212747059b9bc2ac05c102dc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluates to <code>TRUE</code> if the specified input queue is full.  <a href="#ga13389ed212747059b9bc2ac05c102dc1">More...</a><br /></td></tr>
<tr class="separator:ga13389ed212747059b9bc2ac05c102dc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga677247f42b796cedc0c0b58a15c11794"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#ga677247f42b796cedc0c0b58a15c11794">chIQGet</a>(iqp)&#160;&#160;&#160;<a class="el" href="group__io__queues.html#ga142d0e885ac3a695f5f033a65f49abd0">chIQGetTimeout</a>(iqp, <a class="el" href="group__scheduler.html#gae1568cf3090c973c3bc47f86ae2f5afb">TIME_INFINITE</a>)</td></tr>
<tr class="memdesc:ga677247f42b796cedc0c0b58a15c11794"><td class="mdescLeft">&#160;</td><td class="mdescRight">Input queue read.  <a href="#ga677247f42b796cedc0c0b58a15c11794">More...</a><br /></td></tr>
<tr class="separator:ga677247f42b796cedc0c0b58a15c11794"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3b300bc9b37a3e0f53140a3ea6e85a54"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#ga3b300bc9b37a3e0f53140a3ea6e85a54">chOQGetFullI</a>(oqp)&#160;&#160;&#160;(<a class="el" href="group__io__queues.html#ga3a267ae4c2b3c863968cff6c916fa632">chQSizeI</a>(oqp) - <a class="el" href="group__io__queues.html#ga4bd033c46fb1ca5eef53baa6d4e52e40">chQSpaceI</a>(oqp))</td></tr>
<tr class="memdesc:ga3b300bc9b37a3e0f53140a3ea6e85a54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the filled space into an output queue.  <a href="#ga3b300bc9b37a3e0f53140a3ea6e85a54">More...</a><br /></td></tr>
<tr class="separator:ga3b300bc9b37a3e0f53140a3ea6e85a54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ffdc2af382d807369f094f0b6e25c4b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#ga5ffdc2af382d807369f094f0b6e25c4b">chOQGetEmptyI</a>(oqp)&#160;&#160;&#160;<a class="el" href="group__io__queues.html#ga4bd033c46fb1ca5eef53baa6d4e52e40">chQSpaceI</a>(oqp)</td></tr>
<tr class="memdesc:ga5ffdc2af382d807369f094f0b6e25c4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the empty space into an output queue.  <a href="#ga5ffdc2af382d807369f094f0b6e25c4b">More...</a><br /></td></tr>
<tr class="separator:ga5ffdc2af382d807369f094f0b6e25c4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga63025b0d6a554982d8da2ef544f2fb04"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#ga63025b0d6a554982d8da2ef544f2fb04">chOQIsEmptyI</a>(oqp)</td></tr>
<tr class="memdesc:ga63025b0d6a554982d8da2ef544f2fb04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluates to <code>TRUE</code> if the specified output queue is empty.  <a href="#ga63025b0d6a554982d8da2ef544f2fb04">More...</a><br /></td></tr>
<tr class="separator:ga63025b0d6a554982d8da2ef544f2fb04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0c8438437ef221267db8b3d87e87c3be"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#ga0c8438437ef221267db8b3d87e87c3be">chOQIsFullI</a>(oqp)&#160;&#160;&#160;((<a class="el" href="group__types.html#ga7556af1cb61728b53228fa3af1c851de">bool_t</a>)(<a class="el" href="group__io__queues.html#ga4bd033c46fb1ca5eef53baa6d4e52e40">chQSpaceI</a>(oqp) &lt;= 0))</td></tr>
<tr class="memdesc:ga0c8438437ef221267db8b3d87e87c3be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluates to <code>TRUE</code> if the specified output queue is full.  <a href="#ga0c8438437ef221267db8b3d87e87c3be">More...</a><br /></td></tr>
<tr class="separator:ga0c8438437ef221267db8b3d87e87c3be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga825aba08aea4a6ac97a763404265956b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#ga825aba08aea4a6ac97a763404265956b">chOQPut</a>(oqp,  b)&#160;&#160;&#160;<a class="el" href="group__io__queues.html#ga3df1926602eb698119990b311b097ad9">chOQPutTimeout</a>(oqp, b, <a class="el" href="group__scheduler.html#gae1568cf3090c973c3bc47f86ae2f5afb">TIME_INFINITE</a>)</td></tr>
<tr class="memdesc:ga825aba08aea4a6ac97a763404265956b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output queue write.  <a href="#ga825aba08aea4a6ac97a763404265956b">More...</a><br /></td></tr>
<tr class="separator:ga825aba08aea4a6ac97a763404265956b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga8d80a05423c64f417cee541e0f97341c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#ga8d80a05423c64f417cee541e0f97341c">_INPUTQUEUE_DATA</a>(name,  buffer,  size,  inotify,  link)</td></tr>
<tr class="memdesc:ga8d80a05423c64f417cee541e0f97341c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data part of a static input queue initializer.  <a href="#ga8d80a05423c64f417cee541e0f97341c">More...</a><br /></td></tr>
<tr class="separator:ga8d80a05423c64f417cee541e0f97341c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91bf8378f3a59a0ab3fd51d848b6555f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#ga91bf8378f3a59a0ab3fd51d848b6555f">INPUTQUEUE_DECL</a>(name,  buffer,  size,  inotify,  link)&#160;&#160;&#160;<a class="el" href="group__io__queues.html#gab15bb5ea346b37cd021c6a658e86084b">InputQueue</a> name = <a class="el" href="group__io__queues.html#ga8d80a05423c64f417cee541e0f97341c">_INPUTQUEUE_DATA</a>(name, buffer, size, inotify, link)</td></tr>
<tr class="memdesc:ga91bf8378f3a59a0ab3fd51d848b6555f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Static input queue initializer.  <a href="#ga91bf8378f3a59a0ab3fd51d848b6555f">More...</a><br /></td></tr>
<tr class="separator:ga91bf8378f3a59a0ab3fd51d848b6555f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga92435bfe462920042317f1cc68b35006"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#ga92435bfe462920042317f1cc68b35006">_OUTPUTQUEUE_DATA</a>(name,  buffer,  size,  onotify,  link)</td></tr>
<tr class="memdesc:ga92435bfe462920042317f1cc68b35006"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data part of a static output queue initializer.  <a href="#ga92435bfe462920042317f1cc68b35006">More...</a><br /></td></tr>
<tr class="separator:ga92435bfe462920042317f1cc68b35006"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4bebf842ec24b1291ab73d20ac525745"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#ga4bebf842ec24b1291ab73d20ac525745">OUTPUTQUEUE_DECL</a>(name,  buffer,  size,  onotify,  link)&#160;&#160;&#160;<a class="el" href="group__io__queues.html#gac7723f9b71300f4231db2b6e502f23c9">OutputQueue</a> name = <a class="el" href="group__io__queues.html#ga92435bfe462920042317f1cc68b35006">_OUTPUTQUEUE_DATA</a>(name, buffer, size, onotify, link)</td></tr>
<tr class="memdesc:ga4bebf842ec24b1291ab73d20ac525745"><td class="mdescLeft">&#160;</td><td class="mdescRight">Static output queue initializer.  <a href="#ga4bebf842ec24b1291ab73d20ac525745">More...</a><br /></td></tr>
<tr class="separator:ga4bebf842ec24b1291ab73d20ac525745"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gac3f831073d2ea0a3ca6bedd62e46aab2"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct_generic_queue.html">GenericQueue</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#gac3f831073d2ea0a3ca6bedd62e46aab2">GenericQueue</a></td></tr>
<tr class="memdesc:gac3f831073d2ea0a3ca6bedd62e46aab2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of a generic I/O queue structure.  <a href="#gac3f831073d2ea0a3ca6bedd62e46aab2">More...</a><br /></td></tr>
<tr class="separator:gac3f831073d2ea0a3ca6bedd62e46aab2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga634b0cba8cf69b191e1fa76ca21d682a"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#ga634b0cba8cf69b191e1fa76ca21d682a">qnotify_t</a>) (<a class="el" href="struct_generic_queue.html">GenericQueue</a> *qp)</td></tr>
<tr class="memdesc:ga634b0cba8cf69b191e1fa76ca21d682a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue notification callback type.  <a href="#ga634b0cba8cf69b191e1fa76ca21d682a">More...</a><br /></td></tr>
<tr class="separator:ga634b0cba8cf69b191e1fa76ca21d682a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab15bb5ea346b37cd021c6a658e86084b"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="struct_generic_queue.html">GenericQueue</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#gab15bb5ea346b37cd021c6a658e86084b">InputQueue</a></td></tr>
<tr class="memdesc:gab15bb5ea346b37cd021c6a658e86084b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of an input queue structure.  <a href="#gab15bb5ea346b37cd021c6a658e86084b">More...</a><br /></td></tr>
<tr class="separator:gab15bb5ea346b37cd021c6a658e86084b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac7723f9b71300f4231db2b6e502f23c9"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="struct_generic_queue.html">GenericQueue</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__io__queues.html#gac7723f9b71300f4231db2b6e502f23c9">OutputQueue</a></td></tr>
<tr class="memdesc:gac7723f9b71300f4231db2b6e502f23c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of an output queue structure.  <a href="#gac7723f9b71300f4231db2b6e502f23c9">More...</a><br /></td></tr>
<tr class="separator:gac7723f9b71300f4231db2b6e502f23c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaec09b1418fcd7ccd8295c433e51bb2de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void chIQInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__io__queues.html#gab15bb5ea346b37cd021c6a658e86084b">InputQueue</a> *&#160;</td>
          <td class="paramname"><em>iqp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>bp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__io__queues.html#ga634b0cba8cf69b191e1fa76ca21d682a">qnotify_t</a>&#160;</td>
          <td class="paramname"><em>infy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>link</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes an input queue. </p>
<p>A <a class="el" href="struct_semaphore.html" title="Semaphore structure. ">Semaphore</a> is internally initialized and works as a counter of the bytes contained in the queue. </p><dl class="section note"><dt>Note</dt><dd>The callback is invoked from within the S-Locked system state, see <a class="el" href="concepts.html#system_states">System States</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">iqp</td><td>pointer to an <code>InputQueue</code> structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bp</td><td>pointer to a memory area allocated as queue buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>size of the queue buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">infy</td><td>pointer to a callback function that is invoked when data is read from the queue. The value can be <code>NULL</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">link</td><td>application defined pointer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Initializer, this function just initializes an object and can be invoked before the kernel is initialized. </dd></dl>

<p>Definition at line <a class="el" href="chqueues_8c_source.html#l00095">95</a> of file <a class="el" href="chqueues_8c_source.html">chqueues.c</a>.</p>

<p>References <a class="el" href="struct_generic_queue.html#a644ac8a420048012cf562a31e8c144c6">GenericQueue::q_buffer</a>, <a class="el" href="struct_generic_queue.html#a9cfe5c5928d6aebac4e7910de2619564">GenericQueue::q_counter</a>, <a class="el" href="struct_generic_queue.html#a47f6ed2db012183856518caac0d51814">GenericQueue::q_link</a>, <a class="el" href="struct_generic_queue.html#ab8c8dc77de2c387f8a980a9c179388e1">GenericQueue::q_notify</a>, <a class="el" href="struct_generic_queue.html#acc1453d7bc5a4ceddba2166b72ba3b47">GenericQueue::q_rdptr</a>, <a class="el" href="struct_generic_queue.html#a2345976305f32ce54981ad1ee36e77be">GenericQueue::q_top</a>, <a class="el" href="struct_generic_queue.html#a82d9b3aa2f95308cd8b500a96c6920cd">GenericQueue::q_waiting</a>, <a class="el" href="struct_generic_queue.html#a5cf5a39a1a57b15d1a2491edcbd72442">GenericQueue::q_wrptr</a>, and <a class="el" href="group__internals.html#ga6d19d0f3ff1fa599b6d9783dec180451">queue_init</a>.</p>

<p>Referenced by <a class="el" href="group___s_e_r_i_a_l.html#gacb9838adcf51106f4e481f41a851cc34">sdObjectInit()</a>, and <a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ga5199136afebc5c36bf4f91c092f47b65">sduObjectInit()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2252ca3e5d6ee6d8d323d025365aee59"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void chIQResetI </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__io__queues.html#gab15bb5ea346b37cd021c6a658e86084b">InputQueue</a> *&#160;</td>
          <td class="paramname"><em>iqp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets an input queue. </p>
<p>All the data in the input queue is erased and lost, any waiting thread is resumed with status <code>Q_RESET</code>. </p><dl class="section note"><dt>Note</dt><dd>A reset operation can be used by a low level driver in order to obtain immediate attention from the high level layers.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iqp</td><td>pointer to an <code>InputQueue</code> structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>This is an <b>I-Class</b> API, this function can be invoked from within a system lock zone by both threads and interrupt handlers. </dd></dl>

<p>Definition at line <a class="el" href="chqueues_8c_source.html#l00117">117</a> of file <a class="el" href="chqueues_8c_source.html">chqueues.c</a>.</p>

<p>References <a class="el" href="group__debug.html#ga3e4782dccbb385051e1eb01ac5b05470">chDbgCheckClassI()</a>, <a class="el" href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298">chSchReadyI()</a>, <a class="el" href="group__internals.html#ga042479f09357fc59befebf4dfe0e9f4a">fifo_remove()</a>, <a class="el" href="group__internals.html#ga8f6bea56a53acc44758fe61c98d68a4e">notempty</a>, <a class="el" href="struct_thread.html#a72cd0424b6098ca241fac1f74d21b56a">Thread::p_u</a>, <a class="el" href="struct_generic_queue.html#a644ac8a420048012cf562a31e8c144c6">GenericQueue::q_buffer</a>, <a class="el" href="struct_generic_queue.html#a9cfe5c5928d6aebac4e7910de2619564">GenericQueue::q_counter</a>, <a class="el" href="struct_generic_queue.html#acc1453d7bc5a4ceddba2166b72ba3b47">GenericQueue::q_rdptr</a>, <a class="el" href="group__io__queues.html#gaef6ed06ced720075658356892318f92d">Q_RESET</a>, <a class="el" href="struct_generic_queue.html#a82d9b3aa2f95308cd8b500a96c6920cd">GenericQueue::q_waiting</a>, <a class="el" href="struct_generic_queue.html#a5cf5a39a1a57b15d1a2491edcbd72442">GenericQueue::q_wrptr</a>, and <a class="el" href="struct_thread.html#ad5792c30fbd60df0de223b0f398fc6d7">Thread::rdymsg</a>.</p>

<p>Referenced by <a class="el" href="group___s_e_r_i_a_l.html#gacb106a30f8007afdf9eeaf8681dbd3cf">sdStop()</a>, <a class="el" href="group___s_e_r_i_a_l___u_s_b.html#gafd2c21dbaa872a6d1476ccb01bd22435">sduConfigureHookI()</a>, and <a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ga9bf98cff1ce7b0b18b00e0bb77da98ae">sduStop()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__io__queues_ga2252ca3e5d6ee6d8d323d025365aee59_cgraph.png" border="0" usemap="#group__io__queues_ga2252ca3e5d6ee6d8d323d025365aee59_cgraph" alt=""/></div>
<map name="group__io__queues_ga2252ca3e5d6ee6d8d323d025365aee59_cgraph" id="group__io__queues_ga2252ca3e5d6ee6d8d323d025365aee59_cgraph">
<area shape="rect" id="node2" href="group__debug.html#ga3e4782dccbb385051e1eb01ac5b05470" title="I&#45;class functions context check. " alt="" coords="277,5,404,29"/><area shape="rect" id="node4" href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298" title="Inserts a thread in the Ready List. " alt="" coords="136,29,229,53"/><area shape="rect" id="node5" href="group__internals.html#ga042479f09357fc59befebf4dfe0e9f4a" title="Removes the first&#45;out Thread from a queue and returns it. " alt="" coords="138,77,227,101"/><area shape="rect" id="node3" href="group__debug.html#ga897718bcb144b5523b914633b0d824e1" title="Prints a panic message on the console and then halts the system. " alt="" coords="452,5,539,29"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga23b72ba9803de5a20caa84ffd0c193fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a> chIQPutI </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__io__queues.html#gab15bb5ea346b37cd021c6a658e86084b">InputQueue</a> *&#160;</td>
          <td class="paramname"><em>iqp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Input queue write. </p>
<p>A byte value is written into the low end of an input queue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iqp</td><td>pointer to an <code>InputQueue</code> structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>the byte value to be written in the queue </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Q_OK</td><td>if the operation has been completed with success. </td></tr>
    <tr><td class="paramname">Q_FULL</td><td>if the queue is full and the operation cannot be completed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>This is an <b>I-Class</b> API, this function can be invoked from within a system lock zone by both threads and interrupt handlers. </dd></dl>

<p>Definition at line <a class="el" href="chqueues_8c_source.html#l00140">140</a> of file <a class="el" href="chqueues_8c_source.html">chqueues.c</a>.</p>

<p>References <a class="el" href="group__debug.html#ga3e4782dccbb385051e1eb01ac5b05470">chDbgCheckClassI()</a>, <a class="el" href="group__io__queues.html#ga13389ed212747059b9bc2ac05c102dc1">chIQIsFullI</a>, <a class="el" href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298">chSchReadyI()</a>, <a class="el" href="group__internals.html#ga042479f09357fc59befebf4dfe0e9f4a">fifo_remove()</a>, <a class="el" href="group__internals.html#ga8f6bea56a53acc44758fe61c98d68a4e">notempty</a>, <a class="el" href="struct_thread.html#a72cd0424b6098ca241fac1f74d21b56a">Thread::p_u</a>, <a class="el" href="struct_generic_queue.html#a644ac8a420048012cf562a31e8c144c6">GenericQueue::q_buffer</a>, <a class="el" href="struct_generic_queue.html#a9cfe5c5928d6aebac4e7910de2619564">GenericQueue::q_counter</a>, <a class="el" href="group__io__queues.html#ga6c462ef0a5b01afbd0d94a8e1ac8575a">Q_FULL</a>, <a class="el" href="group__io__queues.html#gadfbe2a9b3e7477d3fd4026d61caf1fcd">Q_OK</a>, <a class="el" href="struct_generic_queue.html#a2345976305f32ce54981ad1ee36e77be">GenericQueue::q_top</a>, <a class="el" href="struct_generic_queue.html#a82d9b3aa2f95308cd8b500a96c6920cd">GenericQueue::q_waiting</a>, <a class="el" href="struct_generic_queue.html#a5cf5a39a1a57b15d1a2491edcbd72442">GenericQueue::q_wrptr</a>, and <a class="el" href="struct_thread.html#ad5792c30fbd60df0de223b0f398fc6d7">Thread::rdymsg</a>.</p>

<p>Referenced by <a class="el" href="group___s_e_r_i_a_l.html#gac94544bc991e2b85a601459463604346">sdIncomingDataI()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__io__queues_ga23b72ba9803de5a20caa84ffd0c193fc_cgraph.png" border="0" usemap="#group__io__queues_ga23b72ba9803de5a20caa84ffd0c193fc_cgraph" alt=""/></div>
<map name="group__io__queues_ga23b72ba9803de5a20caa84ffd0c193fc_cgraph" id="group__io__queues_ga23b72ba9803de5a20caa84ffd0c193fc_cgraph">
<area shape="rect" id="node2" href="group__debug.html#ga3e4782dccbb385051e1eb01ac5b05470" title="I&#45;class functions context check. " alt="" coords="263,5,389,29"/><area shape="rect" id="node4" href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298" title="Inserts a thread in the Ready List. " alt="" coords="121,29,215,53"/><area shape="rect" id="node5" href="group__internals.html#ga042479f09357fc59befebf4dfe0e9f4a" title="Removes the first&#45;out Thread from a queue and returns it. " alt="" coords="123,77,213,101"/><area shape="rect" id="node3" href="group__debug.html#ga897718bcb144b5523b914633b0d824e1" title="Prints a panic message on the console and then halts the system. " alt="" coords="437,5,524,29"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga142d0e885ac3a695f5f033a65f49abd0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a> chIQGetTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__io__queues.html#gab15bb5ea346b37cd021c6a658e86084b">InputQueue</a> *&#160;</td>
          <td class="paramname"><em>iqp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#gae3e32a98d431a02106616da3071832dd">systime_t</a>&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Input queue read with timeout. </p>
<p>This function reads a byte value from an input queue. If the queue is empty then the calling thread is suspended until a byte arrives in the queue or a timeout occurs. </p><dl class="section note"><dt>Note</dt><dd>The callback is invoked before reading the character from the buffer or before entering the state <code>THD_STATE_WTQUEUE</code>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iqp</td><td>pointer to an <code>InputQueue</code> structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>the number of ticks before the operation timeouts, the following special values are allowed:<ul>
<li><em>TIME_IMMEDIATE</em> immediate timeout.</li>
<li><em>TIME_INFINITE</em> no timeout.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A byte value from the queue. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Q_TIMEOUT</td><td>if the specified time expired. </td></tr>
    <tr><td class="paramname">Q_RESET</td><td>if the queue has been reset.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="chqueues_8c_source.html#l00178">178</a> of file <a class="el" href="chqueues_8c_source.html">chqueues.c</a>.</p>

<p>References <a class="el" href="group__io__queues.html#ga99d63c63c25506a3dddd8b24ec346651">chIQIsEmptyI</a>, <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>, <a class="el" href="struct_generic_queue.html#a644ac8a420048012cf562a31e8c144c6">GenericQueue::q_buffer</a>, <a class="el" href="struct_generic_queue.html#a9cfe5c5928d6aebac4e7910de2619564">GenericQueue::q_counter</a>, <a class="el" href="struct_generic_queue.html#ab8c8dc77de2c387f8a980a9c179388e1">GenericQueue::q_notify</a>, <a class="el" href="group__io__queues.html#gadfbe2a9b3e7477d3fd4026d61caf1fcd">Q_OK</a>, <a class="el" href="struct_generic_queue.html#acc1453d7bc5a4ceddba2166b72ba3b47">GenericQueue::q_rdptr</a>, and <a class="el" href="struct_generic_queue.html#a2345976305f32ce54981ad1ee36e77be">GenericQueue::q_top</a>.</p>

</div>
</div>
<a class="anchor" id="gaddf6fc39af7d905c9f23afde14d8d764"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t chIQReadTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__io__queues.html#gab15bb5ea346b37cd021c6a658e86084b">InputQueue</a> *&#160;</td>
          <td class="paramname"><em>iqp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>bp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#gae3e32a98d431a02106616da3071832dd">systime_t</a>&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Input queue read with timeout. </p>
<p>The function reads data from an input queue into a buffer. The operation completes when the specified amount of data has been transferred or after the specified timeout or if the queue has been reset. </p><dl class="section note"><dt>Note</dt><dd>The function is not atomic, if you need atomicity it is suggested to use a semaphore or a mutex for mutual exclusion. </dd>
<dd>
The callback is invoked before reading each character from the buffer or before entering the state <code>THD_STATE_WTQUEUE</code>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iqp</td><td>pointer to an <code>InputQueue</code> structure </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bp</td><td>pointer to the data buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>the maximum amount of data to be transferred, the value 0 is reserved </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>the number of ticks before the operation timeouts, the following special values are allowed:<ul>
<li><em>TIME_IMMEDIATE</em> immediate timeout.</li>
<li><em>TIME_INFINITE</em> no timeout.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes effectively transferred.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="chqueues_8c_source.html#l00226">226</a> of file <a class="el" href="chqueues_8c_source.html">chqueues.c</a>.</p>

<p>References <a class="el" href="group__debug.html#ga6bb6c0f97caab3a66332c8bfbf7a3844">chDbgCheck</a>, <a class="el" href="group__io__queues.html#ga99d63c63c25506a3dddd8b24ec346651">chIQIsEmptyI</a>, <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>, <a class="el" href="struct_generic_queue.html#a644ac8a420048012cf562a31e8c144c6">GenericQueue::q_buffer</a>, <a class="el" href="struct_generic_queue.html#a9cfe5c5928d6aebac4e7910de2619564">GenericQueue::q_counter</a>, <a class="el" href="struct_generic_queue.html#ab8c8dc77de2c387f8a980a9c179388e1">GenericQueue::q_notify</a>, <a class="el" href="group__io__queues.html#gadfbe2a9b3e7477d3fd4026d61caf1fcd">Q_OK</a>, <a class="el" href="struct_generic_queue.html#acc1453d7bc5a4ceddba2166b72ba3b47">GenericQueue::q_rdptr</a>, <a class="el" href="struct_generic_queue.html#a2345976305f32ce54981ad1ee36e77be">GenericQueue::q_top</a>, and <a class="el" href="group__kernel__info.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>.</p>

</div>
</div>
<a class="anchor" id="ga804d2c02eecae1ca8354eaf0ad4a06c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void chOQInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__io__queues.html#gac7723f9b71300f4231db2b6e502f23c9">OutputQueue</a> *&#160;</td>
          <td class="paramname"><em>oqp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>bp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__io__queues.html#ga634b0cba8cf69b191e1fa76ca21d682a">qnotify_t</a>&#160;</td>
          <td class="paramname"><em>onfy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>link</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes an output queue. </p>
<p>A <a class="el" href="struct_semaphore.html" title="Semaphore structure. ">Semaphore</a> is internally initialized and works as a counter of the free bytes in the queue. </p><dl class="section note"><dt>Note</dt><dd>The callback is invoked from within the S-Locked system state, see <a class="el" href="concepts.html#system_states">System States</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">oqp</td><td>pointer to an <code>OutputQueue</code> structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bp</td><td>pointer to a memory area allocated as queue buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>size of the queue buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">onfy</td><td>pointer to a callback function that is invoked when data is written to the queue. The value can be <code>NULL</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">link</td><td>application defined pointer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Initializer, this function just initializes an object and can be invoked before the kernel is initialized. </dd></dl>

<p>Definition at line <a class="el" href="chqueues_8c_source.html#l00275">275</a> of file <a class="el" href="chqueues_8c_source.html">chqueues.c</a>.</p>

<p>References <a class="el" href="struct_generic_queue.html#a644ac8a420048012cf562a31e8c144c6">GenericQueue::q_buffer</a>, <a class="el" href="struct_generic_queue.html#a9cfe5c5928d6aebac4e7910de2619564">GenericQueue::q_counter</a>, <a class="el" href="struct_generic_queue.html#a47f6ed2db012183856518caac0d51814">GenericQueue::q_link</a>, <a class="el" href="struct_generic_queue.html#ab8c8dc77de2c387f8a980a9c179388e1">GenericQueue::q_notify</a>, <a class="el" href="struct_generic_queue.html#acc1453d7bc5a4ceddba2166b72ba3b47">GenericQueue::q_rdptr</a>, <a class="el" href="struct_generic_queue.html#a2345976305f32ce54981ad1ee36e77be">GenericQueue::q_top</a>, <a class="el" href="struct_generic_queue.html#a82d9b3aa2f95308cd8b500a96c6920cd">GenericQueue::q_waiting</a>, <a class="el" href="struct_generic_queue.html#a5cf5a39a1a57b15d1a2491edcbd72442">GenericQueue::q_wrptr</a>, and <a class="el" href="group__internals.html#ga6d19d0f3ff1fa599b6d9783dec180451">queue_init</a>.</p>

<p>Referenced by <a class="el" href="group___s_e_r_i_a_l.html#gacb9838adcf51106f4e481f41a851cc34">sdObjectInit()</a>, and <a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ga5199136afebc5c36bf4f91c092f47b65">sduObjectInit()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0a35a7de945e4b56b5fb5f5c8567e296"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void chOQResetI </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__io__queues.html#gac7723f9b71300f4231db2b6e502f23c9">OutputQueue</a> *&#160;</td>
          <td class="paramname"><em>oqp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets an output queue. </p>
<p>All the data in the output queue is erased and lost, any waiting thread is resumed with status <code>Q_RESET</code>. </p><dl class="section note"><dt>Note</dt><dd>A reset operation can be used by a low level driver in order to obtain immediate attention from the high level layers.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">oqp</td><td>pointer to an <code>OutputQueue</code> structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>This is an <b>I-Class</b> API, this function can be invoked from within a system lock zone by both threads and interrupt handlers. </dd></dl>

<p>Definition at line <a class="el" href="chqueues_8c_source.html#l00297">297</a> of file <a class="el" href="chqueues_8c_source.html">chqueues.c</a>.</p>

<p>References <a class="el" href="group__debug.html#ga3e4782dccbb385051e1eb01ac5b05470">chDbgCheckClassI()</a>, <a class="el" href="group__io__queues.html#ga3a267ae4c2b3c863968cff6c916fa632">chQSizeI</a>, <a class="el" href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298">chSchReadyI()</a>, <a class="el" href="group__internals.html#ga042479f09357fc59befebf4dfe0e9f4a">fifo_remove()</a>, <a class="el" href="group__internals.html#ga8f6bea56a53acc44758fe61c98d68a4e">notempty</a>, <a class="el" href="struct_thread.html#a72cd0424b6098ca241fac1f74d21b56a">Thread::p_u</a>, <a class="el" href="struct_generic_queue.html#a644ac8a420048012cf562a31e8c144c6">GenericQueue::q_buffer</a>, <a class="el" href="struct_generic_queue.html#a9cfe5c5928d6aebac4e7910de2619564">GenericQueue::q_counter</a>, <a class="el" href="struct_generic_queue.html#acc1453d7bc5a4ceddba2166b72ba3b47">GenericQueue::q_rdptr</a>, <a class="el" href="group__io__queues.html#gaef6ed06ced720075658356892318f92d">Q_RESET</a>, <a class="el" href="struct_generic_queue.html#a82d9b3aa2f95308cd8b500a96c6920cd">GenericQueue::q_waiting</a>, <a class="el" href="struct_generic_queue.html#a5cf5a39a1a57b15d1a2491edcbd72442">GenericQueue::q_wrptr</a>, and <a class="el" href="struct_thread.html#ad5792c30fbd60df0de223b0f398fc6d7">Thread::rdymsg</a>.</p>

<p>Referenced by <a class="el" href="group___s_e_r_i_a_l.html#gacb106a30f8007afdf9eeaf8681dbd3cf">sdStop()</a>, <a class="el" href="group___s_e_r_i_a_l___u_s_b.html#gafd2c21dbaa872a6d1476ccb01bd22435">sduConfigureHookI()</a>, and <a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ga9bf98cff1ce7b0b18b00e0bb77da98ae">sduStop()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__io__queues_ga0a35a7de945e4b56b5fb5f5c8567e296_cgraph.png" border="0" usemap="#group__io__queues_ga0a35a7de945e4b56b5fb5f5c8567e296_cgraph" alt=""/></div>
<map name="group__io__queues_ga0a35a7de945e4b56b5fb5f5c8567e296_cgraph" id="group__io__queues_ga0a35a7de945e4b56b5fb5f5c8567e296_cgraph">
<area shape="rect" id="node2" href="group__debug.html#ga3e4782dccbb385051e1eb01ac5b05470" title="I&#45;class functions context check. " alt="" coords="283,5,409,29"/><area shape="rect" id="node4" href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298" title="Inserts a thread in the Ready List. " alt="" coords="141,29,235,53"/><area shape="rect" id="node5" href="group__internals.html#ga042479f09357fc59befebf4dfe0e9f4a" title="Removes the first&#45;out Thread from a queue and returns it. " alt="" coords="143,77,233,101"/><area shape="rect" id="node3" href="group__debug.html#ga897718bcb144b5523b914633b0d824e1" title="Prints a panic message on the console and then halts the system. " alt="" coords="457,5,544,29"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga3df1926602eb698119990b311b097ad9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a> chOQPutTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__io__queues.html#gac7723f9b71300f4231db2b6e502f23c9">OutputQueue</a> *&#160;</td>
          <td class="paramname"><em>oqp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#gae3e32a98d431a02106616da3071832dd">systime_t</a>&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Output queue write with timeout. </p>
<p>This function writes a byte value to an output queue. If the queue is full then the calling thread is suspended until there is space in the queue or a timeout occurs. </p><dl class="section note"><dt>Note</dt><dd>The callback is invoked after writing the character into the buffer.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">oqp</td><td>pointer to an <code>OutputQueue</code> structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>the byte value to be written in the queue </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>the number of ticks before the operation timeouts, the following special values are allowed:<ul>
<li><em>TIME_IMMEDIATE</em> immediate timeout.</li>
<li><em>TIME_INFINITE</em> no timeout.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Q_OK</td><td>if the operation succeeded. </td></tr>
    <tr><td class="paramname">Q_TIMEOUT</td><td>if the specified time expired. </td></tr>
    <tr><td class="paramname">Q_RESET</td><td>if the queue has been reset.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="chqueues_8c_source.html#l00329">329</a> of file <a class="el" href="chqueues_8c_source.html">chqueues.c</a>.</p>

<p>References <a class="el" href="group__io__queues.html#ga0c8438437ef221267db8b3d87e87c3be">chOQIsFullI</a>, <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>, <a class="el" href="struct_generic_queue.html#a644ac8a420048012cf562a31e8c144c6">GenericQueue::q_buffer</a>, <a class="el" href="struct_generic_queue.html#a9cfe5c5928d6aebac4e7910de2619564">GenericQueue::q_counter</a>, <a class="el" href="struct_generic_queue.html#ab8c8dc77de2c387f8a980a9c179388e1">GenericQueue::q_notify</a>, <a class="el" href="group__io__queues.html#gadfbe2a9b3e7477d3fd4026d61caf1fcd">Q_OK</a>, <a class="el" href="struct_generic_queue.html#a2345976305f32ce54981ad1ee36e77be">GenericQueue::q_top</a>, and <a class="el" href="struct_generic_queue.html#a5cf5a39a1a57b15d1a2491edcbd72442">GenericQueue::q_wrptr</a>.</p>

</div>
</div>
<a class="anchor" id="ga34a5a71f39e94fcfdd88935da92a8ce9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__types.html#ga35bcb0c321cd7bc45bf1a11fa17ebdd3">msg_t</a> chOQGetI </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__io__queues.html#gac7723f9b71300f4231db2b6e502f23c9">OutputQueue</a> *&#160;</td>
          <td class="paramname"><em>oqp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Output queue read. </p>
<p>A byte value is read from the low end of an output queue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">oqp</td><td>pointer to an <code>OutputQueue</code> structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The byte value from the queue. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Q_EMPTY</td><td>if the queue is empty.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>This is an <b>I-Class</b> API, this function can be invoked from within a system lock zone by both threads and interrupt handlers. </dd></dl>

<p>Definition at line <a class="el" href="chqueues_8c_source.html#l00363">363</a> of file <a class="el" href="chqueues_8c_source.html">chqueues.c</a>.</p>

<p>References <a class="el" href="group__debug.html#ga3e4782dccbb385051e1eb01ac5b05470">chDbgCheckClassI()</a>, <a class="el" href="group__io__queues.html#ga63025b0d6a554982d8da2ef544f2fb04">chOQIsEmptyI</a>, <a class="el" href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298">chSchReadyI()</a>, <a class="el" href="group__internals.html#ga042479f09357fc59befebf4dfe0e9f4a">fifo_remove()</a>, <a class="el" href="group__internals.html#ga8f6bea56a53acc44758fe61c98d68a4e">notempty</a>, <a class="el" href="struct_thread.html#a72cd0424b6098ca241fac1f74d21b56a">Thread::p_u</a>, <a class="el" href="struct_generic_queue.html#a644ac8a420048012cf562a31e8c144c6">GenericQueue::q_buffer</a>, <a class="el" href="struct_generic_queue.html#a9cfe5c5928d6aebac4e7910de2619564">GenericQueue::q_counter</a>, <a class="el" href="group__io__queues.html#ga9d3fcfacb433cb513882db4515ac348b">Q_EMPTY</a>, <a class="el" href="group__io__queues.html#gadfbe2a9b3e7477d3fd4026d61caf1fcd">Q_OK</a>, <a class="el" href="struct_generic_queue.html#acc1453d7bc5a4ceddba2166b72ba3b47">GenericQueue::q_rdptr</a>, <a class="el" href="struct_generic_queue.html#a2345976305f32ce54981ad1ee36e77be">GenericQueue::q_top</a>, <a class="el" href="struct_generic_queue.html#a82d9b3aa2f95308cd8b500a96c6920cd">GenericQueue::q_waiting</a>, and <a class="el" href="struct_thread.html#ad5792c30fbd60df0de223b0f398fc6d7">Thread::rdymsg</a>.</p>

<p>Referenced by <a class="el" href="group___s_e_r_i_a_l.html#gafa1753aa30a6b79cc7e6de3e8a156fdc">sdRequestDataI()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__io__queues_ga34a5a71f39e94fcfdd88935da92a8ce9_cgraph.png" border="0" usemap="#group__io__queues_ga34a5a71f39e94fcfdd88935da92a8ce9_cgraph" alt=""/></div>
<map name="group__io__queues_ga34a5a71f39e94fcfdd88935da92a8ce9_cgraph" id="group__io__queues_ga34a5a71f39e94fcfdd88935da92a8ce9_cgraph">
<area shape="rect" id="node2" href="group__debug.html#ga3e4782dccbb385051e1eb01ac5b05470" title="I&#45;class functions context check. " alt="" coords="271,5,397,29"/><area shape="rect" id="node4" href="group__scheduler.html#ga535d58cfb3436c8d4e4586c31c062298" title="Inserts a thread in the Ready List. " alt="" coords="129,29,223,53"/><area shape="rect" id="node5" href="group__internals.html#ga042479f09357fc59befebf4dfe0e9f4a" title="Removes the first&#45;out Thread from a queue and returns it. " alt="" coords="131,77,221,101"/><area shape="rect" id="node3" href="group__debug.html#ga897718bcb144b5523b914633b0d824e1" title="Prints a panic message on the console and then halts the system. " alt="" coords="445,5,532,29"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga1e90d41fa021107d72b1bed81186aae8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t chOQWriteTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__io__queues.html#gac7723f9b71300f4231db2b6e502f23c9">OutputQueue</a> *&#160;</td>
          <td class="paramname"><em>oqp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>bp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__types.html#gae3e32a98d431a02106616da3071832dd">systime_t</a>&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Output queue write with timeout. </p>
<p>The function writes data from a buffer to an output queue. The operation completes when the specified amount of data has been transferred or after the specified timeout or if the queue has been reset. </p><dl class="section note"><dt>Note</dt><dd>The function is not atomic, if you need atomicity it is suggested to use a semaphore or a mutex for mutual exclusion. </dd>
<dd>
The callback is invoked after writing each character into the buffer.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">oqp</td><td>pointer to an <code>OutputQueue</code> structure </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">bp</td><td>pointer to the data buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>the maximum amount of data to be transferred, the value 0 is reserved </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>the number of ticks before the operation timeouts, the following special values are allowed:<ul>
<li><em>TIME_IMMEDIATE</em> immediate timeout.</li>
<li><em>TIME_INFINITE</em> no timeout.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes effectively transferred.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="chqueues_8c_source.html#l00406">406</a> of file <a class="el" href="chqueues_8c_source.html">chqueues.c</a>.</p>

<p>References <a class="el" href="group__debug.html#ga6bb6c0f97caab3a66332c8bfbf7a3844">chDbgCheck</a>, <a class="el" href="group__io__queues.html#ga0c8438437ef221267db8b3d87e87c3be">chOQIsFullI</a>, <a class="el" href="group__system.html#ga9f6573c0763d1e4e97c63c62edad6e42">chSysLock</a>, <a class="el" href="group__system.html#ga5a257fa58a09815eb64a45e2dfbdc22e">chSysUnlock</a>, <a class="el" href="struct_generic_queue.html#a644ac8a420048012cf562a31e8c144c6">GenericQueue::q_buffer</a>, <a class="el" href="struct_generic_queue.html#a9cfe5c5928d6aebac4e7910de2619564">GenericQueue::q_counter</a>, <a class="el" href="struct_generic_queue.html#ab8c8dc77de2c387f8a980a9c179388e1">GenericQueue::q_notify</a>, <a class="el" href="group__io__queues.html#gadfbe2a9b3e7477d3fd4026d61caf1fcd">Q_OK</a>, <a class="el" href="struct_generic_queue.html#a2345976305f32ce54981ad1ee36e77be">GenericQueue::q_top</a>, <a class="el" href="struct_generic_queue.html#a5cf5a39a1a57b15d1a2491edcbd72442">GenericQueue::q_wrptr</a>, and <a class="el" href="group__kernel__info.html#gaa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>.</p>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="gadfbe2a9b3e7477d3fd4026d61caf1fcd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Q_OK&#160;&#160;&#160;<a class="el" href="group__scheduler.html#gae1c86078318e11c2fa57ee3c2ec69f61">RDY_OK</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Operation successful. </p>

<p>Definition at line <a class="el" href="chqueues_8h_source.html#l00045">45</a> of file <a class="el" href="chqueues_8h_source.html">chqueues.h</a>.</p>

<p>Referenced by <a class="el" href="group__io__queues.html#ga142d0e885ac3a695f5f033a65f49abd0">chIQGetTimeout()</a>, <a class="el" href="group__io__queues.html#ga23b72ba9803de5a20caa84ffd0c193fc">chIQPutI()</a>, <a class="el" href="group__io__queues.html#gaddf6fc39af7d905c9f23afde14d8d764">chIQReadTimeout()</a>, <a class="el" href="group__io__queues.html#ga34a5a71f39e94fcfdd88935da92a8ce9">chOQGetI()</a>, <a class="el" href="group__io__queues.html#ga3df1926602eb698119990b311b097ad9">chOQPutTimeout()</a>, <a class="el" href="group__io__queues.html#ga1e90d41fa021107d72b1bed81186aae8">chOQWriteTimeout()</a>, <a class="el" href="group___s_e_r_i_a_l.html#gac94544bc991e2b85a601459463604346">sdIncomingDataI()</a>, and <a class="el" href="group___s_e_r_i_a_l.html#gafa1753aa30a6b79cc7e6de3e8a156fdc">sdRequestDataI()</a>.</p>

</div>
</div>
<a class="anchor" id="gaed5efaf47ab37022f69e8080610bcb8b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Q_TIMEOUT&#160;&#160;&#160;<a class="el" href="group__scheduler.html#gaf28d5427eeeb8f737cc7db495157780c">RDY_TIMEOUT</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Timeout condition. </p>

<p>Definition at line <a class="el" href="chqueues_8h_source.html#l00046">46</a> of file <a class="el" href="chqueues_8h_source.html">chqueues.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaef6ed06ced720075658356892318f92d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Q_RESET&#160;&#160;&#160;<a class="el" href="group__scheduler.html#ga3a606c833796229f23adcb3f6c404a81">RDY_RESET</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queue has been reset. </p>

<p>Definition at line <a class="el" href="chqueues_8h_source.html#l00047">47</a> of file <a class="el" href="chqueues_8h_source.html">chqueues.h</a>.</p>

<p>Referenced by <a class="el" href="group__io__queues.html#ga2252ca3e5d6ee6d8d323d025365aee59">chIQResetI()</a>, and <a class="el" href="group__io__queues.html#ga0a35a7de945e4b56b5fb5f5c8567e296">chOQResetI()</a>.</p>

</div>
</div>
<a class="anchor" id="ga9d3fcfacb433cb513882db4515ac348b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Q_EMPTY&#160;&#160;&#160;-3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queue empty. </p>

<p>Definition at line <a class="el" href="chqueues_8h_source.html#l00048">48</a> of file <a class="el" href="chqueues_8h_source.html">chqueues.h</a>.</p>

<p>Referenced by <a class="el" href="group__io__queues.html#ga34a5a71f39e94fcfdd88935da92a8ce9">chOQGetI()</a>.</p>

</div>
</div>
<a class="anchor" id="ga6c462ef0a5b01afbd0d94a8e1ac8575a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define Q_FULL&#160;&#160;&#160;-4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queue full,. </p>

<p>Definition at line <a class="el" href="chqueues_8h_source.html#l00049">49</a> of file <a class="el" href="chqueues_8h_source.html">chqueues.h</a>.</p>

<p>Referenced by <a class="el" href="group__io__queues.html#ga23b72ba9803de5a20caa84ffd0c193fc">chIQPutI()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3a267ae4c2b3c863968cff6c916fa632"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define chQSizeI</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">qp</td><td>)</td>
          <td>&#160;&#160;&#160;((size_t)((qp)-&gt;q_top - (qp)-&gt;q_buffer))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the queue's buffer size. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">qp</td><td>pointer to a <code><a class="el" href="struct_generic_queue.html" title="Generic I/O queue structure. ">GenericQueue</a></code> structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The buffer size.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>This is an <b>I-Class</b> API, this function can be invoked from within a system lock zone by both threads and interrupt handlers. </dd></dl>

<p>Definition at line <a class="el" href="chqueues_8h_source.html#l00093">93</a> of file <a class="el" href="chqueues_8h_source.html">chqueues.h</a>.</p>

<p>Referenced by <a class="el" href="group__io__queues.html#ga0a35a7de945e4b56b5fb5f5c8567e296">chOQResetI()</a>.</p>

</div>
</div>
<a class="anchor" id="ga4bd033c46fb1ca5eef53baa6d4e52e40"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define chQSpaceI</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">qp</td><td>)</td>
          <td>&#160;&#160;&#160;((qp)-&gt;q_counter)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queue space. </p>
<p>Returns the used space if used on an input queue or the empty space if used on an output queue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">qp</td><td>pointer to a <code><a class="el" href="struct_generic_queue.html" title="Generic I/O queue structure. ">GenericQueue</a></code> structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The buffer space.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>This is an <b>I-Class</b> API, this function can be invoked from within a system lock zone by both threads and interrupt handlers. </dd></dl>

<p>Definition at line <a class="el" href="chqueues_8h_source.html#l00105">105</a> of file <a class="el" href="chqueues_8h_source.html">chqueues.h</a>.</p>

</div>
</div>
<a class="anchor" id="gad2bcdd3d4b90fbe7760b19bfeacdcd56"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define chQGetLink</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">qp</td><td>)</td>
          <td>&#160;&#160;&#160;((qp)-&gt;q_link)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the queue application-defined link. </p>
<dl class="section note"><dt>Note</dt><dd>This function can be called in any context.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">qp</td><td>pointer to a <code><a class="el" href="struct_generic_queue.html" title="Generic I/O queue structure. ">GenericQueue</a></code> structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The application-defined link.</dd></dl>
<dl class="section user"><dt>Function Class:</dt><dd>Special function, this function has special requirements see the notes. </dd></dl>

<p>Definition at line <a class="el" href="chqueues_8h_source.html#l00116">116</a> of file <a class="el" href="chqueues_8h_source.html">chqueues.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaeb171620efe16ae202b5e61e80f93cdc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define chIQGetFullI</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">iqp</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__io__queues.html#ga4bd033c46fb1ca5eef53baa6d4e52e40">chQSpaceI</a>(iqp)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the filled space into an input queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iqp</td><td>pointer to an <code>InputQueue</code> structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of full bytes in the queue. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if the queue is empty.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>This is an <b>I-Class</b> API, this function can be invoked from within a system lock zone by both threads and interrupt handlers. </dd></dl>

<p>Definition at line <a class="el" href="chqueues_8h_source.html#l00145">145</a> of file <a class="el" href="chqueues_8h_source.html">chqueues.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaf41d17a23f240f355b822608b01cc581"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define chIQGetEmptyI</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">iqp</td><td>)</td>
          <td>&#160;&#160;&#160;(<a class="el" href="group__io__queues.html#ga3a267ae4c2b3c863968cff6c916fa632">chQSizeI</a>(iqp) - <a class="el" href="group__io__queues.html#ga4bd033c46fb1ca5eef53baa6d4e52e40">chQSpaceI</a>(iqp))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the empty space into an input queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iqp</td><td>pointer to an <code>InputQueue</code> structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of empty bytes in the queue. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if the queue is full.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>This is an <b>I-Class</b> API, this function can be invoked from within a system lock zone by both threads and interrupt handlers. </dd></dl>

<p>Definition at line <a class="el" href="chqueues_8h_source.html#l00156">156</a> of file <a class="el" href="chqueues_8h_source.html">chqueues.h</a>.</p>

<p>Referenced by <a class="el" href="group___s_e_r_i_a_l___u_s_b.html#ga68d19dfaea20b824a7bd786981ec2c3b">sduDataReceived()</a>.</p>

</div>
</div>
<a class="anchor" id="ga99d63c63c25506a3dddd8b24ec346651"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define chIQIsEmptyI</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">iqp</td><td>)</td>
          <td>&#160;&#160;&#160;((<a class="el" href="group__types.html#ga7556af1cb61728b53228fa3af1c851de">bool_t</a>)(<a class="el" href="group__io__queues.html#ga4bd033c46fb1ca5eef53baa6d4e52e40">chQSpaceI</a>(iqp) &lt;= 0))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Evaluates to <code>TRUE</code> if the specified input queue is empty. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iqp</td><td>pointer to an <code>InputQueue</code> structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The queue status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FALSE</td><td>if the queue is not empty. </td></tr>
    <tr><td class="paramname">TRUE</td><td>if the queue is empty.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>This is an <b>I-Class</b> API, this function can be invoked from within a system lock zone by both threads and interrupt handlers. </dd></dl>

<p>Definition at line <a class="el" href="chqueues_8h_source.html#l00168">168</a> of file <a class="el" href="chqueues_8h_source.html">chqueues.h</a>.</p>

<p>Referenced by <a class="el" href="group__io__queues.html#ga142d0e885ac3a695f5f033a65f49abd0">chIQGetTimeout()</a>, <a class="el" href="group__io__queues.html#gaddf6fc39af7d905c9f23afde14d8d764">chIQReadTimeout()</a>, and <a class="el" href="group___s_e_r_i_a_l.html#gac94544bc991e2b85a601459463604346">sdIncomingDataI()</a>.</p>

</div>
</div>
<a class="anchor" id="ga13389ed212747059b9bc2ac05c102dc1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define chIQIsFullI</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">iqp</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((<a class="code" href="group__types.html#ga7556af1cb61728b53228fa3af1c851de">bool_t</a>)(((iqp)-&gt;q_wrptr == (iqp)-&gt;q_rdptr) &amp;&amp;   \</div>
<div class="line">                                   ((iqp)-&gt;q_counter != 0)))</div>
<div class="ttc" id="group__types_html_ga7556af1cb61728b53228fa3af1c851de"><div class="ttname"><a href="group__types.html#ga7556af1cb61728b53228fa3af1c851de">bool_t</a></div><div class="ttdeci">int32_t bool_t</div><div class="ttdoc">Boolean, recommended the fastest signed. </div><div class="ttdef"><b>Definition:</b> <a href="kernel_2templates_2chtypes_8h_source.html#l00055">kernel/templates/chtypes.h:55</a></div></div>
</div><!-- fragment -->
<p>Evaluates to <code>TRUE</code> if the specified input queue is full. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iqp</td><td>pointer to an <code>InputQueue</code> structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The queue status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FALSE</td><td>if the queue is not full. </td></tr>
    <tr><td class="paramname">TRUE</td><td>if the queue is full.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>This is an <b>I-Class</b> API, this function can be invoked from within a system lock zone by both threads and interrupt handlers. </dd></dl>

<p>Definition at line <a class="el" href="chqueues_8h_source.html#l00180">180</a> of file <a class="el" href="chqueues_8h_source.html">chqueues.h</a>.</p>

<p>Referenced by <a class="el" href="group__io__queues.html#ga23b72ba9803de5a20caa84ffd0c193fc">chIQPutI()</a>.</p>

</div>
</div>
<a class="anchor" id="ga677247f42b796cedc0c0b58a15c11794"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define chIQGet</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">iqp</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__io__queues.html#ga142d0e885ac3a695f5f033a65f49abd0">chIQGetTimeout</a>(iqp, <a class="el" href="group__scheduler.html#gae1568cf3090c973c3bc47f86ae2f5afb">TIME_INFINITE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Input queue read. </p>
<p>This function reads a byte value from an input queue. If the queue is empty then the calling thread is suspended until a byte arrives in the queue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">iqp</td><td>pointer to an <code>InputQueue</code> structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A byte value from the queue. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Q_RESET</td><td>if the queue has been reset.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="chqueues_8h_source.html#l00195">195</a> of file <a class="el" href="chqueues_8h_source.html">chqueues.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga8d80a05423c64f417cee541e0f97341c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _INPUTQUEUE_DATA</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">buffer, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">size, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">inotify, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">link&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{               <a class="code" href="group__internals.html#ga9ac5ac4cb62a9baa48d2004876852112">\</a></div>
<div class="line"><a class="code" href="group__internals.html#ga9ac5ac4cb62a9baa48d2004876852112">  _THREADSQUEUE_DATA</a>(name),                                                 \</div>
<div class="line">  0,                                                                        \</div>
<div class="line">  (uint8_t *)(buffer),                                                      \</div>
<div class="line">  (uint8_t *)(buffer) + (size),                                             \</div>
<div class="line">  (uint8_t *)(buffer),                                                      \</div>
<div class="line">  (uint8_t *)(buffer),                                                      \</div>
<div class="line">  (inotify),                                                                \</div>
<div class="line">  (link)                                                                    \</div>
<div class="line">}</div>
<div class="ttc" id="group__internals_html_ga9ac5ac4cb62a9baa48d2004876852112"><div class="ttname"><a href="group__internals.html#ga9ac5ac4cb62a9baa48d2004876852112">_THREADSQUEUE_DATA</a></div><div class="ttdeci">#define _THREADSQUEUE_DATA(name)</div><div class="ttdoc">Data part of a static threads queue initializer. </div><div class="ttdef"><b>Definition:</b> <a href="chlists_8h_source.html#l00081">chlists.h:81</a></div></div>
</div><!-- fragment -->
<p>Data part of a static input queue initializer. </p>
<p>This macro should be used when statically initializing an input queue that is part of a bigger structure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>the name of the input queue variable </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>pointer to the queue buffer area </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>size of the queue buffer area </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">inotify</td><td>input notification callback pointer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">link</td><td>application defined pointer </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="chqueues_8h_source.html#l00209">209</a> of file <a class="el" href="chqueues_8h_source.html">chqueues.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga91bf8378f3a59a0ab3fd51d848b6555f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INPUTQUEUE_DECL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">buffer, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">size, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">inotify, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">link&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="group__io__queues.html#gab15bb5ea346b37cd021c6a658e86084b">InputQueue</a> name = <a class="el" href="group__io__queues.html#ga8d80a05423c64f417cee541e0f97341c">_INPUTQUEUE_DATA</a>(name, buffer, size, inotify, link)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Static input queue initializer. </p>
<p>Statically initialized input queues require no explicit initialization using <code><a class="el" href="group__io__queues.html#gaec09b1418fcd7ccd8295c433e51bb2de" title="Initializes an input queue. ">chIQInit()</a></code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>the name of the input queue variable </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>pointer to the queue buffer area </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>size of the queue buffer area </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">inotify</td><td>input notification callback pointer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">link</td><td>application defined pointer </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="chqueues_8h_source.html#l00231">231</a> of file <a class="el" href="chqueues_8h_source.html">chqueues.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga3b300bc9b37a3e0f53140a3ea6e85a54"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define chOQGetFullI</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">oqp</td><td>)</td>
          <td>&#160;&#160;&#160;(<a class="el" href="group__io__queues.html#ga3a267ae4c2b3c863968cff6c916fa632">chQSizeI</a>(oqp) - <a class="el" href="group__io__queues.html#ga4bd033c46fb1ca5eef53baa6d4e52e40">chQSpaceI</a>(oqp))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the filled space into an output queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">oqp</td><td>pointer to an <code>OutputQueue</code> structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of full bytes in the queue. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if the queue is empty.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>This is an <b>I-Class</b> API, this function can be invoked from within a system lock zone by both threads and interrupt handlers. </dd></dl>

<p>Definition at line <a class="el" href="chqueues_8h_source.html#l00260">260</a> of file <a class="el" href="chqueues_8h_source.html">chqueues.h</a>.</p>

<p>Referenced by <a class="el" href="group___s_e_r_i_a_l___u_s_b.html#gac9fd9a889dd9b7be13025303589882b9">sduDataTransmitted()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5ffdc2af382d807369f094f0b6e25c4b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define chOQGetEmptyI</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">oqp</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__io__queues.html#ga4bd033c46fb1ca5eef53baa6d4e52e40">chQSpaceI</a>(oqp)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the empty space into an output queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">oqp</td><td>pointer to an <code>OutputQueue</code> structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of empty bytes in the queue. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>if the queue is full.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>This is an <b>I-Class</b> API, this function can be invoked from within a system lock zone by both threads and interrupt handlers. </dd></dl>

<p>Definition at line <a class="el" href="chqueues_8h_source.html#l00271">271</a> of file <a class="el" href="chqueues_8h_source.html">chqueues.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga63025b0d6a554982d8da2ef544f2fb04"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define chOQIsEmptyI</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">oqp</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((<a class="code" href="group__types.html#ga7556af1cb61728b53228fa3af1c851de">bool_t</a>)(((oqp)-&gt;q_wrptr == (oqp)-&gt;q_rdptr) &amp;&amp;   \</div>
<div class="line">                                    ((oqp)-&gt;q_counter != 0)))</div>
<div class="ttc" id="group__types_html_ga7556af1cb61728b53228fa3af1c851de"><div class="ttname"><a href="group__types.html#ga7556af1cb61728b53228fa3af1c851de">bool_t</a></div><div class="ttdeci">int32_t bool_t</div><div class="ttdoc">Boolean, recommended the fastest signed. </div><div class="ttdef"><b>Definition:</b> <a href="kernel_2templates_2chtypes_8h_source.html#l00055">kernel/templates/chtypes.h:55</a></div></div>
</div><!-- fragment -->
<p>Evaluates to <code>TRUE</code> if the specified output queue is empty. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">oqp</td><td>pointer to an <code>OutputQueue</code> structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The queue status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FALSE</td><td>if the queue is not empty. </td></tr>
    <tr><td class="paramname">TRUE</td><td>if the queue is empty.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>This is an <b>I-Class</b> API, this function can be invoked from within a system lock zone by both threads and interrupt handlers. </dd></dl>

<p>Definition at line <a class="el" href="chqueues_8h_source.html#l00283">283</a> of file <a class="el" href="chqueues_8h_source.html">chqueues.h</a>.</p>

<p>Referenced by <a class="el" href="group__io__queues.html#ga34a5a71f39e94fcfdd88935da92a8ce9">chOQGetI()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0c8438437ef221267db8b3d87e87c3be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define chOQIsFullI</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">oqp</td><td>)</td>
          <td>&#160;&#160;&#160;((<a class="el" href="group__types.html#ga7556af1cb61728b53228fa3af1c851de">bool_t</a>)(<a class="el" href="group__io__queues.html#ga4bd033c46fb1ca5eef53baa6d4e52e40">chQSpaceI</a>(oqp) &lt;= 0))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Evaluates to <code>TRUE</code> if the specified output queue is full. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">oqp</td><td>pointer to an <code>OutputQueue</code> structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The queue status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">FALSE</td><td>if the queue is not full. </td></tr>
    <tr><td class="paramname">TRUE</td><td>if the queue is full.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>This is an <b>I-Class</b> API, this function can be invoked from within a system lock zone by both threads and interrupt handlers. </dd></dl>

<p>Definition at line <a class="el" href="chqueues_8h_source.html#l00296">296</a> of file <a class="el" href="chqueues_8h_source.html">chqueues.h</a>.</p>

<p>Referenced by <a class="el" href="group__io__queues.html#ga3df1926602eb698119990b311b097ad9">chOQPutTimeout()</a>, and <a class="el" href="group__io__queues.html#ga1e90d41fa021107d72b1bed81186aae8">chOQWriteTimeout()</a>.</p>

</div>
</div>
<a class="anchor" id="ga825aba08aea4a6ac97a763404265956b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define chOQPut</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">oqp, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="group__io__queues.html#ga3df1926602eb698119990b311b097ad9">chOQPutTimeout</a>(oqp, b, <a class="el" href="group__scheduler.html#gae1568cf3090c973c3bc47f86ae2f5afb">TIME_INFINITE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Output queue write. </p>
<p>This function writes a byte value to an output queue. If the queue is full then the calling thread is suspended until there is space in the queue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">oqp</td><td>pointer to an <code>OutputQueue</code> structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>the byte value to be written in the queue </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The operation status. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Q_OK</td><td>if the operation succeeded. </td></tr>
    <tr><td class="paramname">Q_RESET</td><td>if the queue has been reset.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Function Class:</dt><dd>Normal API, this function can be invoked by regular system threads but not from within a lock zone. </dd></dl>

<p>Definition at line <a class="el" href="chqueues_8h_source.html#l00312">312</a> of file <a class="el" href="chqueues_8h_source.html">chqueues.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga92435bfe462920042317f1cc68b35006"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _OUTPUTQUEUE_DATA</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">buffer, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">size, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">onotify, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">link&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{              <a class="code" href="group__internals.html#ga9ac5ac4cb62a9baa48d2004876852112">\</a></div>
<div class="line"><a class="code" href="group__internals.html#ga9ac5ac4cb62a9baa48d2004876852112">  _THREADSQUEUE_DATA</a>(name),                                                 \</div>
<div class="line">  (size),                                                                   \</div>
<div class="line">  (uint8_t *)(buffer),                                                      \</div>
<div class="line">  (uint8_t *)(buffer) + (size),                                             \</div>
<div class="line">  (uint8_t *)(buffer),                                                      \</div>
<div class="line">  (uint8_t *)(buffer),                                                      \</div>
<div class="line">  (onotify),                                                                \</div>
<div class="line">  (link)                                                                    \</div>
<div class="line">}</div>
<div class="ttc" id="group__internals_html_ga9ac5ac4cb62a9baa48d2004876852112"><div class="ttname"><a href="group__internals.html#ga9ac5ac4cb62a9baa48d2004876852112">_THREADSQUEUE_DATA</a></div><div class="ttdeci">#define _THREADSQUEUE_DATA(name)</div><div class="ttdoc">Data part of a static threads queue initializer. </div><div class="ttdef"><b>Definition:</b> <a href="chlists_8h_source.html#l00081">chlists.h:81</a></div></div>
</div><!-- fragment -->
<p>Data part of a static output queue initializer. </p>
<p>This macro should be used when statically initializing an output queue that is part of a bigger structure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>the name of the output queue variable </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>pointer to the queue buffer area </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>size of the queue buffer area </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">onotify</td><td>output notification callback pointer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">link</td><td>application defined pointer </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="chqueues_8h_source.html#l00326">326</a> of file <a class="el" href="chqueues_8h_source.html">chqueues.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga4bebf842ec24b1291ab73d20ac525745"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OUTPUTQUEUE_DECL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">buffer, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">size, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">onotify, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">link&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="group__io__queues.html#gac7723f9b71300f4231db2b6e502f23c9">OutputQueue</a> name = <a class="el" href="group__io__queues.html#ga92435bfe462920042317f1cc68b35006">_OUTPUTQUEUE_DATA</a>(name, buffer, size, onotify, link)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Static output queue initializer. </p>
<p>Statically initialized output queues require no explicit initialization using <code><a class="el" href="group__io__queues.html#ga804d2c02eecae1ca8354eaf0ad4a06c8" title="Initializes an output queue. ">chOQInit()</a></code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>the name of the output queue variable </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buffer</td><td>pointer to the queue buffer area </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>size of the queue buffer area </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">onotify</td><td>output notification callback pointer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">link</td><td>application defined pointer </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="chqueues_8h_source.html#l00348">348</a> of file <a class="el" href="chqueues_8h_source.html">chqueues.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="gac3f831073d2ea0a3ca6bedd62e46aab2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct_generic_queue.html">GenericQueue</a> <a class="el" href="struct_generic_queue.html">GenericQueue</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of a generic I/O queue structure. </p>

<p>Definition at line <a class="el" href="chqueues_8h_source.html#l00055">55</a> of file <a class="el" href="chqueues_8h_source.html">chqueues.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga634b0cba8cf69b191e1fa76ca21d682a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* qnotify_t) (<a class="el" href="struct_generic_queue.html">GenericQueue</a> *qp)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queue notification callback type. </p>

<p>Definition at line <a class="el" href="chqueues_8h_source.html#l00058">58</a> of file <a class="el" href="chqueues_8h_source.html">chqueues.h</a>.</p>

</div>
</div>
<a class="anchor" id="gab15bb5ea346b37cd021c6a658e86084b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="struct_generic_queue.html">GenericQueue</a> <a class="el" href="group__io__queues.html#gab15bb5ea346b37cd021c6a658e86084b">InputQueue</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of an input queue structure. </p>
<p>This structure represents a generic asymmetrical input queue. Writing to the queue is non-blocking and can be performed from interrupt handlers or from within a kernel lock zone (see <b>I-Locked</b> and <b>S-Locked</b> states in <a class="el" href="concepts.html#system_states">System States</a>). Reading the queue can be a blocking operation and is supposed to be performed by a system thread. </p>

<p>Definition at line <a class="el" href="chqueues_8h_source.html#l00130">130</a> of file <a class="el" href="chqueues_8h_source.html">chqueues.h</a>.</p>

</div>
</div>
<a class="anchor" id="gac7723f9b71300f4231db2b6e502f23c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="struct_generic_queue.html">GenericQueue</a> <a class="el" href="group__io__queues.html#gac7723f9b71300f4231db2b6e502f23c9">OutputQueue</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of an output queue structure. </p>
<p>This structure represents a generic asymmetrical output queue. Reading from the queue is non-blocking and can be performed from interrupt handlers or from within a kernel lock zone (see <b>I-Locked</b> and <b>S-Locked</b> states in <a class="el" href="concepts.html#system_states">System States</a>). Writing the queue can be a blocking operation and is supposed to be performed by a system thread. </p>

<p>Definition at line <a class="el" href="chqueues_8h_source.html#l00245">245</a> of file <a class="el" href="chqueues_8h_source.html">chqueues.h</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
    <li class="footer">
      <a href="http://sourceforge.net/projects/chibios">
        <img src="http://sflogo.sourceforge.net/sflogo.php?group_id=205897&amp;type=11"
             border="0" width="120" height="30"
             alt="Get ChibiOS/RT embedded RTOS at SourceForge.net. Fast,
                  secure and Free Open Source software downloads"/>
      </a>
    </li>
  </ul>
</div>
<!-- Piwik -->
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? "https://apps.sourceforge.net/piwik/chibios/" : "http://apps.sourceforge.net/piwik/chibios/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
piwik_action_name = '';
piwik_idsite = 1;
piwik_url = pkBaseURL + "piwik.php";
piwik_log(piwik_action_name, piwik_idsite, piwik_url);
</script>
<object><noscript><p><img src="http://apps.sourceforge.net/piwik/chibios/piwik.php?idsite=1" alt="piwik"/></p></noscript></object>
<!-- End Piwik Tag -->
</body>
</html>
